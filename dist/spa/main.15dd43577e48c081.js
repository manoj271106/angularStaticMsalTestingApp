"use strict";(self.webpackChunkSPA=self.webpackChunkSPA||[]).push([[179],{6:()=>{function Fe(n){return"function"==typeof n}function ia(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Zc=ia(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Bo(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class nn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(o){t=o instanceof Zc?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ty(o)}catch(s){t=t??[],s instanceof Zc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Zc(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ty(t);else{if(t instanceof nn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Bo(e,t)}remove(t){const{_finalizers:e}=this;e&&Bo(e,t),t instanceof nn&&t._removeParent(this)}}nn.EMPTY=(()=>{const n=new nn;return n.closed=!0,n})();const Xv=nn.EMPTY;function ey(n){return n instanceof nn||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function ty(n){Fe(n)?n():n.unsubscribe()}const Yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xc={setTimeout(n,t,...e){const{delegate:r}=Xc;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Xc;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ny(n){Xc.setTimeout(()=>{const{onUnhandledError:t}=Yi;if(!t)throw n;t(n)})}function uh(){}const ZM=dh("C",void 0,void 0);function dh(n,t,e){return{kind:n,value:t,error:e}}let Ji=null;function el(n){if(Yi.useDeprecatedSynchronousErrorHandling){const t=!Ji;if(t&&(Ji={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=Ji;if(Ji=null,e)throw r}}else n()}class hh extends nn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ey(t)&&t.add(this)):this.destination=s0}static create(t,e,r){return new oa(t,e,r)}next(t){this.isStopped?ph(function e0(n){return dh("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ph(function XM(n){return dh("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ph(ZM,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const n0=Function.prototype.bind;function fh(n,t){return n0.call(n,t)}class r0{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){tl(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){tl(r)}else tl(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){tl(e)}}}class oa extends hh{constructor(t,e,r){let i;if(super(),Fe(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Yi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&fh(t.next,o),error:t.error&&fh(t.error,o),complete:t.complete&&fh(t.complete,o)}):i=t}this.destination=new r0(i)}}function tl(n){Yi.useDeprecatedSynchronousErrorHandling?function t0(n){Yi.useDeprecatedSynchronousErrorHandling&&Ji&&(Ji.errorThrown=!0,Ji.error=n)}(n):ny(n)}function ph(n,t){const{onStoppedNotification:e}=Yi;e&&Xc.setTimeout(()=>e(n,t))}const s0={closed:!0,next:uh,error:function o0(n){throw n},complete:uh},mh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ei(n){return n}function ry(n){return 0===n.length?Ei:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let Xe=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function l0(n){return n&&n instanceof hh||function c0(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}(n)&&ey(n)}(e)?e:new oa(e,r,i);return el(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=iy(r))((i,o)=>{const s=new oa({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[mh](){return this}pipe(...e){return ry(e)(this)}toPromise(e){return new(e=iy(e))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function iy(n){var t;return null!==(t=n??Yi.Promise)&&void 0!==t?t:Promise}const u0=ia(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class n extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new oy(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new u0}next(e){el(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){el(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){el(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Xv:(this.currentObservers=null,o.push(e),new nn(()=>{this.currentObservers=null,Bo(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new Xe;return e.source=this,e}}return n.create=(t,e)=>new oy(t,e),n})();class oy extends et{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:Xv}}function sy(n){return Fe(n?.lift)}function ct(n){return t=>{if(sy(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(n,t,e,r,i){return new d0(n,t,e,r,i)}class d0 extends hh{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function X(n,t){return ct((e,r)=>{let i=0;e.subscribe(tt(r,o=>{r.next(n.call(t,o,i++))}))})}function Si(n){return this instanceof Si?(this.v=n,this):new Si(n)}function ly(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof Si?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function uy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function _h(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const dy=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function hy(n){return Fe(n?.then)}function fy(n){return Fe(n[mh])}function py(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function my(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gy=function O0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vy(n){return Fe(n?.[gy])}function yy(n){return ly(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield Si(e.read());if(i)return yield Si(void 0);yield yield Si(r)}}finally{e.releaseLock()}})}function _y(n){return Fe(n?.getReader)}function An(n){if(n instanceof Xe)return n;if(null!=n){if(fy(n))return function x0(n){return new Xe(t=>{const e=n[mh]();if(Fe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(dy(n))return function P0(n){return new Xe(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(hy(n))return function F0(n){return new Xe(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ny)})}(n);if(py(n))return Cy(n);if(vy(n))return function L0(n){return new Xe(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(_y(n))return function U0(n){return Cy(yy(n))}(n)}throw my(n)}function Cy(n){return new Xe(t=>{(function B0(n,t){var e,r,i,o;return function ay(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=uy(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function $r(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Pt(n,t,e=1/0){return Fe(t)?Pt((r,i)=>X((o,s)=>t(r,o,i,s))(An(n(r,i))),e):("number"==typeof t&&(e=t),ct((r,i)=>function V0(n,t,e,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&t.complete()},f=m=>l<r?p(m):c.push(m),p=m=>{o&&t.next(m),l++;let g=!1;An(e(m,u++)).subscribe(tt(t,y=>{i?.(y),o?f(y):t.next(y)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<r;){const y=c.shift();s?$r(t,s,()=>p(y)):p(y)}h()}catch(y){t.error(y)}}))};return n.subscribe(tt(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,e)))}function Vo(n=1/0){return Pt(Ei,n)}const Kr=new Xe(n=>n.complete());function wy(n){return n&&Fe(n.schedule)}function Ch(n){return n[n.length-1]}function sa(n){return wy(Ch(n))?n.pop():void 0}function Ey(n,t=0){return ct((e,r)=>{e.subscribe(tt(r,i=>$r(r,n,()=>r.next(i),t),()=>$r(r,n,()=>r.complete(),t),i=>$r(r,n,()=>r.error(i),t)))})}function Sy(n,t=0){return ct((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Ty(n,t){if(!n)throw new Error("Iterable cannot be null");return new Xe(e=>{$r(e,t,()=>{const r=n[Symbol.asyncIterator]();$r(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function be(n,t){return t?function W0(n,t){if(null!=n){if(fy(n))return function z0(n,t){return An(n).pipe(Sy(t),Ey(t))}(n,t);if(dy(n))return function q0(n,t){return new Xe(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(hy(n))return function G0(n,t){return An(n).pipe(Sy(t),Ey(t))}(n,t);if(py(n))return Ty(n,t);if(vy(n))return function $0(n,t){return new Xe(e=>{let r;return $r(e,t,()=>{r=n[gy](),$r(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void e.error(s)}o?e.complete():e.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(n,t);if(_y(n))return function K0(n,t){return Ty(yy(n),t)}(n,t)}throw my(n)}(n,t):An(n)}function wh(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new oa({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function Ve(n){for(let t in n)if(n[t]===Ve)return t;throw Error("Could not find renamed property on target object.")}function bh(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function He(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(He).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Eh(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Y0=Ve({__forward_ref__:Ve});function Le(n){return n.__forward_ref__=Le,n.toString=function(){return He(this())},n}function ee(n){return Sh(n)?n():n}function Sh(n){return"function"==typeof n&&n.hasOwnProperty(Y0)&&n.__forward_ref__===Le}class E extends Error{constructor(t,e){super(function nl(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function se(n){return"string"==typeof n?n:null==n?"":String(n)}function rl(n,t){throw new E(-201,!1)}function Rn(n,t){null==n&&function Me(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Re(n){return{providers:n.providers||[],imports:n.imports||[]}}function il(n){return Dy(n,ol)||Dy(n,My)}function Dy(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ay(n){return n&&(n.hasOwnProperty(Th)||n.hasOwnProperty(oR))?n[Th]:null}const ol=Ve({\u0275prov:Ve}),Th=Ve({\u0275inj:Ve}),My=Ve({ngInjectableDef:Ve}),oR=Ve({ngInjectorDef:Ve});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let Ih;function qn(n){const t=Ih;return Ih=n,t}function Ry(n,t,e){const r=il(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Y.Optional?null:void 0!==t?t:void rl(He(n))}function Ti(n){return{toString:n}.toString()}var rr=(()=>((rr=rr||{})[rr.OnPush=0]="OnPush",rr[rr.Default=1]="Default",rr))(),ir=(()=>{return(n=ir||(ir={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ir;var n})();const ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ho={},Te=[],sl=Ve({\u0275cmp:Ve}),Dh=Ve({\u0275dir:Ve}),Ah=Ve({\u0275pipe:Ve}),ky=Ve({\u0275mod:Ve}),Qr=Ve({\u0275fac:Ve}),aa=Ve({__NG_ELEMENT_ID__:Ve});let aR=0;function nt(n){return Ti(()=>{const e=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Te,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ir.Emulated,id:"c"+aR++,styles:n.styles||Te,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=xy(n.inputs,r),i.outputs=xy(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Ny).filter(Oy):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(on).filter(Oy):null,i})}function Ny(n){return xe(n)||rn(n)}function Oy(n){return null!==n}function Oe(n){return Ti(()=>({type:n.type,bootstrap:n.bootstrap||Te,declarations:n.declarations||Te,imports:n.imports||Te,exports:n.exports||Te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xy(n,t){if(null==n)return Ho;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const R=nt;function xe(n){return n[sl]||null}function rn(n){return n[Dh]||null}function on(n){return n[Ah]||null}function kn(n,t){const e=n[ky]||null;if(!e&&!0===t)throw new Error(`Type ${He(n)} does not have '\u0275mod' property.`);return e}function pn(n){return Array.isArray(n)&&"object"==typeof n[1]}function sr(n){return Array.isArray(n)&&!0===n[1]}function kh(n){return 0!=(8&n.flags)}function ul(n){return 2==(2&n.flags)}function dl(n){return 1==(1&n.flags)}function ar(n){return null!==n.template}function fR(n){return 0!=(256&n[2])}function no(n,t){return n.hasOwnProperty(Qr)?n[Qr]:null}class gR{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function qt(){return Ly}function Ly(n){return n.type.prototype.ngOnChanges&&(n.setInput=yR),vR}function vR(){const n=By(this),t=n?.current;if(t){const e=n.previous;if(e===Ho)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function yR(n,t,e,r){const i=By(n)||function _R(n,t){return n[Uy]=t}(n,{previous:Ho,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[e],c=s[a];o[a]=new gR(c&&c.currentValue,t,s===Ho),n[r]=t}qt.ngInherit=!0;const Uy="__ngSimpleChanges__";function By(n){return n[Uy]||null}function mt(n){for(;Array.isArray(n);)n=n[0];return n}function hl(n,t){return mt(t[n])}function On(n,t){return mt(t[n.index])}function Fh(n,t){return n.data[t]}function xn(n,t){const e=t[n];return pn(e)?e:e[0]}function fl(n){return 64==(64&n[2])}function Ii(n,t){return null==t?null:n[t]}function Vy(n){n[18]=0}function Lh(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const ie={lFrame:Yy(null),bindingsEnabled:!0};function jy(){return ie.bindingsEnabled}function T(){return ie.lFrame.lView}function ve(){return ie.lFrame.tView}function pl(n){return ie.lFrame.contextLView=n,n[8]}function ml(n){return ie.lFrame.contextLView=null,n}function St(){let n=zy();for(;null!==n&&64===n.type;)n=n.parent;return n}function zy(){return ie.lFrame.currentTNode}function wr(n,t){const e=ie.lFrame;e.currentTNode=n,e.isParent=t}function Uh(){return ie.lFrame.isParent}function Bh(){ie.lFrame.isParent=!1}function Ko(){return ie.lFrame.bindingIndex++}function xR(n,t){const e=ie.lFrame;e.bindingIndex=e.bindingRootIndex=n,Vh(t)}function Vh(n){ie.lFrame.currentDirectiveIndex=n}function Ky(){return ie.lFrame.currentQueryIndex}function jh(n){ie.lFrame.currentQueryIndex=n}function FR(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Wy(n,t,e){if(e&Y.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&Y.Host||(i=FR(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,n=o}const r=ie.lFrame=Qy();return r.currentTNode=t,r.lView=n,!0}function zh(n){const t=Qy(),e=n[1];ie.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Qy(){const n=ie.lFrame,t=null===n?null:n.child;return null===t?Yy(n):t}function Yy(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Jy(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Zy=Jy;function Gh(){const n=Jy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function an(){return ie.lFrame.selectedIndex}function Di(n){ie.lFrame.selectedIndex=n}function it(){const n=ie.lFrame;return Fh(n.tView,n.selectedIndex)}function gl(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-e,c),l&&((n.viewHooks||(n.viewHooks=[])).push(e,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,l)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function vl(n,t,e){Xy(n,t,3,e)}function yl(n,t,e,r){(3&n[2])===e&&Xy(n,t,e,r)}function qh(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Xy(n,t,e,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&n[18]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(n[18]+=65536),(a<o||-1==o)&&(qR(n,e,t,c),n[18]=(4294901760&n[18])+c+2),c++}function qR(n,t,e,r){const i=e[r]<0,o=e[r+1],a=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class fa{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function _l(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{const o=i,s=e[++r];t_(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function e_(n){return 3===n||4===n||6===n}function t_(n){return 64===n.charCodeAt(0)}function Cl(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||n_(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function n_(n,t,e,r,i){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function r_(n){return-1!==n}function Wo(n){return 32767&n}function Qo(n,t){let e=function YR(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let Kh=!0;function wl(n){const t=Kh;return Kh=n,t}let JR=0;const br={};function ma(n,t){const e=Qh(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,Wh(r.data,n),Wh(t,null),Wh(r.blueprint,null));const i=bl(n,t),o=n.injectorIndex;if(r_(i)){const s=Wo(i),a=Qo(i,t),c=a[1].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Wh(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Qh(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function bl(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=h_(i),null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function El(n,t,e){!function ZR(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(aa)&&(r=e[aa]),null==r&&(r=e[aa]=JR++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function s_(n,t,e){if(e&Y.Optional||void 0!==n)return n;rl()}function a_(n,t,e,r){if(e&Y.Optional&&void 0===r&&(r=null),0==(e&(Y.Self|Y.Host))){const i=n[9],o=qn(void 0);try{return i?i.get(t,r,e&Y.Optional):Ry(t,r,e&Y.Optional)}finally{qn(o)}}return s_(r,0,e)}function c_(n,t,e,r=Y.Default,i){if(null!==n){if(1024&t[2]){const s=function rk(n,t,e,r,i){let o=n,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=l_(o,s,e,r|Y.Self,br);if(a!==br)return a;let c=o.parent;if(!c){const l=s[21];if(l){const u=l.get(e,br,r);if(u!==br)return u}c=h_(s),s=s[15]}o=c}return i}(n,t,e,r,br);if(s!==br)return s}const o=l_(n,t,e,r,br);if(o!==br)return o}return a_(t,e,r,i)}function l_(n,t,e,r,i){const o=function tk(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(aa)?n[aa]:void 0;return"number"==typeof t?t>=0?255&t:nk:t}(e);if("function"==typeof o){if(!Wy(t,n,r))return r&Y.Host?s_(i,0,r):a_(t,e,r,i);try{const s=o(r);if(null!=s||r&Y.Optional)return s;rl()}finally{Zy()}}else if("number"==typeof o){let s=null,a=Qh(n,t),c=-1,l=r&Y.Host?t[16][6]:null;for((-1===a||r&Y.SkipSelf)&&(c=-1===a?bl(n,t):t[a+8],-1!==c&&d_(r,!1)?(s=t[1],a=Wo(c),t=Qo(c,t)):a=-1);-1!==a;){const u=t[1];if(u_(o,a,u.data)){const d=ek(a,t,e,s,r,l);if(d!==br)return d}c=t[a+8],-1!==c&&d_(r,t[1].data[a+8]===l)&&u_(o,a,t)?(s=u,a=Wo(c),t=Qo(c,t)):a=-1}}return i}function ek(n,t,e,r,i,o){const s=t[1],a=s.data[n+8],u=Sl(a,s,e,null==r?ul(a)&&Kh:r!=s&&0!=(3&a.type),i&Y.Host&&o===a);return null!==u?ga(t,s,u,a):br}function Sl(n,t,e,r,i){const o=n.providerIndexes,s=t.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<c&&e===p||f>=c&&p.type===e)return f}if(i){const f=s[c];if(f&&ar(f)&&f.type===e)return c}return null}function ga(n,t,e,r){let i=n[e];const o=t.data;if(function $R(n){return n instanceof fa}(i)){const s=i;s.resolving&&function J0(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new E(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Se(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():se(n)}(o[e]));const a=wl(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?qn(s.injectImpl):null;Wy(n,r,Y.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function GR(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Ly(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==c&&qn(c),wl(a),s.resolving=!1,Zy()}}return i}function u_(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function d_(n,t){return!(n&Y.Self||n&Y.Host&&t)}class Yo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return c_(this._tNode,this._lView,t,r,e)}}function nk(){return new Yo(St(),T())}function Ee(n){return Ti(()=>{const t=n.prototype.constructor,e=t[Qr]||Yh(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Qr]||Yh(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yh(n){return Sh(n)?()=>{const t=Yh(ee(n));return t&&t()}:no(n)}function h_(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function Jo(n){return function XR(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(e_(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(St(),n)}const Xo="__parameters__";function ts(n,t,e){return Ti(()=>{const r=function Jh(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Xo)?c[Xo]:Object.defineProperty(c,Xo,{value:[]})[Xo];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class N{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=H({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Pn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),Pn(r,t)):t!==n&&t.push(r)}return t}function Zr(n,t){n.forEach(e=>Array.isArray(e)?Zr(e,t):t(e))}function p_(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Tl(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function _a(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function Fn(n,t,e){let r=ns(n,t);return r>=0?n[1|r]=e:(r=~r,function ak(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function Xh(n,t){const e=ns(n,t);if(e>=0)return n[1|e]}function ns(n,t){return function v_(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const Ca={},tf="__NG_DI_FLAG__",Dl="ngTempTokenPath",mk=/\n/gm,y_="__source";let wa;function rs(n){const t=wa;return wa=n,t}function vk(n,t=Y.Default){if(void 0===wa)throw new E(-203,!1);return null===wa?Ry(n,void 0,t):wa.get(n,t&Y.Optional?null:void 0,t)}function S(n,t=Y.Default){return(function sR(){return Ih}()||vk)(ee(n),t)}function Qe(n,t=Y.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),S(n,t)}function nf(n){const t=[];for(let e=0;e<n.length;e++){const r=ee(n[e]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=Y.Default;for(let s=0;s<r.length;s++){const a=r[s],c=yk(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(S(i,o))}else t.push(S(r))}return t}function ba(n,t){return n[tf]=t,n.prototype[tf]=t,n}function yk(n){return n[tf]}const Mi=ba(ts("Optional"),8),is=ba(ts("SkipSelf"),4);var mn=(()=>((mn=mn||{})[mn.Important=1]="Important",mn[mn.DashCase=2]="DashCase",mn))();const lf=new Map;let Fk=0;const df="__ngContext__";function $t(n,t){pn(t)?(n[df]=t[20],function Uk(n){lf.set(n[20],n)}(t)):n[df]=t}function ff(n,t){return undefined(n,t)}function Ia(n){const t=n[3];return sr(t)?t[3]:t}function pf(n){return B_(n[13])}function mf(n){return B_(n[4])}function B_(n){for(;null!==n&&!sr(n);)n=n[4];return n}function ss(n,t,e,r,i){if(null!=r){let o,s=!1;sr(r)?o=r:pn(r)&&(s=!0,r=r[0]);const a=mt(r);0===n&&null!==e?null==i?q_(t,e,a):ro(t,e,a,i||null,!0):1===n&&null!==e?ro(t,e,a,i||null,!0):2===n?function bf(n,t,e){const r=Rl(n,t);r&&function sN(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function lN(n,t,e,r,i){const o=e[7];o!==mt(e)&&ss(t,n,r,o,i);for(let a=10;a<e.length;a++){const c=e[a];Da(c[1],c,n,t,r,o)}}(t,n,o,e,i)}}function vf(n,t,e){return n.createElement(t,e)}function H_(n,t){const e=n[9],r=e.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,Lh(i,-1)),e.splice(r,1)}function yf(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&H_(i,r),t>0&&(n[e-1][4]=r[4]);const o=Tl(n,10+t);!function Zk(n,t){Da(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function j_(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Da(n,t,e,3,null,null),function tN(n){let t=n[13];if(!t)return _f(n[1],n);for(;t;){let e=null;if(pn(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)pn(t)&&_f(t[1],t),t=t[3];null===t&&(t=n),pn(t)&&_f(t[1],t),e=t&&t[4]}t=e}}(t)}}function _f(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function oN(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof fa)){const o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,t),function iN(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):mt(t[s]),c=r[i=e[o+2]],l=e[o+3];"boolean"==typeof l?a.removeEventListener(e[o],c,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const s=r[i=e[o+1]];e[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&sr(t[3])){e!==t[3]&&H_(e,t);const r=t[19];null!==r&&r.detachView(n)}!function Bk(n){lf.delete(n[20])}(t)}}function z_(n,t,e){return function G_(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===ir.None||i===ir.Emulated)return null}return On(r,e)}(n,t.parent,e)}function ro(n,t,e,r,i){n.insertBefore(t,e,r,i)}function q_(n,t,e){n.appendChild(t,e)}function $_(n,t,e,r,i){null!==r?ro(n,t,e,r,i):q_(n,t,e)}function Rl(n,t){return n.parentNode(t)}function K_(n,t,e){return Q_(n,t,e)}let If,Q_=function W_(n,t,e){return 40&n.type?On(n,e):null};function kl(n,t,e,r){const i=z_(n,r,t),o=t[11],a=K_(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let c=0;c<e.length;c++)$_(o,i,e[c],a,!1);else $_(o,i,e,a,!1)}function Nl(n,t){if(null!==t){const e=t.type;if(3&e)return On(t,n);if(4&e)return wf(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Nl(n,r);{const i=n[t.index];return sr(i)?wf(-1,i):mt(i)}}if(32&e)return ff(t,n)()||mt(n[t.index]);{const r=J_(n,t);return null!==r?Array.isArray(r)?r[0]:Nl(Ia(n[16]),r):Nl(n,t.next)}}return null}function J_(n,t){return null!==t?n[16][6].projection[t.projection]:null}function wf(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Nl(r,i)}return t[7]}function Ef(n,t,e,r,i,o,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===t&&(a&&$t(mt(a),r),e.flags|=4),64!=(64&e.flags))if(8&c)Ef(n,t,e.child,r,i,o,!1),ss(t,n,i,a,o);else if(32&c){const l=ff(e,r);let u;for(;u=l();)ss(t,n,i,u,o);ss(t,n,i,a,o)}else 16&c?Z_(n,t,r,e,i,o):ss(t,n,i,a,o);e=s?e.projectionNext:e.next}}function Da(n,t,e,r,i,o){Ef(e,r,n.firstChild,t,i,o,!1)}function Z_(n,t,e,r,i,o){const s=e[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ss(t,n,i,c[l],o);else Ef(n,t,c,s[3],i,o,!0)}function X_(n,t,e){n.setAttribute(t,"style",e)}function Sf(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}class oo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ln(n){return n instanceof oo?n.changingThisBreaksApplicationSecurity:n}const MN=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ie=(()=>((Ie=Ie||{})[Ie.NONE=0]="NONE",Ie[Ie.HTML=1]="HTML",Ie[Ie.STYLE=2]="STYLE",Ie[Ie.SCRIPT=3]="SCRIPT",Ie[Ie.URL=4]="URL",Ie[Ie.RESOURCE_URL=5]="RESOURCE_URL",Ie))();function kf(n){const t=function Ma(){const n=T();return n&&n[12]}();return t?t.sanitize(Ie.URL,n)||"":function Er(n,t){const e=function CN(n){return n instanceof oo&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}(n,"URL")?Ln(n):function Pl(n){return(n=String(n)).match(MN)?n:"unsafe:"+n}(se(n))}const Nf=new N("ENVIRONMENT_INITIALIZER"),hC=new N("INJECTOR",-1),fC=new N("INJECTOR_DEF_TYPES");class pC{get(t,e=Ca){if(e===Ca){const r=new Error(`NullInjectorError: No provider for ${He(t)}!`);throw r.name="NullInjectorError",r}return e}}function jN(...n){return{\u0275providers:mC(0,n)}}function mC(n,...t){const e=[],r=new Set;let i;return Zr(t,o=>{const s=o;Of(s,e,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&gC(i,e),e}function gC(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];Zr(i,o=>{t.push(o)})}}function Of(n,t,e,r){if(!(n=ee(n)))return!1;let i=null,o=Ay(n);const s=!o&&xe(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=Ay(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Of(l,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Zr(o.imports,u=>{Of(u,t,e,r)&&(l||(l=[]),l.push(u))})}finally{}void 0!==l&&gC(l,t)}if(!a){const l=no(i)||(()=>new i);t.push({provide:i,useFactory:l,deps:Te},{provide:fC,useValue:i,multi:!0},{provide:Nf,useValue:()=>S(i),multi:!0})}const c=o.providers;null==c||a||Zr(c,u=>{t.push(u)})}}return i!==n&&void 0!==n.providers}const zN=Ve({provide:String,useValue:Ve});function xf(n){return null!==n&&"object"==typeof n&&zN in n}function so(n){return"function"==typeof n}const Pf=new N("Set Injector scope."),Ll={},qN={};let Ff;function Ul(){return void 0===Ff&&(Ff=new pC),Ff}class Ri{}class _C extends Ri{constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uf(t,s=>this.processProvider(s)),this.records.set(hC,as(void 0,this)),i.has("environment")&&this.records.set(Ri,as(void 0,this));const o=this.records.get(Pf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fC.multi,Te,Y.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=rs(this),r=qn(void 0);try{return t()}finally{rs(e),qn(r)}}get(t,e=Ca,r=Y.Default){this.assertNotDestroyed();const i=rs(this),o=qn(void 0);try{if(!(r&Y.SkipSelf)){let a=this.records.get(t);if(void 0===a){const c=function YN(n){return"function"==typeof n||"object"==typeof n&&n instanceof N}(t)&&il(t);a=c&&this.injectableDefInScope(c)?as(Lf(t),Ll):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&Y.Self?Ul():this.parent).get(t,e=r&Y.Optional&&e===Ca?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Dl]=s[Dl]||[]).unshift(He(t)),i)throw s;return function _k(n,t,e,r){const i=n[Dl];throw t[y_]&&i.unshift(t[y_]),n.message=function Ck(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=He(t);if(Array.isArray(t))i=t.map(He).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):He(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(mk,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Dl]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{qn(o),rs(i)}}resolveInjectorInitializers(){const t=rs(this),e=qn(void 0);try{const r=this.get(Nf.multi,Te,Y.Self);for(const i of r)i()}finally{rs(t),qn(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(He(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(t){let e=so(t=ee(t))?t:ee(t&&t.provide);const r=function KN(n){return xf(n)?as(void 0,n.useValue):as(CC(n),Ll)}(t);if(so(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=as(void 0,Ll,!0),i.factory=()=>nf(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===Ll&&(e.value=qN,e.value=e.factory()),"object"==typeof e.value&&e.value&&function QN(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ee(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Lf(n){const t=il(n),e=null!==t?t.factory:no(n);if(null!==e)return e;if(n instanceof N)throw new E(204,!1);if(n instanceof Function)return function $N(n){const t=n.length;if(t>0)throw _a(t,"?"),new E(204,!1);const e=function rR(n){const t=n&&(n[ol]||n[My]);if(t){const e=function iR(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new E(204,!1)}function CC(n,t,e){let r;if(so(n)){const i=ee(n);return no(i)||Lf(i)}if(xf(n))r=()=>ee(n.useValue);else if(function yC(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...nf(n.deps||[]));else if(function vC(n){return!(!n||!n.useExisting)}(n))r=()=>S(ee(n.useExisting));else{const i=ee(n&&(n.useClass||n.provide));if(!function WN(n){return!!n.deps}(n))return no(i)||Lf(i);r=()=>new i(...nf(n.deps))}return r}function as(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function JN(n){return!!n.\u0275providers}function Uf(n,t){for(const e of n)Array.isArray(e)?Uf(e,t):JN(e)?Uf(e.\u0275providers,t):t(e)}class wC{}class eO{resolveComponentFactory(t){throw function XN(n){const t=Error(`No component factory found for ${He(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ra=(()=>{class n{}return n.NULL=new eO,n})();function tO(){return cs(St(),T())}function cs(n,t){return new Ue(On(n,t))}let Ue=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=tO,n})();function nO(n){return n instanceof Ue?n.nativeElement:n}class ka{}let iO=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>null}),n})();class ao{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const EC=new ao("14.3.0"),Bf={};function Hf(n){return n.ngOriginalError}class ki{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Hf(t);for(;e&&Hf(e);)e=Hf(e);return e||null}}function ti(n){return n instanceof Function?n():n}function TC(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const IC="ng-template";function mO(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==TC(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function DC(n){return 4===n.type&&n.value!==IC}function gO(n,t,e){return t===(4!==n.type||e?n.value:IC)}function vO(n,t,e){let r=4;const i=n.attrs||[],o=function CO(n){for(let t=0;t<n.length;t++)if(e_(n[t]))return t;return n.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!gO(n,c,e)||""===c&&1===t.length){if(cr(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==n.attrs){if(!mO(n.attrs,l,e)){if(cr(r))return!1;s=!0}continue}const d=yO(8&r?"class":c,i,DC(n),e);if(-1===d){if(cr(r))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==TC(f,l,0)||2&r&&l!==h){if(cr(r))return!1;s=!0}}}}else{if(!s&&!cr(r)&&!cr(c))return!1;if(s&&cr(c))continue;s=!1,r=c|1&r}}return cr(r)||s}function cr(n){return 0==(1&n)}function yO(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const s=t[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function wO(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function AC(n,t,e=!1){for(let r=0;r<t.length;r++)if(vO(n,t[r],e))return!0;return!1}function bO(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function MC(n,t){return n?":not("+t.trim()+")":t}function EO(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!cr(s)&&(t+=MC(o,i),i=""),r=s,o=o||!cr(r);e++}return""!==i&&(t+=MC(o,i)),t}const ae={};function ot(n){RC(ve(),T(),an()+n,!1)}function RC(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&vl(t,o,e)}else{const o=n.preOrderHooks;null!==o&&yl(t,o,0,e)}Di(e)}function xC(n,t=null,e=null,r){const i=PC(n,t,e,r);return i.resolveInjectorInitializers(),i}function PC(n,t=null,e=null,r,i=new Set){const o=[e||Te,jN(n)];return r=r||("object"==typeof n?void 0:He(n)),new _C(o,t||Ul(),r||null,i)}let gn=(()=>{class n{static create(e,r){if(Array.isArray(e))return xC({name:""},r,e,"");{const i=e.name??"";return xC({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ca,n.NULL=new pC,n.\u0275prov=H({token:n,providedIn:"any",factory:()=>S(hC)}),n.__NG_ELEMENT_ID__=-1,n})();function _(n,t=Y.Default){const e=T();return null===e?S(n,t):c_(St(),e,ee(n),t)}function $f(){throw new Error("invalid")}function Vl(n,t){return n<<17|t<<2}function lr(n){return n>>17&32767}function Kf(n){return 2|n}function ni(n){return(131068&n)>>2}function Wf(n,t){return-131069&n|t<<2}function Qf(n){return 1|n}function ZC(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];if(-1!==o){const s=n.data[o];jh(i),s.contentQueries(2,t[o],o)}}}function zl(n,t,e,r,i,o,s,a,c,l,u){const d=t.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),Vy(d),d[3]=d[15]=n,d[8]=e,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=c||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=o,d[20]=function Lk(){return Fk++}(),d[21]=u,d[16]=2==t.type?n[16]:d,d}function ds(n,t,e,r,i){let o=n.data[t];if(null===o)o=function rp(n,t,e,r,i){const o=zy(),s=Uh(),c=n.data[t]=function ox(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(n,t,e,r,i),function OR(){return ie.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const s=function ha(){const n=ie.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return wr(o,!0),o}function hs(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function ip(n,t,e){zh(t);try{const r=n.viewQuery;null!==r&&hp(1,r,e);const i=n.template;null!==i&&XC(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ZC(n,t),n.staticViewQueries&&hp(2,n.viewQuery,e);const o=n.components;null!==o&&function nx(n,t){for(let e=0;e<t.length;e++)wx(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Gh()}}function Gl(n,t,e,r){const i=t[2];if(128!=(128&i)){zh(t);try{Vy(t),function qy(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&XC(n,t,e,2,r);const s=3==(3&i);if(s){const l=n.preOrderCheckHooks;null!==l&&vl(t,l,null)}else{const l=n.preOrderHooks;null!==l&&yl(t,l,0,null),qh(t,0)}if(function _x(n){for(let t=pf(n);null!==t;t=mf(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],o=i[3];0==(512&i[2])&&Lh(o,1),i[2]|=512}}}(t),function yx(n){for(let t=pf(n);null!==t;t=mf(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];fl(r)&&Gl(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&ZC(n,t),s){const l=n.contentCheckHooks;null!==l&&vl(t,l)}else{const l=n.contentHooks;null!==l&&yl(t,l,1),qh(t,1)}!function ex(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Di(~i);else{const o=i,s=e[++r],a=e[++r];xR(s,o),a(2,t[o])}}}finally{Di(-1)}}(n,t);const a=n.components;null!==a&&function tx(n,t){for(let e=0;e<t.length;e++)Cx(n,t[e])}(t,a);const c=n.viewQuery;if(null!==c&&hp(2,c,r),s){const l=n.viewCheckHooks;null!==l&&vl(t,l)}else{const l=n.viewHooks;null!==l&&yl(t,l,2),qh(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Lh(t[3],-1))}finally{Gh()}}}function XC(n,t,e,r,i){const o=an(),s=2&r;try{Di(-1),s&&t.length>22&&RC(n,t,22,!1),e(r,i)}finally{Di(o)}}function ew(n,t,e){if(kh(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function op(n,t,e){!jy()||(function ux(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||ma(e,t),$t(r,t);const s=e.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],l=ar(c);l&&mx(t,e,c);const u=ga(t,n,a,e);$t(u,t),null!==s&&gx(0,a-i,u,c,0,s),l&&(xn(e.index,t)[8]=u)}}(n,t,e,On(e,t)),128==(128&e.flags)&&function dx(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,s=function PR(){return ie.lFrame.currentDirectiveIndex}();try{Di(o);for(let a=r;a<i;a++){const c=n.data[a],l=t[a];Vh(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&aw(c,l)}}finally{Di(-1),Vh(s)}}(n,t,e))}function sp(n,t,e=On){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?e(t,n):n[s];n[i++]=a}}}function tw(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=ap(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function ap(n,t,e,r,i,o,s,a,c,l){const u=22+r,d=u+i,h=function rx(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:ae);return e}(u,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function nw(n,t,e,r){const i=hw(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&fw(n).push(r,i.length-1))}function rw(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function iw(n,t){const r=t.directiveEnd,i=n.data,o=t.attrs,s=[];let a=null,c=null;for(let l=t.directiveStart;l<r;l++){const u=i[l],d=u.inputs,h=null===o||DC(t)?null:vx(d,o);s.push(h),a=rw(d,l,a),c=rw(u.outputs,l,c)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=c}function ow(n,t){const e=xn(t,n);16&e[2]||(e[2]|=32)}function cp(n,t,e,r){let i=!1;if(jy()){const o=function hx(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];AC(e,s.selectors,!1)&&(i||(i=[]),El(ma(e,t),n,s.type),ar(s)?(cw(n,e),i.unshift(s)):i.push(s))}return i}(n,t,e),s=null===r?null:{"":-1};if(null!==o){i=!0,lw(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,c=!1,l=hs(n,t,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];e.mergedAttrs=Cl(e.mergedAttrs,d.hostAttrs),uw(n,e,t,l,d),px(l,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!c&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),c=!0),l++}iw(n,e)}s&&function fx(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new E(-301,!1);r.push(t[i],o)}}}(e,r,s)}return e.mergedAttrs=Cl(e.mergedAttrs,e.attrs),i}function sw(n,t,e,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~t.index;(function lx(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(r,i,s)}}function aw(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function cw(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function px(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;ar(t)&&(e[""]=n)}}function lw(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function uw(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=no(i.type)),s=new fa(o,ar(i),_);n.blueprint[r]=s,e[r]=s,sw(n,t,0,r,hs(n,e,i.hostVars,ae),i)}function mx(n,t,e){const r=On(t,n),i=tw(e),o=n[10],s=ql(n,zl(n,i,null,e.onPush?32:16,r,t,o,o.createRenderer(r,e),null,null,null));n[t.index]=s}function Sr(n,t,e,r,i,o){const s=On(n,t);!function lp(n,t,e,r,i,o,s){if(null==o)n.removeAttribute(t,i,e);else{const a=null==s?se(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}(t[11],s,o,n.value,e,r,i)}function gx(n,t,e,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const l=s[c++],u=s[c++],d=s[c++];null!==a?r.setInput(e,d,l,u):e[u]=d}}}function vx(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function dw(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function Cx(n,t){const e=xn(t,n);if(fl(e)){const r=e[1];48&e[2]?Gl(r,e,r.template,e[8]):e[5]>0&&up(e)}}function up(n){for(let r=pf(n);null!==r;r=mf(r))for(let i=10;i<r.length;i++){const o=r[i];if(fl(o))if(512&o[2]){const s=o[1];Gl(s,o,s.template,o[8])}else o[5]>0&&up(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=xn(e[r],n);fl(i)&&i[5]>0&&up(i)}}function wx(n,t){const e=xn(t,n),r=e[1];(function bx(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),ip(r,e,e[8])}function ql(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function dp(n){for(;n;){n[2]|=32;const t=Ia(n);if(fR(n)&&!t)return n;n=t}return null}function $l(n,t,e,r=!0){const i=t[10];i.begin&&i.begin();try{Gl(n,t,n.template,e)}catch(s){throw r&&mw(t,s),s}finally{i.end&&i.end()}}function hp(n,t,e){jh(0),t(n,e)}function hw(n){return n[7]||(n[7]=[])}function fw(n){return n.cleanup||(n.cleanup=[])}function mw(n,t){const e=n[9],r=e?e.get(ki,null):null;r&&r.handleError(t)}function fp(n,t,e,r,i){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],c=t[s],l=n.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function Kl(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Eh(i,a):2==o&&(r=Eh(r,a+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function Wl(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(mt(o)),sr(o))for(let a=10;a<o.length;a++){const c=o[a],l=c[1].firstChild;null!==l&&Wl(c[1],c,l,r)}const s=e.type;if(8&s)Wl(n,t,e.child,r);else if(32&s){const a=ff(e,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=J_(t,e);if(Array.isArray(a))r.push(...a);else{const c=Ia(t[16]);Wl(c[1],c,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class Na{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Wl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(sr(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(yf(t,r),Tl(e,r))}this._attachedToViewContainer=!1}j_(this._lView[1],this._lView)}onDestroy(t){nw(this._lView[1],this._lView,null,t)}markForCheck(){dp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){$l(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eN(n,t){Da(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t}}class Ex extends Na{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;$l(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class pp extends Ra{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=xe(t);return new Oa(e,this.ngModule)}}function gw(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Tx{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){const i=this.injector.get(t,Bf,r);return i!==Bf||e===Bf?i:this.parentInjector.get(t,e,r)}}class Oa extends wC{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function SO(n){return n.map(EO).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return gw(this.componentDef.inputs)}get outputs(){return gw(this.componentDef.outputs)}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof Ri?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Tx(t,o):t,a=s.get(ka,null);if(null===a)throw new E(407,!1);const c=s.get(iO,null),l=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function ix(n,t,e){return n.selectRootElement(t,e===ir.ShadowDom)}(l,r,this.componentDef.encapsulation):vf(l,u,function Sx(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,f=ap(0,null,null,1,0,null,null,null,null,null),p=zl(null,f,null,h,null,null,a,l,c,s,null);let m,g;zh(p);try{const y=function Ax(n,t,e,r,i,o){const s=e[1];e[22]=n;const c=ds(s,22,2,"#host",null),l=c.mergedAttrs=t.hostAttrs;null!==l&&(Kl(c,l,!0),null!==n&&(_l(i,n,l),null!==c.classes&&Sf(i,n,c.classes),null!==c.styles&&X_(i,n,c.styles)));const u=r.createRenderer(n,t),d=zl(e,tw(t),null,t.onPush?32:16,e[22],c,r,u,o||null,null,null);return s.firstCreatePass&&(El(ma(c,e),s,t.type),cw(s,c),lw(c,e.length,1)),ql(e,d),e[22]=d}(d,this.componentDef,p,a,l);if(d)if(r)_l(l,d,["ng-version",EC.full]);else{const{attrs:w,classes:C}=function TO(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!cr(i))break;i=o}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);w&&_l(l,d,w),C&&C.length>0&&Sf(l,d,C.join(" "))}if(g=Fh(f,22),void 0!==e){const w=g.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const k=e[C];w.push(null!=k?Array.from(k):null)}}m=function Mx(n,t,e,r){const i=e[1],o=function cx(n,t,e){const r=St();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),uw(n,r,t,hs(n,t,1,null),e),iw(n,r));const i=ga(t,n,r.directiveStart,r);$t(i,t);const o=On(r,t);return o&&$t(o,t),i}(i,e,t);if(n[8]=e[8]=o,null!==r)for(const a of r)a(o,t);if(t.contentQueries){const a=St();t.contentQueries(1,o,a.directiveStart)}const s=St();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Di(s.index),sw(e[1],s,0,s.directiveStart,s.directiveEnd,t),aw(t,o)),o}(y,this.componentDef,p,[Rx]),ip(f,p,null)}finally{Gh()}return new Dx(this.componentType,m,cs(g,p),p,g)}}class Dx extends class ZN{}{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new Ex(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;fp(o[1],o,i,t,e),ow(o,this._tNode.index)}}get injector(){return new Yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Rx(){const n=St();gl(T()[1],n)}function q(n){let t=function vw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(ar(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new E(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const s=n;s.inputs=mp(n.inputs),s.declaredInputs=mp(n.declaredInputs),s.outputs=mp(n.outputs);const a=i.hostBindings;a&&xx(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&Nx(n,c),l&&Ox(n,l),bh(n.inputs,i.inputs),bh(n.declaredInputs,i.declaredInputs),bh(n.outputs,i.outputs),ar(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===q&&(e=!1)}}t=Object.getPrototypeOf(t)}!function kx(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Cl(i.hostAttrs,e=Cl(e,i.hostAttrs))}}(r)}function mp(n){return n===Ho?{}:n===Te?[]:n}function Nx(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function Ox(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function xx(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let Ql=null;function co(){if(!Ql){const n=ze.Symbol;if(n&&n.iterator)Ql=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ql=r)}}}return Ql}function xa(n){return!!function gp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&co()in n)}function Kt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function vn(n,t,e,r){const i=T();return Kt(i,Ko(),t)&&(ve(),Sr(it(),i,n,t,e,r)),vn}function ut(n,t,e,r,i,o,s,a){const c=T(),l=ve(),u=n+22,d=l.firstCreatePass?function jx(n,t,e,r,i,o,s,a,c){const l=t.consts,u=ds(t,n,4,s||null,Ii(l,a));cp(t,e,u,Ii(l,c)),gl(t,u);const d=u.tViews=ap(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,e,r,i,o,s):l.data[u];wr(d,!1);const h=c[11].createComment("");kl(l,c,h,d),$t(h,c),ql(c,c[u]=dw(h,c,h,d)),dl(d)&&op(l,c,d),null!=s&&sp(c,d,a)}function It(n,t,e){const r=T();return Kt(r,Ko(),t)&&function Un(n,t,e,r,i,o,s,a){const c=On(t,e);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(fp(n,e,u,r,i),ul(t)&&ow(e,t.index)):3&t.type&&(r=function sx(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}(ve(),it(),r,n,t,r[11],e,!1),It}function vp(n,t,e,r,i){const s=i?"class":"style";fp(n,e,t.inputs[s],s,r)}function ye(n,t,e,r){const i=T(),o=ve(),s=22+n,a=i[11],c=i[s]=vf(a,t,function zR(){return ie.lFrame.currentNamespace}()),l=o.firstCreatePass?function qx(n,t,e,r,i,o,s){const a=t.consts,l=ds(t,n,2,i,Ii(a,o));return cp(t,e,l,Ii(a,s)),null!==l.attrs&&Kl(l,l.attrs,!1),null!==l.mergedAttrs&&Kl(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,0,t,e,r):o.data[s];wr(l,!0);const u=l.mergedAttrs;null!==u&&_l(a,c,u);const d=l.classes;null!==d&&Sf(a,c,d);const h=l.styles;return null!==h&&X_(a,c,h),64!=(64&l.flags)&&kl(o,i,c,l),0===function DR(){return ie.lFrame.elementDepthCount}()&&$t(c,i),function AR(){ie.lFrame.elementDepthCount++}(),dl(l)&&(op(o,i,l),ew(o,l,i)),null!==r&&sp(i,l),ye}function Ce(){let n=St();Uh()?Bh():(n=n.parent,wr(n,!1));const t=n;!function MR(){ie.lFrame.elementDepthCount--}();const e=ve();return e.firstCreatePass&&(gl(e,n),kh(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function WR(n){return 0!=(16&n.flags)}(t)&&vp(e,t,T(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function QR(n){return 0!=(32&n.flags)}(t)&&vp(e,t,T(),t.stylesWithoutHost,!1),Ce}function Qn(n,t,e,r){return ye(n,t,e,r),Ce(),Qn}function xi(n,t,e){const r=T(),i=ve(),o=n+22,s=i.firstCreatePass?function $x(n,t,e,r,i){const o=t.consts,s=Ii(o,r),a=ds(t,n,8,"ng-container",s);return null!==s&&Kl(a,s,!0),cp(t,e,a,Ii(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,e):i.data[o];wr(s,!0);const a=r[o]=r[11].createComment("");return kl(i,r,a,s),$t(a,r),dl(s)&&(op(i,r,s),ew(i,s,r)),null!=e&&sp(r,s),xi}function Pi(){let n=St();const t=ve();return Uh()?Bh():(n=n.parent,wr(n,!1)),t.firstCreatePass&&(gl(t,n),kh(n)&&t.queries.elementEnd(n)),Pi}function Ir(n,t,e){return xi(n,t,e),Pi(),Ir}function Jl(){return T()}function Fa(n){return!!n&&"function"==typeof n.then}const yp=function Dw(n){return!!n&&"function"==typeof n.subscribe};function Nt(n,t,e,r){const i=T(),o=ve(),s=St();return function Mw(n,t,e,r,i,o,s,a){const c=dl(r),u=n.firstCreatePass&&fw(n),d=t[8],h=hw(t);let f=!0;if(3&r.type||a){const g=On(r,t),y=a?a(g):g,w=h.length,C=a?K=>a(mt(K[r.index])):r.index;let k=null;if(!a&&c&&(k=function Kx(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===e&&i[o+1]===r){const a=t[7],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,t,i,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,f=!1;else{o=kw(r,t,d,o,!1);const K=e.listen(y,i,o);h.push(o,K),u&&u.push(i,C,w,w+1)}}else o=kw(r,t,d,o,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let y=0;y<g;y+=2){const ce=t[m[y]][m[y+1]].subscribe(o),Be=h.length;h.push(o,ce),u&&u.push(i,r.index,Be,-(Be+1))}}}(o,i,i[11],s,n,t,0,r),Nt}function Rw(n,t,e,r){try{return!1!==e(r)}catch(i){return mw(n,i),!1}}function kw(n,t,e,r,i){return function o(s){if(s===Function)return r;dp(2&n.flags?xn(n.index,t):t);let c=Rw(t,0,r,s),l=o.__ngNextListenerFn__;for(;l;)c=Rw(t,0,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function Dr(n=1){return function LR(n){return(ie.lFrame.contextLView=function UR(n,t){for(;n>0;)t=t[15],n--;return t}(n,ie.lFrame.contextLView))[8]}(n)}function Wx(n,t){let e=null;const r=function _O(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?AC(n,o,!0):bO(r,o))return i}else e=i}return e}function ii(n){const t=T()[16][6];if(!t.projection){const r=t.projection=_a(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const s=n?Wx(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function yn(n,t=0,e){const r=T(),i=ve(),o=ds(i,22+n,16,null,e||null);null===o.projection&&(o.projection=t),Bh(),64!=(64&o.flags)&&function cN(n,t,e){Z_(t[11],0,t,e,z_(n,e,t),K_(e.parent||t[6],e,t))}(i,r,o)}function Hw(n,t,e,r,i){const o=n[e+1],s=null===t;let a=r?lr(o):ni(o),c=!1;for(;0!==a&&(!1===c||s);){const u=n[a+1];Jx(n[a],t)&&(c=!0,n[a+1]=r?Qf(u):Kf(u)),a=r?lr(u):ni(u)}c&&(n[e+1]=r?Kf(o):Qf(o))}function Jx(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ns(n,t)>=0}function Wt(n,t){return function ur(n,t,e,r){const i=T(),o=ve(),s=function Jr(n){const t=ie.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);o.firstUpdatePass&&function Qw(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[an()],s=function Ww(n,t){return t>=n.expandoStartIndex}(n,e);(function Xw(n,t){return 0!=(n.flags&(t?16:32))})(o,r)&&null===t&&!s&&(t=!1),t=function sP(n,t,e,r){const i=function Hh(n){const t=ie.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=La(e=Cp(null,n,t,e,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==i)if(e=Cp(i,n,t,e,r),null===o){let c=function aP(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==ni(r))return n[lr(r)]}(n,t,r);void 0!==c&&Array.isArray(c)&&(c=Cp(null,n,t,c[1],r),c=La(c,t.attrs,r),function cP(n,t,e,r){n[lr(e?t.classBindings:t.styleBindings)]=r}(n,t,r,c))}else o=function lP(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=La(r,n[o].hostAttrs,e);return La(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function Qx(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=lr(s),c=ni(s);n[r]=e;let u,l=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||ns(d,u)>0)&&(l=!0)}else u=e;if(i)if(0!==c){const h=lr(n[a+1]);n[r+1]=Vl(h,a),0!==h&&(n[h+1]=Wf(n[h+1],r)),n[a+1]=function GO(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=Vl(a,0),0!==a&&(n[a+1]=Wf(n[a+1],r)),a=r;else n[r+1]=Vl(c,0),0===a?a=r:n[c+1]=Wf(n[c+1],r),c=r;l&&(n[r+1]=Kf(n[r+1])),Hw(n,u,r,!0),Hw(n,u,r,!1),function Yx(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&ns(o,t)>=0&&(e[r+1]=Qf(e[r+1]))}(t,u,n,r,o),s=Vl(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,e,s,r)}}(o,n,s,r),t!==ae&&Kt(i,s,t)&&function Jw(n,t,e,r,i,o,s,a){if(!(3&t.type))return;const c=n.data,l=c[a+1];Zl(function GC(n){return 1==(1&n)}(l)?Zw(c,t,e,i,ni(l),s):void 0)||(Zl(o)||function zC(n){return 2==(2&n)}(l)&&(o=Zw(c,null,e,i,a,s)),function uN(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:mn.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mn.Important),n.setStyle(e,r,i,o))}}(r,s,hl(an(),e),i,o))}(o,o.data[an()],i,i[11],n,i[s+1]=function hP(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=He(Ln(n)))),n}(t,e),r,s)}(n,t,null,!0),Wt}function Cp(n,t,e,r,i){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],r=La(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function La(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Fn(n,s,!!e||t[++o]))}return void 0===n?null:n}function Zw(n,t,e,r,i,o){const s=null===t;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=e[i+1];h===ae&&(h=d?Te:void 0);let f=d?Xh(h,r):u===r?h:void 0;if(l&&!Zl(f)&&(f=Xh(c,r)),Zl(f)&&(a=f,s))return a;const p=n[i+1];i=s?lr(p):ni(p)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=Xh(c,r))}return a}function Zl(n){return void 0!==n}function qe(n,t=""){const e=T(),r=ve(),i=n+22,o=r.firstCreatePass?ds(r,i,1,t,null):r.data[i],s=e[i]=function gf(n,t){return n.createText(t)}(e[11],t);kl(r,e,s,o),wr(o,!1)}function wp(n){return Rr("",n,""),wp}function Rr(n,t,e){const r=T(),i=function ps(n,t,e,r){return Kt(n,Ko(),e)?t+se(e)+r:ae}(r,n,t,e);return i!==ae&&function ri(n,t,e){const r=hl(t,n);!function V_(n,t,e){n.setValue(t,e)}(n[11],r,e)}(r,an(),i),Rr}const Ts="en-US";let wb=Ts;function Sp(n,t,e,r,i){if(n=ee(n),Array.isArray(n))for(let o=0;o<n.length;o++)Sp(n[o],t,e,r,i);else{const o=ve(),s=T();let a=so(n)?n:ee(n.provide),c=CC(n);const l=St(),u=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(so(n)||!n.multi){const f=new fa(c,i,_),p=Ip(a,t,i?u:u+h,d);-1===p?(El(ma(l,s),o,a),Tp(o,n,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),e.push(f),s.push(f)):(e[p]=f,s[p]=f)}else{const f=Ip(a,t,u+h,d),p=Ip(a,t,u,u+h),m=f>=0&&e[f],g=p>=0&&e[p];if(i&&!g||!i&&!m){El(ma(l,s),o,a);const y=function RF(n,t,e,r,i){const o=new fa(n,e,_);return o.multi=[],o.index=t,o.componentProviders=0,$b(o,i,r&&!e),o}(i?MF:AF,e.length,i,r,c);!i&&g&&(e[p].providerFactory=y),Tp(o,n,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),e.push(y),s.push(y)}else Tp(o,n,f>-1?f:p,$b(e[i?p:f],c,!i&&r));!i&&r&&g&&e[p].componentProviders++}}}function Tp(n,t,e,r){const i=so(t),o=function GN(n){return!!n.useClass}(t);if(i||o){const c=(o?ee(t.useClass):t).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const u=l.indexOf(e);-1===u?l.push(e,[r,c]):l[u+1].push(r,c)}else l.push(e,c)}}}function $b(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Ip(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function AF(n,t,e,r){return Dp(this.multi,[])}function MF(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ga(e,e[1],this.providerFactory.index,r);o=a.slice(0,s),Dp(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Dp(i,o);return o}function Dp(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function de(n,t=[]){return e=>{e.providersResolver=(r,i)=>function DF(n,t,e){const r=ve();if(r.firstCreatePass){const i=ar(n);Sp(e,r.data,r.blueprint,i,!0),Sp(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class ho{}class Kb{}class Wb extends ho{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pp(this);const r=kn(t);this._bootstrapComponents=ti(r.bootstrap),this._r3Injector=PC(t,e,[{provide:ho,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],He(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ap extends Kb{constructor(t){super(),this.moduleType=t}create(t){return new Wb(this.moduleType,t)}}class NF extends ho{constructor(t,e,r){super(),this.componentFactoryResolver=new pp(this),this.instance=null;const i=new _C([...t,{provide:ho,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],e||Ul(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ru(n,t,e=null){return new NF(n,t,e).injector}let OF=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=mC(0,e.type),i=r.length>0?ru([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(S(Ri))}),n})();function Qb(n){n.getStandaloneInjector=t=>t.get(OF).getOrCreateStandaloneInjector(n)}function nE(n,t,e){const r=function sn(){const n=ie.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}()+n,i=T();return i[r]===ae?function Tr(n,t,e){return n[t]=e}(i,r,e?t.call(e):t()):function Pa(n,t){return n[t]}(i,r)}function Rp(n){return t=>{setTimeout(n,void 0,t)}}const $e=class iL extends et{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Rp(o),i&&(i=Rp(i)),s&&(s=Rp(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof nn&&t.add(a),a}};function oL(){return this._results[co()]()}class qa{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=co(),r=qa.prototype;r[e]||(r[e]=oL)}get changes(){return this._changes||(this._changes=new $e)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=Pn(t);(this._changesDetected=!function ok(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ft=(()=>{class n{}return n.__NG_ELEMENT_ID__=cL,n})();const sL=Ft,aL=class extends sL{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,i=zl(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),ip(r,i,t),new Na(i)}};function cL(){return iu(St(),T())}function iu(n,t){return 4&n.type?new aL(t,n,cs(n,t)):null}let Qt=(()=>{class n{}return n.__NG_ELEMENT_ID__=lL,n})();function lL(){return uE(St(),T())}const uL=Qt,cE=class extends uL{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return cs(this._hostTNode,this._hostLView)}get injector(){return new Yo(this._hostTNode,this._hostLView)}get parentInjector(){const t=bl(this._hostTNode,this._hostLView);if(r_(t)){const e=Qo(t,this._hostLView),r=Wo(t);return new Yo(e[1].data[r+8],e)}return new Yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=lE(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=t.createEmbeddedView(e||{},o);return this.insert(s,i),s}createComponent(t,e,r,i,o){const s=t&&!function ya(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const c=s?t:new Oa(xe(t)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const h=(s?l:this.parentInjector).get(Ri,null);h&&(o=h)}const u=c.create(l,i,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const r=t._lView,i=r[1];if(function IR(n){return sr(n[3])}(r)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=r[3],h=new cE(d,d[6],d[3]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function nN(n,t,e,r){const i=10+r,o=e.length;r>0&&(e[i-1][4]=t),r<o-10?(t[4]=e[i],p_(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function rN(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(i,r,s,o);const a=wf(o,s),c=r[11],l=Rl(c,s[7]);return null!==l&&function Xk(n,t,e,r,i,o){r[0]=i,r[6]=t,Da(n,r,e,1,i,o)}(i,s[6],c,r,l,a),t.attachToViewContainerRef(),p_(kp(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=lE(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=yf(this._lContainer,e);r&&(Tl(kp(this._lContainer),e),j_(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=yf(this._lContainer,e);return r&&null!=Tl(kp(this._lContainer),e)?new Na(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function lE(n){return n[8]}function kp(n){return n[8]||(n[8]=[])}function uE(n,t){let e;const r=t[n.index];if(sr(r))e=r;else{let i;if(8&n.type)i=mt(r);else{const o=t[11];i=o.createComment("");const s=On(n,t);ro(o,Rl(o,s),i,function aN(n,t){return n.nextSibling(t)}(o,s),!1)}t[n.index]=e=dw(r,t,i,n),ql(t,e)}return new cE(e,n,t)}class Np{constructor(t){this.queryList=t,this.matches=null}clone(){return new Np(this.queryList)}setDirty(){this.queryList.setDirty()}}class Op{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const s=e.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Op(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==mE(t,e).matches&&this.queries[e].setDirty()}}class dE{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class xp{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new xp(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pp{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Pp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,fL(e,o)),this.matchTNodeWithReadOption(t,e,Sl(e,t,o,!1,!1))}else r===Ft?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Sl(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ue||i===Qt||i===Ft&&4&e.type)this.addMatch(e.index,-2);else{const o=Sl(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function fL(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function mL(n,t,e,r){return-1===e?function pL(n,t){return 11&n.type?cs(n,t):4&n.type?iu(n,t):null}(t,n):-2===e?function gL(n,t,e){return e===Ue?cs(t,n):e===Ft?iu(t,n):e===Qt?uE(t,n):void 0}(n,t,r):ga(n,n[1],e,t)}function hE(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const o=n.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:mL(t,o[l],s[c+1],e.metadata.read))}i.matches=a}return i.matches}function Fp(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const s=hE(n,t,i,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=t[-c];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Fp(h[1],h,l,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Fp(f[1],f,l,r)}}}}}return r}function Ye(n){const t=T(),e=ve(),r=Ky();jh(r+1);const i=mE(e,r);if(n.dirty&&function TR(n){return 4==(4&n[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Fp(e,t,r,[]):hE(e,t,i,r);n.reset(o,nO),n.notifyOnChanges()}return!0}return!1}function kr(n,t,e){const r=ve();r.firstCreatePass&&(pE(r,new dE(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),fE(r,T(),t)}function Yt(n,t,e,r){const i=ve();if(i.firstCreatePass){const o=St();pE(i,new dE(t,e,r),o.index),function yL(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}fE(i,T(),e)}function Je(){return function vL(n,t){return n[19].queries[t].queryList}(T(),Ky())}function fE(n,t,e){const r=new qa(4==(4&e));nw(n,t,r,r.destroy),null===t[19]&&(t[19]=new Op),t[19].queries.push(new Np(r))}function pE(n,t,e){null===n.queries&&(n.queries=new xp),n.queries.track(new Pp(t,e))}function mE(n,t){return n.queries.getByIndex(t)}function su(...n){}const au=new N("Application Initializer");let cu=(()=>{class n{constructor(e){this.appInits=e,this.resolve=su,this.reject=su,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Fa(o))e.push(o);else if(yp(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(S(au,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ka=new N("AppId",{providedIn:"root",factory:function xE(){return`${Hp()}${Hp()}${Hp()}`}});function Hp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PE=new N("Platform Initializer"),lu=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FE=new N("appBootstrapListener"),fo=new N("AnimationModuleType");let BL=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Nr=new N("LocaleId",{providedIn:"root",factory:()=>Qe(Nr,Y.Optional|Y.SkipSelf)||function VL(){return typeof $localize<"u"&&$localize.locale||Ts}()});class jL{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let jp=(()=>{class n{compileModuleSync(e){return new Ap(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=ti(kn(e).declarations).reduce((s,a)=>{const c=xe(a);return c&&s.push(new Oa(c)),s},[]);return new jL(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qL=(()=>Promise.resolve(0))();function zp(n){typeof Zone>"u"?qL.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ke{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $L(){let n=ze.requestAnimationFrame,t=ze.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function QL(n){const t=()=>{!function WL(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ze,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,qp(n),n.isCheckStableRunning=!0,Gp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),qp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{try{return BE(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),VE(n)}},onInvoke:(e,r,i,o,s,a,c)=>{try{return BE(n),e.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),VE(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,qp(n),Gp(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ke.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(ke.isInAngularZone())throw new E(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,KL,su,su);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const KL={};function Gp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function BE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function VE(n){n._nesting--,Gp(n)}class YL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const HE=new N(""),uu=new N("");let Wp,$p=(()=>{class n{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wp||(function JL(n){Wp=n}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ke.assertNotInAngularZone(),zp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zp(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(S(ke),S(Kp),S(uu))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Kp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Wp?.findTestabilityInTree(this,e,r)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Fi=null;const jE=new N("AllowMultipleToken"),Qp=new N("PlatformDestroyListeners");class zE{constructor(t,e){this.name=t,this.token=e}}function qE(n,t,e=[]){const r=`Platform: ${t}`,i=new N(r);return(o=[])=>{let s=Yp();if(!s||s.injector.get(jE,!1)){const a=[...e,...o,{provide:i,useValue:!0}];n?n(a):function e1(n){if(Fi&&!Fi.get(jE,!1))throw new E(400,!1);Fi=n;const t=n.get(KE);(function GE(n){const t=n.get(PE,null);t&&t.forEach(e=>e())})(n)}(function $E(n=[],t){return gn.create({name:t,providers:[{provide:Pf,useValue:"platform"},{provide:Qp,useValue:new Set([()=>Fi=null])},...n]})}(a,r))}return function n1(n){const t=Yp();if(!t)throw new E(401,!1);return t}()}}function Yp(){return Fi?.get(KE)??null}let KE=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function QE(n,t){let e;return e="noop"===n?new YL:("zone.js"===n?void 0:n)||new ke(t),e}(r?.ngZone,function WE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:ke,useValue:i}];return i.run(()=>{const s=gn.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(s),c=a.injector.get(ki,null);if(!c)throw new E(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:u=>{c.handleError(u)}});a.onDestroy(()=>{du(this._modules,a),l.unsubscribe()})}),function YE(n,t,e){try{const r=e();return Fa(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(c,i,()=>{const l=a.injector.get(cu);return l.runInitializers(),l.donePromise.then(()=>(function bb(n){Rn(n,"Expected localeId to be defined"),"string"==typeof n&&(wb=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Nr,Ts)||Ts),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const i=JE({},r);return function ZL(n,t,e){const r=new Ap(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(Wa);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new E(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Qp,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(S(gn))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function JE(n,t){return Array.isArray(t)?t.reduce(JE,n):{...n,...t}}let Wa=(()=>{class n{constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Xe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Xe(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),zp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function Q0(...n){const t=sa(n),e=function j0(n,t){return"number"==typeof Ch(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?An(r[0]):Vo(e)(be(r,t)):Kr}(o,s.pipe(function Iy(n={}){const{connector:t=(()=>new et),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,u=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return ct((m,g)=>{l++,!d&&!u&&h();const y=c=c??t();g.add(()=>{l--,0===l&&!d&&!u&&(a=wh(p,i))}),y.subscribe(g),!s&&l>0&&(s=new oa({next:w=>y.next(w),error:w=>{d=!0,h(),a=wh(f,e,w),y.error(w)},complete:()=>{u=!0,h(),a=wh(f,r),y.complete()}}),An(m).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof wC;if(!this._injector.get(cu).done)throw!i&&function jo(n){const t=xe(n)||rn(n)||on(n);return null!==t&&t.standalone}(e),new E(405,false);let s;s=i?e:this._injector.get(Ra).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function XL(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ho),l=s.create(gn.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(HE,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),du(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;du(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(FE,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>du(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new E(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(S(ke),S(Ri),S(ki))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function du(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let XE=!0,po=(()=>{class n{}return n.__NG_ELEMENT_ID__=s1,n})();function s1(n){return function a1(n,t,e){if(ul(n)&&!e){const r=xn(n.index,t);return new Na(r,r)}return 47&n.type?new Na(t[16],t):null}(St(),T(),16==(16&n))}class iS{constructor(){}supports(t){return xa(t)}create(t){return new f1(t)}}const h1=(n,t)=>t;class f1{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||h1}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const s=!r||e&&e.currentIndex<sS(r,i,o)?e:r,a=sS(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xa(t))throw new E(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),r=!0),e=e._next}else i=0,function Bx(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[co()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new p1(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new oS),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class p1{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class m1{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class oS{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new m1,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sS(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function cS(){return new si([new iS])}let si=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||cS()),deps:[[n,new is,new Mi]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new E(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:cS}),n})();const C1=qE(null,"core",[]);let w1=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(S(Wa))},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({}),n})();function ai(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let pu=null;function Or(){return pu}const Ne=new N("DocumentToken");let tm=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:function(){return function T1(){return S(uS)}()},providedIn:"platform"}),n})();const I1=new N("Location Initialized");let uS=(()=>{class n extends tm{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Or().getBaseHref(this._doc)}onPopState(e){const r=Or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){dS()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){dS()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(S(Ne))},n.\u0275prov=H({token:n,factory:function(){return function D1(){return new uS(S(Ne))}()},providedIn:"platform"}),n})();function dS(){return!!window.history.pushState}function nm(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function hS(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ci(n){return n&&"?"!==n[0]?"?"+n:n}let go=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:function(){return Qe(pS)},providedIn:"root"}),n})();const fS=new N("appBaseHref");let pS=(()=>{class n extends go{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Qe(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return nm(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ci(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const s=this.prepareExternalUrl(i+ci(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){const s=this.prepareExternalUrl(i+ci(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(S(tm),S(fS,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A1=(()=>{class n extends go{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=nm(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+ci(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+ci(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(S(tm),S(fS,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Ya=(()=>{class n{constructor(e){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=hS(mS(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ci(r))}normalize(e){return n.stripTrailingSlash(function R1(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,mS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ci(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ci(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=ci,n.joinWithSlash=nm,n.stripTrailingSlash=hS,n.\u0275fac=function(e){return new(e||n)(S(go))},n.\u0275prov=H({token:n,factory:function(){return function M1(){return new Ya(S(go))}()},providedIn:"root"}),n})();function mS(n){return n.replace(/\/index.html$/,"")}function SS(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let Su=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new yU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){AS("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){AS("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(_(Qt),_(Ft))},n.\u0275dir=R({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class yU{constructor(){this.$implicit=null,this.ngIf=null}}function AS(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${He(t)}'.`)}let gm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({}),n})();const kS="browser";let QU=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>new YU(S(Ne),window)}),n})();class YU{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function JU(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=NS(this.window.history)||NS(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function NS(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class OS{}class _m extends class SB extends class S1{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function E1(n){pu||(pu=n)}(new _m)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function TB(){return ec=ec||document.querySelector("base"),ec?ec.getAttribute("href"):null}();return null==e?null:function IB(n){Du=Du||document.createElement("a"),Du.setAttribute("href",n);const t=Du.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return SS(document.cookie,t)}}let Du,ec=null;const US=new N("TRANSITION_ID"),AB=[{provide:au,useFactory:function DB(n,t,e){return()=>{e.get(cu).donePromise.then(()=>{const r=Or(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[US,Ne,gn],multi:!0}];let RB=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const Au=new N("EventManagerPlugins");let Mu=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(S(Au),S(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class BS{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Or().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let VS=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),tc=(()=>{class n extends VS{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(HS),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(HS))}}return n.\u0275fac=function(e){return new(e||n)(S(Ne))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function HS(n){Or().remove(n)}const Cm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wm=/%COMP%/g;function Ru(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Ru(n,i,e):(i=i.replace(wm,n),e.push(i))}return e}function GS(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ku=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new bm(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case ir.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new FB(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case ir.ShadowDom:return new LB(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ru(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(S(Mu),S(tc),S(Ka))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class bm{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Cm[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){($S(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&($S(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=Cm[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Cm[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(mn.DashCase|mn.Important)?t.style.setProperty(e,r,i&mn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&mn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,GS(r)):this.eventManager.addEventListener(t,e,GS(r))}}function $S(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class FB extends bm{constructor(t,e,r,i){super(t),this.component=r;const o=Ru(i+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr=function OB(n){return"_ngcontent-%COMP%".replace(wm,n)}(i+"-"+r.id),this.hostAttr=function xB(n){return"_nghost-%COMP%".replace(wm,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class LB extends bm{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ru(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let UB=(()=>{class n extends BS{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(S(Ne))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const KS=["alt","control","meta","shift"],BB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let HB=(()=>{class n extends BS{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Or().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),KS.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let i=BB[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),KS.forEach(s=>{s!==i&&(0,VB[s])(e)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(S(Ne))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const QS=[{provide:lu,useValue:kS},{provide:PE,useValue:function jB(){_m.makeCurrent()},multi:!0},{provide:Ne,useFactory:function GB(){return function pN(n){If=n}(document),document},deps:[]}],qB=qE(C1,"browser",QS),YS=new N(""),JS=[{provide:uu,useClass:class MB{addToWindow(t){ze.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},ze.getAllAngularTestabilities=()=>t.getAllTestabilities(),ze.getAllAngularRootElements=()=>t.getAllRootElements(),ze.frameworkStabilizers||(ze.frameworkStabilizers=[]),ze.frameworkStabilizers.push(r=>{const i=ze.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?Or().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:HE,useClass:$p,deps:[ke,Kp,uu]},{provide:$p,useClass:$p,deps:[ke,Kp,uu]}],ZS=[{provide:Pf,useValue:"root"},{provide:ki,useFactory:function zB(){return new ki},deps:[]},{provide:Au,useClass:UB,multi:!0,deps:[Ne,ke,lu]},{provide:Au,useClass:HB,multi:!0,deps:[Ne]},{provide:ku,useClass:ku,deps:[Mu,tc,Ka]},{provide:ka,useExisting:ku},{provide:VS,useExisting:tc},{provide:tc,useClass:tc,deps:[Ne]},{provide:Mu,useClass:Mu,deps:[Au,ke]},{provide:OS,useClass:RB,deps:[]},[]];let XS=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Ka,useValue:e.appId},{provide:US,useExisting:Ka},AB]}}}return n.\u0275fac=function(e){return new(e||n)(S(YS,12))},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({providers:[...ZS,...JS],imports:[gm,w1]}),n})(),eT=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(S(Ne))},n.\u0275prov=H({token:n,factory:function(e){let r=null;return r=e?new e:function KB(){return new eT(S(Ne))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class iT{}const ui="*";function oT(n,t=null){return{type:2,steps:n,options:t}}function sT(n){return{type:6,styles:n,offset:null}}function aT(n){Promise.resolve().then(n)}class nc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){aT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class cT{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?aT(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function lT(n){return new E(3e3,!1)}function FV(){return typeof window<"u"&&typeof window.document<"u"}function Dm(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ui(n){switch(n.length){case 0:return new nc;case 1:return n[0];default:return new cT(n)}}function uT(n,t,e,r,i=new Map,o=new Map){const s=[],a=[];let c=-1,l=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==c,f=h&&l||new Map;u.forEach((p,m)=>{let g=m,y=p;if("offset"!==m)switch(g=t.normalizePropertyName(g,s),y){case"!":y=i.get(m);break;case ui:y=o.get(m);break;default:y=t.normalizeStyleValue(m,g,y,s)}f.set(g,y)}),h||a.push(f),l=f,c=d}),s.length)throw function SV(n){return new E(3502,!1)}();return a}function Am(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Mm(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Mm(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Mm(e,"destroy",n)))}}function Mm(n,t,e){const o=Rm(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function Rm(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Bn(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function dT(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let km=(n,t)=>!1,hT=(n,t,e)=>[],fT=null;function Nm(n){const t=n.parentNode||n.host;return t===fT?null:t}(Dm()||typeof Element<"u")&&(FV()?(fT=(()=>document.documentElement)(),km=(n,t)=>{for(;t;){if(t===n)return!0;t=Nm(t)}return!1}):km=(n,t)=>n.contains(t),hT=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let vo=null,pT=!1;const mT=km,gT=hT;let vT=(()=>{class n{validateStyleProperty(e){return function UV(n){vo||(vo=function BV(){return typeof document<"u"?document.body:null}()||{},pT=!!vo.style&&"WebkitAppearance"in vo.style);let t=!0;return vo.style&&!function LV(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in vo.style,!t&&pT&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in vo.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return mT(e,r)}getParentElement(e){return Nm(e)}query(e,r,i){return gT(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],c){return new nc(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Om=(()=>{class n{}return n.NOOP=new vT,n})();const xm="ng-enter",Nu="ng-leave",Ou="ng-trigger",xu=".ng-trigger",_T="ng-animating",Pm=".ng-animating";function di(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Fm(parseFloat(t[1]),t[2])}function Fm(n,t){return"s"===t?1e3*n:n}function Pu(n,t,e){return n.hasOwnProperty("duration")?n:function jV(n,t,e){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(lT()),{duration:0,delay:0,easing:""};i=Fm(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=Fm(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else i=n;if(!e){let a=!1,c=t.length;i<0&&(t.push(function nV(){return new E(3100,!1)}()),a=!0),o<0&&(t.push(function rV(){return new E(3101,!1)}()),a=!0),a&&t.splice(c,0,lT())}return{duration:i,delay:o,easing:s}}(n,t,e)}function rc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function CT(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Bi(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function bT(n,t,e){return e?t+":"+e+";":""}function ET(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=bT(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=bT(0,$V(e),n.style[e]));n.setAttribute("style",t)}function xr(n,t,e){n.style&&(t.forEach((r,i)=>{const o=Um(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r}),Dm()&&ET(n))}function yo(n,t){n.style&&(t.forEach((e,r)=>{const i=Um(r);n.style[i]=""}),Dm()&&ET(n))}function ic(n){return Array.isArray(n)?1==n.length?n[0]:oT(n):n}const Lm=new RegExp("{{\\s*(.+?)\\s*}}","g");function ST(n){let t=[];if("string"==typeof n){let e;for(;e=Lm.exec(n);)t.push(e[1]);Lm.lastIndex=0}return t}function oc(n,t,e){const r=n.toString(),i=r.replace(Lm,(o,s)=>{let a=t[s];return null==a&&(e.push(function oV(n){return new E(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Fu(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const qV=/-+([a-z0-9])/g;function Um(n){return n.replace(qV,(...t)=>t[1].toUpperCase())}function $V(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function sV(n){return new E(3004,!1)}()}}function TT(n,t){return window.getComputedStyle(n)[t]}function ZV(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function XV(n,t,e){if(":"==n[0]){const c=function eH(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function CV(n){return new E(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function _V(n){return new E(3015,!1)}()),t;const i=r[1],o=r[2],s=r[3];t.push(IT(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&t.push(IT(s,i))}(r,e,t)):e.push(n),e}const Vu=new Set(["true","1"]),Hu=new Set(["false","0"]);function IT(n,t){const e=Vu.has(n)||Hu.has(n),r=Vu.has(t)||Hu.has(t);return(i,o)=>{let s="*"==n||n==i,a="*"==t||t==o;return!s&&e&&"boolean"==typeof i&&(s=i?Vu.has(n):Hu.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?Vu.has(t):Hu.has(t)),s&&a}}const tH=new RegExp("s*:selfs*,?","g");function Bm(n,t,e,r){return new nH(n).build(t,e,r)}class nH{constructor(t){this._driver=t}build(t,e,r){const i=new oH(e);return this._resetContextStyleTimingState(i),Vn(this,ic(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function cV(){return new E(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,e))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,e);r+=c.queryCount,i+=c.depCount,s.push(c)}else e.errors.push(function lV(){return new E(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{ST(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(Fu(o.values()),e.errors.push(function uV(n,t){return new E(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Vn(this,ic(t.animation),e);return{type:1,matchers:ZV(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:_o(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Vn(this,r,e)),options:_o(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(s=>{e.currentTime=r;const a=Vn(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:o,options:_o(t.options)}}visitAnimate(t,e){const r=function aH(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Vm(Pu(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Vm(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=Pu(e,t);return Vm(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:sT({});if(5==o.type)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};r.easing&&(l.easing=r.easing),s=sT(l)}e.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,i=c}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===ui?r.push(a):e.errors.push(new E(3002,!1)):r.push(CT(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(e.errors.push(function hV(n,t,e,r,i){return new E(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),e.options&&function GV(n,t,e){const r=t.params||{},i=ST(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function iV(n){return new E(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function fV(){return new E(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,l=0;const u=t.steps.map(y=>{const w=this._makeStyleAst(y,e);let C=null!=w.offset?w.offset:function sH(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(w.styles),k=0;return null!=C&&(o++,k=w.offset=C),c=c||k<0||k>1,a=a||k<l,l=k,s.push(k),w});c&&e.errors.push(function pV(){return new E(3012,!1)}()),a&&e.errors.push(function mV(){return new E(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function gV(){return new E(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((y,w)=>{const C=h>0?w==f?1:h*w:s[w],k=C*g;e.currentTime=p+m.delay+k,m.duration=k,this._validateStyleAst(y,e),y.offset=C,r.styles.push(y)}),r}visitReference(t,e){return{type:8,animation:Vn(this,ic(t.animation),e),options:_o(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:_o(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:_o(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function rH(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(tH,"")),n=n.replace(/@\*/g,xu).replace(/@\w+/g,e=>xu+"-"+e.slice(1)).replace(/:animating/g,Pm),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,Bn(e.collectedStyles,e.currentQuerySelector,new Map);const a=Vn(this,ic(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:_o(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function vV(){return new E(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Pu(t.timings,e.errors,!0);return{type:12,animation:Vn(this,ic(t.animation),e),timings:r,options:null}}}class oH{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _o(n){return n?(n=rc(n)).params&&(n.params=function iH(n){return n?rc(n):null}(n.params)):n={},n}function Vm(n,t,e){return{duration:n,delay:t,easing:e}}function Hm(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class ju{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const uH=new RegExp(":enter","g"),hH=new RegExp(":leave","g");function jm(n,t,e,r,i,o=new Map,s=new Map,a,c,l=[]){return(new fH).buildKeyframes(n,t,e,r,i,o,s,a,c,l)}class fH{buildKeyframes(t,e,r,i,o,s,a,c,l,u=[]){l=l||new ju;const d=new zm(t,e,l,i,o,u,[]);d.options=c;const h=c.delay?di(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),Vn(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[Hm(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const s="number"==typeof o?o:di(oc(o,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const s=null!=r.duration?di(r.duration):null,a=null!=r.delay?di(r.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Vn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zu);const s=di(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Vn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?di(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Vn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Pu(e.params?oc(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?di(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zu);let s=r;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,l);o&&d.delayNextStep(o),l===e.element&&(c=d.currentTimeline),Vn(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=e.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;Vn(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const zu={};class zm{constructor(t,e,r,i,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Gu(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=di(r.duration)),null!=r.delay&&(i.delay=di(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=oc(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new zm(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=zu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new pH(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(uH,"."+this._enterClassName)).replace(hH,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&0==a.length&&s.push(function yV(n){return new E(3014,!1)}()),a}}class Gu{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Gu(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||ui),this._currentKeyframe.set(e,ui);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},s=function mH(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,ui)}else Bi(i,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=oc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ui),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=Bi(a,new Map,this._backFill);l.forEach((u,d)=>{"!"===u?t.add(d):u===ui&&e.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});const o=t.size?Fu(t.values()):[],s=e.size?Fu(e.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Hm(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class pH extends Gu{constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=r+e,a=e/s,c=Bi(t[0]);c.set("offset",0),o.push(c);const l=Bi(t[0]);l.set("offset",MT(a)),o.push(l);const u=t.length-1;for(let d=1;d<=u;d++){let h=Bi(t[d]);const f=h.get("offset");h.set("offset",MT((e+f*r)/s)),o.push(h)}r=s,e=0,i="",t=o}return Hm(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function MT(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Gm{}const gH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vH extends Gm{normalizePropertyName(t,e){return Um(t)}normalizeStyleValue(t,e,r,i){let o="";const s=r.toString().trim();if(gH.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function aV(n,t){return new E(3005,!1)}())}return s+o}}function RT(n,t,e,r,i,o,s,a,c,l,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const qm={};class kT{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function yH(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||qm,p=this.buildStyles(r,a&&a.params||qm,d),m=c&&c.params||qm,g=this.buildStyles(i,m,d),y=new Set,w=new Map,C=new Map,k="void"===i,K={params:_H(m,h),delay:this.ast.options?.delay},ce=u?[]:jm(t,e,this.ast.animation,o,s,p,g,K,l,d);let Be=0;if(ce.forEach(jn=>{Be=Math.max(jn.duration+jn.delay,Be)}),d.length)return RT(e,this._triggerName,r,i,k,p,g,[],[],w,C,Be,d);ce.forEach(jn=>{const zn=jn.element,ta=Bn(w,zn,new Set);jn.preStyleProps.forEach(Cr=>ta.add(Cr));const bi=Bn(C,zn,new Set);jn.postStyleProps.forEach(Cr=>bi.add(Cr)),zn!==e&&y.add(zn)});const Pe=Fu(y.values());return RT(e,this._triggerName,r,i,k,p,g,ce,Pe,w,C,Be)}}function _H(n,t){const e=rc(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class CH{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=rc(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=oc(s,i,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),r.set(c,s)})}),r}}class bH{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new CH(i.style,i.options&&i.options.params||{},r))}),NT(this.states,"true","1"),NT(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new kT(t,i,this.states))}),this.fallbackTransition=function EH(n,t,e){return new kT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function NT(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const SH=new ju;class TH{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],o=Bm(this._driver,e,r,[]);if(r.length)throw function TV(n){return new E(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=uT(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=jm(this._driver,e,o,xm,Nu,new Map,new Map,r,SH,i),s.forEach(u=>{const d=Bn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function IV(){return new E(3300,!1)}()),s=[]),i.length)throw function DV(n){return new E(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,ui))})});const l=Ui(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function AV(n){return new E(3301,!1)}();return e}listen(t,e,r,i){const o=Rm(e,"","","");return Am(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const OT="ng-animate-queued",$m="ng-animate-disabled",RH=[],xT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zn="__ng_removed";class Km{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function PH(n){return n??null}(r?t.value:t),r){const o=rc(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const sc="void",Wm=new Km(sc);class NH{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Xn(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function MV(n,t){return new E(3302,!1)}();if(null==r||0==r.length)throw function RV(n){return new E(3303,!1)}();if(!function FH(n){return"start"==n||"done"==n}(r))throw function kV(n,t){return new E(3400,!1)}();const o=Bn(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);const a=Bn(this._engine.statesByElement,t,new Map);return a.has(e)||(Xn(t,Ou),Xn(t,Ou+"-"+e),a.set(e,Wm)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function NV(n){return new E(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),s=new Qm(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Xn(t,Ou),Xn(t,Ou+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new Km(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=Wm),l.value!==sc&&c.value===l.value){if(!function BH(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(c.params,l.params)){const m=[],g=o.matchStyles(c.value,c.params,m),y=o.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{yo(t,g),xr(t,y)})}return}const h=Bn(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=o.matchTransition(c.value,l.value,t,l.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:p}),p||(Xn(t,OT),s.onStart(()=>{As(t,OT)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let y=g.indexOf(s);y>=0&&g.splice(y,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,xu,!0);r.forEach(i=>{if(i[Zn])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(t,l,sc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&Ui(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,l=r.get(s)||Wm,u=new Km(sc),d=new Qm(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Zn];(!o||o===xT)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Xn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=Rm(o,r.triggerName,r.fromState.value,r.toState.value);c._data=t,Am(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class OH{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new NH(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(qu(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!qu(e))return;const o=e[Zn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Xn(t,$m)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),As(t,$m))}removeNode(t,e,r,i){if(qu(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[Zn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return qu(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,xu,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Pm,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ui(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Zn];if(e&&e.setForRemoval){if(t[Zn]=xT,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains($m)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Xn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ui(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function OV(n){return new E(3402,!1)}()}_flushAnimations(t,e){const r=new ju,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(j=>{u.add(j);const W=this.driver.query(j,".ng-animate-queued",!0);for(let Z=0;Z<W.length;Z++)u.add(W[Z])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=LT(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((j,W)=>{const Z=xm+m++;p.set(W,Z),j.forEach(we=>Xn(we,Z))});const g=[],y=new Set,w=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const W=this.collectedLeaveElements[j],Z=W[Zn];Z&&Z.setForRemoval&&(g.push(W),y.add(W),Z.hasAnimation?this.driver.query(W,".ng-star-inserted",!0).forEach(we=>y.add(we)):w.add(W))}const C=new Map,k=LT(h,Array.from(y));k.forEach((j,W)=>{const Z=Nu+m++;C.set(W,Z),j.forEach(we=>Xn(we,Z))}),t.push(()=>{f.forEach((j,W)=>{const Z=p.get(W);j.forEach(we=>As(we,Z))}),k.forEach((j,W)=>{const Z=C.get(W);j.forEach(we=>As(we,Z))}),g.forEach(j=>{this.processLeaveNode(j)})});const K=[],ce=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(Z=>{const we=Z.player,xt=Z.element;if(K.push(we),this.collectedEnterElements.length){const tn=xt[Zn];if(tn&&tn.setForMove){if(tn.previousTriggersValues&&tn.previousTriggersValues.has(Z.triggerName)){const Uo=tn.previousTriggersValues.get(Z.triggerName),nr=this.statesByElement.get(Z.element);if(nr&&nr.has(Z.triggerName)){const lh=nr.get(Z.triggerName);lh.value=Uo,nr.set(Z.triggerName,lh)}}return void we.destroy()}}const qr=!d||!this.driver.containsElement(d,xt),Gn=C.get(xt),Qi=p.get(xt),at=this._buildInstruction(Z,r,Qi,Gn,qr);if(at.errors&&at.errors.length)return void ce.push(at);if(qr)return we.onStart(()=>yo(xt,at.fromStyles)),we.onDestroy(()=>xr(xt,at.toStyles)),void i.push(we);if(Z.isFallbackTransition)return we.onStart(()=>yo(xt,at.fromStyles)),we.onDestroy(()=>xr(xt,at.toStyles)),void i.push(we);const JM=[];at.timelines.forEach(tn=>{tn.stretchStartingKeyframe=!0,this.disabledNodes.has(tn.element)||JM.push(tn)}),at.timelines=JM,r.append(xt,at.timelines),s.push({instruction:at,player:we,element:xt}),at.queriedElements.forEach(tn=>Bn(a,tn,[]).push(we)),at.preStyleProps.forEach((tn,Uo)=>{if(tn.size){let nr=c.get(Uo);nr||c.set(Uo,nr=new Set),tn.forEach((lh,Zv)=>nr.add(Zv))}}),at.postStyleProps.forEach((tn,Uo)=>{let nr=l.get(Uo);nr||l.set(Uo,nr=new Set),tn.forEach((lh,Zv)=>nr.add(Zv))})});if(ce.length){const j=[];ce.forEach(W=>{j.push(function xV(n,t){return new E(3505,!1)}())}),K.forEach(W=>W.destroy()),this.reportError(j)}const Be=new Map,Pe=new Map;s.forEach(j=>{const W=j.element;r.has(W)&&(Pe.set(W,W),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,Be))}),i.forEach(j=>{const W=j.element;this._getPreviousPlayers(W,!1,j.namespaceId,j.triggerName,null).forEach(we=>{Bn(Be,W,[]).push(we),we.destroy()})});const jn=g.filter(j=>BT(j,c,l)),zn=new Map;FT(zn,this.driver,w,l,ui).forEach(j=>{BT(j,c,l)&&jn.push(j)});const bi=new Map;f.forEach((j,W)=>{FT(bi,this.driver,new Set(j),c,"!")}),jn.forEach(j=>{const W=zn.get(j),Z=bi.get(j);zn.set(j,new Map([...Array.from(W?.entries()??[]),...Array.from(Z?.entries()??[])]))});const Cr=[],na=[],ra={};s.forEach(j=>{const{element:W,player:Z,instruction:we}=j;if(r.has(W)){if(u.has(W))return Z.onDestroy(()=>xr(W,we.toStyles)),Z.disabled=!0,Z.overrideTotalTime(we.totalTime),void i.push(Z);let xt=ra;if(Pe.size>1){let Gn=W;const Qi=[];for(;Gn=Gn.parentNode;){const at=Pe.get(Gn);if(at){xt=at;break}Qi.push(Gn)}Qi.forEach(at=>Pe.set(at,xt))}const qr=this._buildAnimation(Z.namespaceId,we,Be,o,bi,zn);if(Z.setRealPlayer(qr),xt===ra)Cr.push(Z);else{const Gn=this.playersByElement.get(xt);Gn&&Gn.length&&(Z.parentPlayer=Ui(Gn)),i.push(Z)}}else yo(W,we.fromStyles),Z.onDestroy(()=>xr(W,we.toStyles)),na.push(Z),u.has(W)&&i.push(Z)}),na.forEach(j=>{const W=o.get(j.element);if(W&&W.length){const Z=Ui(W);j.setRealPlayer(Z)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<g.length;j++){const W=g[j],Z=W[Zn];if(As(W,Nu),Z&&Z.hasAnimation)continue;let we=[];if(a.size){let qr=a.get(W);qr&&qr.length&&we.push(...qr);let Gn=this.driver.query(W,Pm,!0);for(let Qi=0;Qi<Gn.length;Qi++){let at=a.get(Gn[Qi]);at&&at.length&&we.push(...at)}}const xt=we.filter(qr=>!qr.destroyed);xt.length?LH(this,W,xt):this.processLeaveNode(W)}return g.length=0,Cr.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const W=this.players.indexOf(j);this.players.splice(W,1)}),j.play()}),Cr}elementContainsData(t,e){let r=!1;const i=e[Zn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==sc;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,u=l!==o,d=Bn(r,l,[]);this._getPreviousPlayers(l,u,s,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}yo(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){const a=e.triggerName,c=e.element,l=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[Zn];if(g&&g.removedBeforeQueried)return new nc(p.duration,p.delay);const y=m!==c,w=function UH(n){const t=[];return UT(n,t),t}((r.get(m)||RH).map(Be=>Be.getRealPlayer())).filter(Be=>!!Be.element&&Be.element===m),C=o.get(m),k=s.get(m),K=uT(0,this._normalizer,0,p.keyframes,C,k),ce=this._buildPlayer(p,K,w);if(p.subTimeline&&i&&d.add(m),y){const Be=new Qm(t,a,m);Be.setRealPlayer(ce),l.push(Be)}return ce});l.forEach(p=>{Bn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function xH(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Xn(p,_T));const f=Ui(h);return f.onDestroy(()=>{u.forEach(p=>As(p,_T)),xr(c,e.toStyles)}),d.forEach(p=>{Bn(i,p,[]).push(f)}),f}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new nc(t.duration,t.delay)}}class Qm{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new nc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Am(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function qu(n){return n&&1===n.nodeType}function PT(n,t){const e=n.style.display;return n.style.display=t??"none",e}function FT(n,t,e,r,i){const o=[];e.forEach(c=>o.push(PT(c)));const s=[];r.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=t.computeStyle(l,d,i);u.set(d,h),(!h||0==h.length)&&(l[Zn]=kH,s.push(l))}),n.set(l,u)});let a=0;return e.forEach(c=>PT(c,o[a++])),s}function LT(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:i.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function Xn(n,t){n.classList?.add(t)}function As(n,t){n.classList?.remove(t)}function LH(n,t,e){Ui(e).onDone(()=>n.processLeaveNode(t))}function UT(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof cT?UT(r.players,t):t.push(r)}}function BT(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class $u{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new OH(t,e,r),this._timelineEngine=new TH(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const s=t+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],u=Bm(this._driver,o,c,[]);if(c.length)throw function EV(n,t){return new E(3404,!1)}();a=function wH(n,t,e){return new bH(n,t,e)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,s]=dT(r);this._timelineEngine.command(o,e,s,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[s,a]=dT(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let HH=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xr(this._element,this._initialStyles),this._endStyles&&(xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(yo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yo(this._element,this._endStyles),this._endStyles=null),xr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ym(n){let t=null;return n.forEach((e,r)=>{(function jH(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class VT{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:TT(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class zH{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return mT(t,e)}getParentElement(t){return Nm(t)}query(t,e,r){return gT(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(f=>f instanceof VT);(function KV(n,t){return 0===n||0===t})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>l.set(m,p))});let d=function zV(n){return n.length?n[0]instanceof Map?n:n.map(t=>CT(t)):[]}(e).map(f=>Bi(f));d=function WV(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,TT(n,a)))}}return t}(t,d,l);const h=function VH(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Ym(t[0]),t.length>1&&(r=Ym(t[t.length-1]))):t instanceof Map&&(e=Ym(t)),e||r?new HH(n,e,r):null}(t,d);return new VT(t,d,c,h)}}let GH=(()=>{class n extends iT{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ir.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?oT(e):e;return HT(this._renderer,null,r,"register",[i]),new qH(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(S(ka),S(Ne))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class qH extends class tV{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new $H(this._id,t,e||{},this._renderer)}}class $H{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return HT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function HT(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const jT="@.disabled";let KH=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(o);return u||(u=new zT("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(s,a,e,u.name,u)};return r.data.animation.forEach(c),new WH(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(S(ka),S($u),S(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class zT{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==jT?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class WH extends zT{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==jT?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function QH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function YH(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,e,r)}}const GT=[{provide:iT,useClass:GH},{provide:Gm,useFactory:function ZH(){return new vH}},{provide:$u,useClass:(()=>{class n extends $u{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(S(Ne),S(Om),S(Gm),S(Wa))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})()},{provide:ka,useFactory:function XH(n,t,e){return new KH(n,t,e)},deps:[ku,$u,ke]}],Jm=[{provide:Om,useFactory:()=>new zH},{provide:fo,useValue:"BrowserAnimations"},...GT],qT=[{provide:Om,useClass:vT},{provide:fo,useValue:"NoopAnimations"},...GT];let e2=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?qT:Jm}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({providers:Jm,imports:[XS]}),n})();const{isArray:t2}=Array,{getPrototypeOf:n2,prototype:r2,keys:o2}=Object;const{isArray:a2}=Array;let BI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({}),n})(),aj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[BI]}),n})(),cj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[aj]}),n})();function V(...n){return be(n,sa(n))}function Pr(n,t){return Fe(t)?Pt(n,t,1):Pt(n,1)}function Lt(n,t){return ct((e,r)=>{let i=0;e.subscribe(tt(r,o=>n.call(t,o,i++)&&r.next(o)))})}class rD{}class iD{}class hi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof hi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new hi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof hi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class uj{encodeKey(t){return oD(t)}encodeValue(t){return oD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const hj=/%(\d[a-f0-9])/gi,fj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oD(n){return encodeURIComponent(n).replace(hj,(t,e)=>fj[e]??t)}function rd(n){return`${n}`}class zi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new uj,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dj(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(rd):[rd(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new zi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(rd(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(rd(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class pj{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function sD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aD(n){return typeof Blob<"u"&&n instanceof Blob}function cD(n){return typeof FormData<"u"&&n instanceof FormData}class dc{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function mj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new hi),this.context||(this.context=new pj),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new zi,this.urlWithParams=e}serializeBody(){return null===this.body?null:sD(this.body)||aD(this.body)||cD(this.body)||function gj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cD(this.body)?null:aD(this.body)?this.body.type||null:sD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),l)),new dc(e,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var yt=(()=>((yt=yt||{})[yt.Sent=0]="Sent",yt[yt.UploadProgress=1]="UploadProgress",yt[yt.ResponseHeader=2]="ResponseHeader",yt[yt.DownloadProgress=3]="DownloadProgress",yt[yt.Response=4]="Response",yt[yt.User=5]="User",yt))();class yg{constructor(t,e=200,r="OK"){this.headers=t.headers||new hi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class _g extends yg{constructor(t={}){super(t),this.type=yt.ResponseHeader}clone(t={}){return new _g({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class id extends yg{constructor(t={}){super(t),this.type=yt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new id({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class lD extends yg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Cg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wg=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof dc)o=e;else{let c,l;c=i.headers instanceof hi?i.headers:new hi(i.headers),i.params&&(l=i.params instanceof zi?i.params:new zi({fromObject:i.params})),o=new dc(e,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=V(o).pipe(Pr(c=>this.handler.handle(c)));if(e instanceof dc||"events"===i.observe)return s;const a=s.pipe(Lt(c=>c instanceof id));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(X(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(X(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(X(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new zi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Cg(i,r))}post(e,r,i={}){return this.request("POST",e,Cg(i,r))}put(e,r,i={}){return this.request("PUT",e,Cg(i,r))}}return n.\u0275fac=function(e){return new(e||n)(S(rD))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class uD{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const dD=new N("HTTP_INTERCEPTORS");let vj=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const yj=/^\)\]\}',?\n/;let hD=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Xe(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const f=e.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(e.responseType){const f=e.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=i.statusText||"OK",p=new hi(i.getAllResponseHeaders()),m=function _j(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new _g({headers:p,status:i.status,statusText:f,url:m}),s},c=()=>{let{headers:f,status:p,statusText:m,url:g}=a(),y=null;204!==p&&(y=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=y?200:0);let w=p>=200&&p<300;if("json"===e.responseType&&"string"==typeof y){const C=y;y=y.replace(yj,"");try{y=""!==y?JSON.parse(y):null}catch(k){y=C,w&&(w=!1,y={error:k,text:y})}}w?(r.next(new id({body:y,headers:f,status:p,statusText:m,url:g||void 0})),r.complete()):r.error(new lD({error:y,headers:f,status:p,statusText:m,url:g||void 0}))},l=f=>{const{url:p}=a(),m=new lD({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:yt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===e.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:yt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",c),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),e.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",h)),i.send(o),r.next({type:yt.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",c),i.removeEventListener("timeout",l),e.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(S(OS))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const bg=new N("XSRF_COOKIE_NAME"),Eg=new N("XSRF_HEADER_NAME");class fD{}let Cj=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=SS(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(S(Ne),S(lu),S(bg))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Sg=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(S(fD),S(Eg))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),wj=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(dD,[]);this.chain=r.reduceRight((i,o)=>new uD(i,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(S(iD),S(gn))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),bj=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Sg,useClass:vj}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:bg,useValue:e.cookieName}:[],e.headerName?{provide:Eg,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({providers:[Sg,{provide:dD,useExisting:Sg,multi:!0},{provide:fD,useClass:Cj},{provide:bg,useValue:"XSRF-TOKEN"},{provide:Eg,useValue:"X-XSRF-TOKEN"}]}),n})(),Ej=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({providers:[wg,{provide:rD,useClass:wj},hD,{provide:iD,useExisting:hD}],imports:[bj.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var Tg=function(n,t){return(Tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function Ut(n,t){function e(){this.constructor=n}Tg(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var z=function(){return z=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},z.apply(this,arguments)};function pD(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e}function I(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}function D(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(u){l=[6,u],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}function Sj(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,s,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function Ig(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Sj(arguments[t]));return n}var b=(()=>{return(n=b||(b={})).AcquireTokenByCode="acquireTokenByCode",n.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",n.AcquireTokenSilent="acquireTokenSilent",n.AcquireTokenSilentAsync="acquireTokenSilentAsync",n.AcquireTokenPopup="acquireTokenPopup",n.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",n.CryptoOptsSignJwt="cryptoOptsSignJwt",n.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",n.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",n.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",n.SsoSilent="ssoSilent",n.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",n.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",n.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",n.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",n.BrokerHandhshake="brokerHandshake",n.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",n.AcquireTokenByBroker="acquireTokenByBroker",n.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",n.RefreshTokenClientAcquireToken="refreshTokenClientAcquireToken",n.RefreshTokenClientAcquireTokenWithCachedRefreshToken="refreshTokenClientAcquireTokenWithCachedRefreshToken",n.RefreshTokenClientAcquireTokenByRefreshToken="refreshTokenClientAcquireTokenByRefreshToken",n.RefreshTokenClientCreateTokenRequestBody="refreshTokenClientCreateTokenRequestBody",n.AcquireTokenFromCache="acquireTokenFromCache",n.AcquireTokenBySilentIframe="acquireTokenBySilentIframe",n.InitializeBaseRequest="initializeBaseRequest",n.InitializeSilentRequest="initializeSilentRequest",n.InitializeClientApplication="initializeClientApplication",n.SilentIframeClientTokenHelper="silentIframeClientTokenHelper",n.SilentHandlerInitiateAuthRequest="silentHandlerInitiateAuthRequest",n.SilentHandlerMonitorIframeForHash="silentHandlerMonitorIframeForHash",n.SilentHandlerLoadFrame="silentHandlerLoadFrame",n.StandardInteractionClientCreateAuthCodeClient="standardInteractionClientCreateAuthCodeClient",n.StandardInteractionClientGetClientConfiguration="standardInteractionClientGetClientConfiguration",n.StandardInteractionClientInitializeAuthorizationRequest="standardInteractionClientInitializeAuthorizationRequest",n.StandardInteractionClientInitializeAuthorizationCodeRequest="standardInteractionClientInitializeAuthorizationCodeRequest",n.GetAuthCodeUrl="getAuthCodeUrl",n.HandleCodeResponseFromServer="handleCodeResponseFromServer",n.HandleCodeResponseFromHash="handleCodeResponseFromHash",n.UpdateTokenEndpointAuthority="updateTokenEndpointAuthority",n.AuthClientAcquireToken="authClientAcquireToken",n.AuthClientExecuteTokenRequest="authClientExecuteTokenRequest",n.AuthClientCreateTokenRequestBody="authClientCreateTokenRequestBody",n.AuthClientCreateQueryString="authClientCreateQueryString",n.PopTokenGenerateCnf="popTokenGenerateCnf",n.PopTokenGenerateKid="popTokenGenerateKid",n.HandleServerTokenResponse="handleServerTokenResponse",n.AuthorityFactoryCreateDiscoveredInstance="authorityFactoryCreateDiscoveredInstance",n.AuthorityResolveEndpointsAsync="authorityResolveEndpointsAsync",n.AuthorityGetCloudDiscoveryMetadataFromNetwork="authorityGetCloudDiscoveryMetadataFromNetwork",n.AuthorityUpdateCloudDiscoveryMetadata="authorityUpdateCloudDiscoveryMetadata",n.AuthorityGetEndpointMetadataFromNetwork="authorityGetEndpointMetadataFromNetwork",n.AuthorityUpdateEndpointMetadata="authorityUpdateEndpointMetadata",n.AuthorityUpdateMetadataWithRegionalInformation="authorityUpdateMetadataWithRegionalInformation",n.RegionDiscoveryDetectRegion="regionDiscoveryDetectRegion",n.RegionDiscoveryGetRegionFromIMDS="regionDiscoveryGetRegionFromIMDS",n.RegionDiscoveryGetCurrentVersion="regionDiscoveryGetCurrentVersion",n.AcquireTokenByCodeAsync="acquireTokenByCodeAsync",n.GetEndpointMetadataFromNetwork="getEndpointMetadataFromNetwork",n.GetCloudDiscoveryMetadataFromNetworkMeasurement="getCloudDiscoveryMetadataFromNetworkMeasurement",n.HandleRedirectPromiseMeasurement="handleRedirectPromiseMeasurement",n.UpdateCloudDiscoveryMetadataMeasurement="updateCloudDiscoveryMetadataMeasurement",n.UsernamePasswordClientAcquireToken="usernamePasswordClientAcquireToken",n.NativeMessageHandlerHandshake="nativeMessageHandlerHandshake",n.ClearTokensAndKeysWithClaims="clearTokensAndKeysWithClaims",b;var n})(),hc=(()=>{return(n=hc||(hc={}))[n.NotStarted=0]="NotStarted",n[n.InProgress=1]="InProgress",n[n.Completed=2]="Completed",hc;var n})(),Tj=new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status"]),Dg=function(n,t){return(Dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function Cn(n,t){function e(){this.constructor=n}Dg(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var De=function(){return De=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},De.apply(this,arguments)};function te(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}function ne(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(u){l=[6,u],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}function od(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var r=Array(n),i=0;for(t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var v={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",REGIONAL_AUTH_NON_MSI_QUERY_STRING:"allowestsrnonmsi=true",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},fc=[v.OPENID_SCOPE,v.PROFILE_SCOPE,v.OFFLINE_ACCESS_SCOPE],mD=od(fc,[v.EMAIL_SCOPE]),wn=(()=>{return(n=wn||(wn={})).CONTENT_TYPE="Content-Type",n.RETRY_AFTER="Retry-After",n.CCS_HEADER="X-AnchorMailbox",n.WWWAuthenticate="WWW-Authenticate",n.AuthenticationInfo="Authentication-Info",n.X_MS_REQUEST_ID="x-ms-request-id",n.X_MS_HTTP_VERSION="x-ms-httpver",wn;var n})(),_t=(()=>{return(n=_t||(_t={})).ID_TOKEN="idtoken",n.CLIENT_INFO="client.info",n.ADAL_ID_TOKEN="adal.idtoken",n.ERROR="error",n.ERROR_DESC="error.description",n.ACTIVE_ACCOUNT="active-account",n.ACTIVE_ACCOUNT_FILTERS="active-account-filters",_t;var n})(),Gi=(()=>{return(n=Gi||(Gi={})).COMMON="common",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",Gi;var n})(),oe=(()=>{return(n=oe||(oe={})).CLIENT_ID="client_id",n.REDIRECT_URI="redirect_uri",n.RESPONSE_TYPE="response_type",n.RESPONSE_MODE="response_mode",n.GRANT_TYPE="grant_type",n.CLAIMS="claims",n.SCOPE="scope",n.ERROR="error",n.ERROR_DESCRIPTION="error_description",n.ACCESS_TOKEN="access_token",n.ID_TOKEN="id_token",n.REFRESH_TOKEN="refresh_token",n.EXPIRES_IN="expires_in",n.STATE="state",n.NONCE="nonce",n.PROMPT="prompt",n.SESSION_STATE="session_state",n.CLIENT_INFO="client_info",n.CODE="code",n.CODE_CHALLENGE="code_challenge",n.CODE_CHALLENGE_METHOD="code_challenge_method",n.CODE_VERIFIER="code_verifier",n.CLIENT_REQUEST_ID="client-request-id",n.X_CLIENT_SKU="x-client-SKU",n.X_CLIENT_VER="x-client-VER",n.X_CLIENT_OS="x-client-OS",n.X_CLIENT_CPU="x-client-CPU",n.X_CLIENT_CURR_TELEM="x-client-current-telemetry",n.X_CLIENT_LAST_TELEM="x-client-last-telemetry",n.X_MS_LIB_CAPABILITY="x-ms-lib-capability",n.X_APP_NAME="x-app-name",n.X_APP_VER="x-app-ver",n.POST_LOGOUT_URI="post_logout_redirect_uri",n.ID_TOKEN_HINT="id_token_hint",n.DEVICE_CODE="device_code",n.CLIENT_SECRET="client_secret",n.CLIENT_ASSERTION="client_assertion",n.CLIENT_ASSERTION_TYPE="client_assertion_type",n.TOKEN_TYPE="token_type",n.REQ_CNF="req_cnf",n.OBO_ASSERTION="assertion",n.REQUESTED_TOKEN_USE="requested_token_use",n.ON_BEHALF_OF="on_behalf_of",n.FOCI="foci",n.CCS_HEADER="X-AnchorMailbox",n.RETURN_SPA_CODE="return_spa_code",n.NATIVE_BROKER="nativebroker",n.LOGOUT_HINT="logout_hint",oe;var n})(),bo=(()=>{return(n=bo||(bo={})).ACCESS_TOKEN="access_token",n.XMS_CC="xms_cc",bo;var n})(),Bt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Rs=(()=>{return(n=Rs||(Rs={})).ACCOUNT="account",n.SID="sid",n.LOGIN_HINT="login_hint",n.ID_TOKEN="id_token",n.DOMAIN_HINT="domain_hint",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",n.ACCOUNT_ID="accountIdentifier",n.HOMEACCOUNT_ID="homeAccountIdentifier",Rs;var n})(),gD={PLAIN:"plain",S256:"S256"},pc=(()=>{return(n=pc||(pc={})).QUERY="query",n.FRAGMENT="fragment",n.FORM_POST="form_post",pc;var n})(),mc=(()=>{return(n=mc||(mc={})).IMPLICIT_GRANT="implicit",n.AUTHORIZATION_CODE_GRANT="authorization_code",n.CLIENT_CREDENTIALS_GRANT="client_credentials",n.RESOURCE_OWNER_PASSWORD_GRANT="password",n.REFRESH_TOKEN_GRANT="refresh_token",n.DEVICE_CODE_GRANT="device_code",n.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer",mc;var n})(),Fr=(()=>{return(n=Fr||(Fr={})).MSSTS_ACCOUNT_TYPE="MSSTS",n.ADFS_ACCOUNT_TYPE="ADFS",n.MSAV1_ACCOUNT_TYPE="MSA",n.GENERIC_ACCOUNT_TYPE="Generic",Fr;var n})(),Ct=(()=>{return(n=Ct||(Ct={})).CACHE_KEY_SEPARATOR="-",n.CLIENT_INFO_SEPARATOR=".",Ct;var n})(),$=(()=>{return(n=$||($={})).ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",n.REFRESH_TOKEN="RefreshToken",$;var n})(),Lr=(()=>{return(n=Lr||(Lr={}))[n.ADFS=1001]="ADFS",n[n.MSA=1002]="MSA",n[n.MSSTS=1003]="MSSTS",n[n.GENERIC=1004]="GENERIC",n[n.ACCESS_TOKEN=2001]="ACCESS_TOKEN",n[n.REFRESH_TOKEN=2002]="REFRESH_TOKEN",n[n.ID_TOKEN=2003]="ID_TOKEN",n[n.APP_METADATA=3001]="APP_METADATA",n[n.UNDEFINED=9999]="UNDEFINED",Lr;var n})(),Ag="appmetadata",Hn=(()=>{return(n=Hn||(Hn={})).CONFIG="config",n.CACHE="cache",n.NETWORK="network",n.HARDCODED_VALUES="hardcoded_values",Hn;var n})(),Vt={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Ae=(()=>{return(n=Ae||(Ae={})).BEARER="Bearer",n.POP="pop",n.SSH="ssh-cert",Ae;var n})(),_c=(()=>{return(n=_c||(_c={})).username="username",n.password="password",_c;var n})(),Eo=(()=>{return(n=Eo||(Eo={}))[n.httpSuccess=200]="httpSuccess",n[n.httpBadRequest=400]="httpBadRequest",Eo;var n})(),fi=(()=>{return(n=fi||(fi={})).FAILED_AUTO_DETECTION="1",n.INTERNAL_CACHE="2",n.ENVIRONMENT_VARIABLE="3",n.IMDS="4",fi;var n})(),ks=(()=>{return(n=ks||(ks={})).CONFIGURED_MATCHES_DETECTED="1",n.CONFIGURED_NO_AUTO_DETECTION="2",n.CONFIGURED_NOT_DETECTED="3",n.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",n.AUTO_DETECTION_REQUESTED_FAILED="5",ks;var n})(),pi=(()=>{return(n=pi||(pi={})).NO_CACHE_HIT="0",n.FORCE_REFRESH="1",n.NO_CACHED_ACCESS_TOKEN="2",n.CACHED_ACCESS_TOKEN_EXPIRED="3",n.REFRESH_CACHED_ACCESS_TOKEN="4",n.CLAIMS_REQUESTED_CACHE_SKIPPED="5",pi;var n})(),sd=(()=>{return(n=sd||(sd={})).Jwt="JWT",n.Jwk="JWK",n.Pop="pop",sd;var n})(),ad_unexpectedError_code="unexpected_error",ad_unexpectedError_desc="Unexpected error in authentication.",ad_postRequestFailed_code="post_request_failed",ad_postRequestFailed_desc="Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details.",G=function(n){function t(e,r,i){var o=this;return o=n.call(this,r?e+": "+r:e)||this,Object.setPrototypeOf(o,t.prototype),o.errorCode=e||v.EMPTY_STRING,o.errorMessage=r||v.EMPTY_STRING,o.subError=i||v.EMPTY_STRING,o.name="AuthError",o}return Cn(t,n),t.prototype.setCorrelationId=function(e){this.correlationId=e},t.createUnexpectedError=function(e){return new t(ad_unexpectedError_code,ad_unexpectedError_desc+": "+e)},t.createPostRequestFailed=function(e){return new t(ad_postRequestFailed_code,ad_postRequestFailed_desc+": "+e)},t}(Error),So=function(n){function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.name="ServerError",Object.setPrototypeOf(o,t.prototype),o}return Cn(t,n),t}(G),yD=["interaction_required","consent_required","login_required"],Dj=["message_only","additional_action","basic_action","user_password_expired","consent_required"],Ns_noTokensFoundError_code="no_tokens_found",Ns_noTokensFoundError_desc="No refresh token found in the cache. Please sign-in.",Ns_native_account_unavailable_code="native_account_unavailable",Ns_native_account_unavailable_desc="The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",gr=function(n){function t(e,r,i,o,s,a,c){var l=n.call(this,e,r,i)||this;return Object.setPrototypeOf(l,t.prototype),l.timestamp=o||v.EMPTY_STRING,l.traceId=s||v.EMPTY_STRING,l.correlationId=a||v.EMPTY_STRING,l.claims=c||v.EMPTY_STRING,l.name="InteractionRequiredAuthError",l}return Cn(t,n),t.isInteractionRequiredError=function(e,r,i){var o=!!e&&yD.indexOf(e)>-1,s=!!i&&Dj.indexOf(i)>-1,a=!!r&&yD.some(function(c){return r.indexOf(c)>-1});return o||a||s},t.createNoTokensFoundError=function(){return new t(Ns_noTokensFoundError_code,Ns_noTokensFoundError_desc)},t.createNativeAccountUnavailableError=function(){return new t(Ns_native_account_unavailable_code,Ns_native_account_unavailable_desc)},t}(G),Cc_CHANNEL_ID="53ee284d-920a-4b59-9d30-a60315b26836",Ur=(()=>{return(n=Ur||(Ur={})).HandshakeRequest="Handshake",n.HandshakeResponse="HandshakeResponse",n.GetToken="GetToken",n.Response="Response",Ur;var n})(),ht=(()=>{return(n=ht||(ht={})).LocalStorage="localStorage",n.SessionStorage="sessionStorage",n.MemoryStorage="memoryStorage",ht;var n})(),yr=(()=>{return(n=yr||(yr={})).GET="GET",n.POST="POST",yr;var n})(),_e=(()=>{return(n=_e||(_e={})).AUTHORITY="authority",n.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",n.SESSION_STATE="session.state",n.REQUEST_STATE="request.state",n.NONCE_IDTOKEN="nonce.id_token",n.ORIGIN_URI="request.origin",n.RENEW_STATUS="token.renew.status",n.URL_HASH="urlHash",n.REQUEST_PARAMS="request.params",n.SCOPES="scopes",n.INTERACTION_STATUS_KEY="interaction.status",n.CCS_CREDENTIAL="ccs.credential",n.CORRELATION_ID="request.correlationId",n.NATIVE_REQUEST="request.native",n.REDIRECT_CONTEXT="request.redirect.context",_e;var n})(),_r=(()=>{return(n=_r||(_r={})).ACCOUNT_KEYS="msal.account.keys",n.TOKEN_KEYS="msal.token.keys",_r;var n})(),To=(()=>{return(n=To||(To={})).WRAPPER_SKU="wrapper.sku",n.WRAPPER_VER="wrapper.version",To;var n})(),je=(()=>{return(n=je||(je={}))[n.acquireTokenRedirect=861]="acquireTokenRedirect",n[n.acquireTokenPopup=862]="acquireTokenPopup",n[n.ssoSilent=863]="ssoSilent",n[n.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",n[n.handleRedirectPromise=865]="handleRedirectPromise",n[n.acquireTokenByCode=866]="acquireTokenByCode",n[n.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",n[n.logout=961]="logout",n[n.logoutPopup=962]="logoutPopup",je;var n})(),x=(()=>{return(n=x||(x={})).Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",x;var n})(),wt=(()=>{return(n=wt||(wt={})).Startup="startup",n.Login="login",n.Logout="logout",n.AcquireToken="acquireToken",n.SsoSilent="ssoSilent",n.HandleRedirect="handleRedirect",n.None="none",wt;var n})(),_D={scopes:fc},Os="jwk",cd=(()=>{return(n=cd||(cd={})).React="@azure/msal-react",n.Angular="@azure/msal-angular",cd;var n})(),Mg="msal.db",hn=(()=>{return(n=hn||(hn={}))[n.Default=0]="Default",n[n.AccessToken=1]="AccessToken",n[n.AccessTokenAndRefreshToken=2]="AccessTokenAndRefreshToken",n[n.RefreshToken=3]="RefreshToken",n[n.RefreshTokenAndNetwork=4]="RefreshTokenAndNetwork",n[n.Skip=5]="Skip",hn;var n})(),ld_missingKidError_code="missing_kid_error",ld_missingKidError_desc="The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",ld_missingAlgError_code="missing_alg_error",ld_missingAlgError_desc="The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided.",CD=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="JoseHeaderError",Object.setPrototypeOf(i,t.prototype),i}return Cn(t,n),t.createMissingKidError=function(){return new t(ld_missingKidError_code,ld_missingKidError_desc)},t.createMissingAlgError=function(){return new t(ld_missingAlgError_code,ld_missingAlgError_desc)},t}(G),Rj=function(){function n(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}return n.getShrHeaderString=function(t){if(!t.kid)throw CD.createMissingKidError();if(!t.alg)throw CD.createMissingAlgError();var e=new n({typ:t.typ||sd.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(e)},n}(),Zt=function(){function n(){}return n.decimalToHex=function(t){for(var e=t.toString(16);e.length<2;)e="0"+e;return e},n}(),wD=function(){function n(t){this.cryptoObj=t}return n.prototype.generateGuid=function(){try{var t=new Uint8Array(16);return this.cryptoObj.getRandomValues(t),t[6]|=64,t[6]&=79,t[8]|=128,t[8]&=191,Zt.decimalToHex(t[0])+Zt.decimalToHex(t[1])+Zt.decimalToHex(t[2])+Zt.decimalToHex(t[3])+"-"+Zt.decimalToHex(t[4])+Zt.decimalToHex(t[5])+"-"+Zt.decimalToHex(t[6])+Zt.decimalToHex(t[7])+"-"+Zt.decimalToHex(t[8])+Zt.decimalToHex(t[9])+"-"+Zt.decimalToHex(t[10])+Zt.decimalToHex(t[11])+Zt.decimalToHex(t[12])+Zt.decimalToHex(t[13])+Zt.decimalToHex(t[14])+Zt.decimalToHex(t[15])}catch{for(var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="0123456789abcdef",i=0,o=v.EMPTY_STRING,s=0;s<36;s++)"-"!==e[s]&&"4"!==e[s]&&(i=16*Math.random()|0),"x"===e[s]?o+=r[i]:"y"===e[s]?(i&=3,o+=r[i|=8]):o+=e[s];return o}},n.prototype.isGuid=function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},n}(),mi=function(){function n(){}return n.stringToUtf8Arr=function(t){for(var e,r=0,i=t.length,o=0;o<i;o++)r+=(e=t.charCodeAt(o))<128?1:e<2048?2:e<65536?3:e<2097152?4:e<67108864?5:6;for(var s=new Uint8Array(r),a=0,c=0;a<r;c++)(e=t.charCodeAt(c))<128?s[a++]=e:e<2048?(s[a++]=192+(e>>>6),s[a++]=128+(63&e)):e<65536?(s[a++]=224+(e>>>12),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):e<2097152?(s[a++]=240+(e>>>18),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):e<67108864?(s[a++]=248+(e>>>24),s[a++]=128+(e>>>18&63),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):(s[a++]=252+(e>>>30),s[a++]=128+(e>>>24&63),s[a++]=128+(e>>>18&63),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e));return s},n.stringToArrayBuffer=function(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return e},n.utf8ArrToString=function(t){for(var e=v.EMPTY_STRING,r=void 0,i=t.length,o=0;o<i;o++)r=t[o],e+=String.fromCharCode(r>251&&r<254&&o+5<i?1073741824*(r-252)+(t[++o]-128<<24)+(t[++o]-128<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>247&&r<252&&o+4<i?(r-248<<24)+(t[++o]-128<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>239&&r<248&&o+3<i?(r-240<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>223&&r<240&&o+2<i?(r-224<<12)+(t[++o]-128<<6)+t[++o]-128:r>191&&r<224&&o+1<i?(r-192<<6)+t[++o]-128:r);return e},n.getSortedObjectString=function(t){return JSON.stringify(t,Object.keys(t).sort())},n}(),bD=function(){function n(){}return n.prototype.urlEncode=function(t){return encodeURIComponent(this.encode(t).replace(/=/g,v.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},n.prototype.urlEncodeArr=function(t){return this.base64EncArr(t).replace(/=/g,v.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},n.prototype.encode=function(t){var e=mi.stringToUtf8Arr(t);return this.base64EncArr(e)},n.prototype.base64EncArr=function(t){for(var e=(3-t.length%3)%3,r=v.EMPTY_STRING,i=void 0,o=t.length,s=0,a=0;a<o;a++)s|=t[a]<<(16>>>(i=a%3)&24),(2===i||t.length-a==1)&&(r+=String.fromCharCode(this.uint6ToB64(s>>>18&63),this.uint6ToB64(s>>>12&63),this.uint6ToB64(s>>>6&63),this.uint6ToB64(63&s)),s=0);return 0===e?r:r.substring(0,r.length-e)+(1===e?"=":"==")},n.prototype.uint6ToB64=function(t){return t<26?t+65:t<52?t+71:t<62?t-4:62===t?43:63===t?47:65},n}(),kj=function(){function n(){}return n.prototype.decode=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Invalid base64 string")}var r=this.base64DecToArr(e);return mi.utf8ArrToString(r)},n.prototype.base64DecToArr=function(t,e){for(var r=t.replace(/[^A-Za-z0-9\+\/]/g,v.EMPTY_STRING),i=r.length,o=e?Math.ceil((3*i+1>>>2)/e)*e:3*i+1>>>2,s=new Uint8Array(o),a=void 0,c=void 0,l=0,u=0,d=0;d<i;d++)if(c=3&d,l|=this.b64ToUint6(r.charCodeAt(d))<<18-6*c,3===c||i-d==1){for(a=0;a<3&&u<o;a++,u++)s[u]=l>>>(16>>>a&24)&255;l=0}return s},n.prototype.b64ToUint6=function(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:43===t?62:47===t?63:0},n}(),M_clientInfoDecodingError_code="client_info_decoding_error",M_clientInfoDecodingError_desc="The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.",M_clientInfoEmptyError_code="client_info_empty_error",M_clientInfoEmptyError_desc="The client info was empty. Please review the trace to determine the root cause.",M_tokenParsingError_code="token_parsing_error",M_tokenParsingError_desc="Token cannot be parsed. Please review stack trace to determine root cause.",M_nullOrEmptyToken_code="null_or_empty_token",M_nullOrEmptyToken_desc="The token is null or empty. Please review the trace to determine the root cause.",M_endpointResolutionError_code="endpoints_resolution_error",M_endpointResolutionError_desc="Error: could not resolve endpoints. Please check network and try again.",M_networkError_code="network_error",M_networkError_desc="Network request failed. Please check network trace to determine root cause.",M_unableToGetOpenidConfigError_code="openid_config_error",M_unableToGetOpenidConfigError_desc="Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",M_hashNotDeserialized_code="hash_not_deserialized",M_hashNotDeserialized_desc="The hash parameters could not be deserialized. Please review the trace to determine the root cause.",M_invalidStateError_code="invalid_state",M_invalidStateError_desc="State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState().",M_stateMismatchError_code="state_mismatch",M_stateMismatchError_desc="State mismatch error. Please check your network. Continued requests may cause cache overflow.",M_stateNotFoundError_code="state_not_found",M_stateNotFoundError_desc="State not found",M_nonceMismatchError_code="nonce_mismatch",M_nonceMismatchError_desc="Nonce mismatch error. This may be caused by a race condition in concurrent requests.",M_nonceNotFoundError_code="nonce_not_found",M_nonceNotFoundError_desc="nonce not found",M_authTimeNotFoundError_code="auth_time_not_found",M_authTimeNotFoundError_desc="Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",M_maxAgeTranspiredError_code="max_age_transpired",M_maxAgeTranspiredError_desc="Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",M_multipleMatchingTokens_code="multiple_matching_tokens",M_multipleMatchingTokens_desc="The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",M_multipleMatchingAccounts_code="multiple_matching_accounts",M_multipleMatchingAccounts_desc="The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",M_multipleMatchingAppMetadata_code="multiple_matching_appMetadata",M_multipleMatchingAppMetadata_desc="The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",M_tokenRequestCannotBeMade_code="request_cannot_be_made",M_tokenRequestCannotBeMade_desc="Token request cannot be made without authorization code or refresh token.",M_appendEmptyScopeError_code="cannot_append_empty_scope",M_appendEmptyScopeError_desc="Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info.",M_removeEmptyScopeError_code="cannot_remove_empty_scope",M_removeEmptyScopeError_desc="Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info.",M_appendScopeSetError_code="cannot_append_scopeset",M_appendScopeSetError_desc="Cannot append ScopeSet due to error.",M_emptyInputScopeSetError_code="empty_input_scopeset",M_emptyInputScopeSetError_desc="Empty input ScopeSet cannot be processed.",M_DeviceCodePollingCancelled_code="device_code_polling_cancelled",M_DeviceCodePollingCancelled_desc="Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",M_DeviceCodeExpired_code="device_code_expired",M_DeviceCodeExpired_desc="Device code is expired.",M_DeviceCodeUnknownError_code="device_code_unknown_error",M_DeviceCodeUnknownError_desc="Device code stopped polling for unknown reasons.",M_NoAccountInSilentRequest_code="no_account_in_silent_request",M_NoAccountInSilentRequest_desc="Please pass an account object, silent flow is not supported without account information",M_invalidCacheRecord_code="invalid_cache_record",M_invalidCacheRecord_desc="Cache record object was null or undefined.",M_invalidCacheEnvironment_code="invalid_cache_environment",M_invalidCacheEnvironment_desc="Invalid environment when attempting to create cache entry",M_noAccountFound_code="no_account_found",M_noAccountFound_desc="No account found in cache for given key.",M_CachePluginError_code="no cache plugin set on CacheManager",M_CachePluginError_desc="ICachePlugin needs to be set before using readFromStorage or writeFromStorage",M_noCryptoObj_code="no_crypto_object",M_noCryptoObj_desc="No crypto object detected. This is required for the following operation: ",M_invalidCacheType_code="invalid_cache_type",M_invalidCacheType_desc="Invalid cache type",M_unexpectedAccountType_code="unexpected_account_type",M_unexpectedAccountType_desc="Unexpected account type.",M_unexpectedCredentialType_code="unexpected_credential_type",M_unexpectedCredentialType_desc="Unexpected credential type.",M_invalidAssertion_code="invalid_assertion",M_invalidAssertion_desc="Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",M_invalidClientCredential_code="invalid_client_credential",M_invalidClientCredential_desc="Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",M_tokenRefreshRequired_code="token_refresh_required",M_tokenRefreshRequired_desc="Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",M_userTimeoutReached_code="user_timeout_reached",M_userTimeoutReached_desc="User defined timeout for device code polling reached",M_tokenClaimsRequired_code="token_claims_cnf_required_for_signedjwt",M_tokenClaimsRequired_desc="Cannot generate a POP jwt if the token_claims are not populated",M_noAuthorizationCodeFromServer_code="authorization_code_missing_from_server_response",M_noAuthorizationCodeFromServer_desc="Server response does not contain an authorization code to proceed",M_bindingKeyNotRemovedError_code="binding_key_not_removed",M_bindingKeyNotRemovedError_desc="Could not remove the credential's binding key from storage.",M_logoutNotSupported_code="end_session_endpoint_not_supported",M_logoutNotSupported_desc="Provided authority does not support logout.",M_keyIdMissing_code="key_id_missing",M_keyIdMissing_desc="A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",M_noNetworkConnectivity_code="no_network_connectivity",M_noNetworkConnectivity_desc="No network connectivity. Check your internet connection.",M_userCanceledError_code="user_canceled",M_userCanceledError_desc="User canceled the flow.",F=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="ClientAuthError",Object.setPrototypeOf(i,t.prototype),i}return Cn(t,n),t.createClientInfoDecodingError=function(e){return new t(M_clientInfoDecodingError_code,M_clientInfoDecodingError_desc+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(M_clientInfoEmptyError_code,""+M_clientInfoEmptyError_desc)},t.createTokenParsingError=function(e){return new t(M_tokenParsingError_code,M_tokenParsingError_desc+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(M_nullOrEmptyToken_code,M_nullOrEmptyToken_desc+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(M_endpointResolutionError_code,M_endpointResolutionError_desc+" Detail: "+e)},t.createNetworkError=function(e,r){return new t(M_networkError_code,M_networkError_desc+" | Fetch client threw: "+r+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(M_unableToGetOpenidConfigError_code,M_unableToGetOpenidConfigError_desc+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(M_hashNotDeserialized_code,M_hashNotDeserialized_desc+" Given Object: "+e)},t.createInvalidStateError=function(e,r){return new t(M_invalidStateError_code,M_invalidStateError_desc+" Invalid State: "+e+", Root Err: "+r)},t.createStateMismatchError=function(){return new t(M_stateMismatchError_code,M_stateMismatchError_desc)},t.createStateNotFoundError=function(e){return new t(M_stateNotFoundError_code,M_stateNotFoundError_desc+":  "+e)},t.createNonceMismatchError=function(){return new t(M_nonceMismatchError_code,M_nonceMismatchError_desc)},t.createAuthTimeNotFoundError=function(){return new t(M_authTimeNotFoundError_code,M_authTimeNotFoundError_desc)},t.createMaxAgeTranspiredError=function(){return new t(M_maxAgeTranspiredError_code,M_maxAgeTranspiredError_desc)},t.createNonceNotFoundError=function(e){return new t(M_nonceNotFoundError_code,M_nonceNotFoundError_desc+":  "+e)},t.createMultipleMatchingTokensInCacheError=function(){return new t(M_multipleMatchingTokens_code,M_multipleMatchingTokens_desc+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(M_multipleMatchingAccounts_code,M_multipleMatchingAccounts_desc)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(M_multipleMatchingAppMetadata_code,M_multipleMatchingAppMetadata_desc)},t.createTokenRequestCannotBeMadeError=function(){return new t(M_tokenRequestCannotBeMade_code,M_tokenRequestCannotBeMade_desc)},t.createAppendEmptyScopeToSetError=function(e){return new t(M_appendEmptyScopeError_code,M_appendEmptyScopeError_desc+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(M_removeEmptyScopeError_code,M_removeEmptyScopeError_desc+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(M_appendScopeSetError_code,M_appendScopeSetError_desc+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(M_emptyInputScopeSetError_code,""+M_emptyInputScopeSetError_desc)},t.createDeviceCodeCancelledError=function(){return new t(M_DeviceCodePollingCancelled_code,""+M_DeviceCodePollingCancelled_desc)},t.createDeviceCodeExpiredError=function(){return new t(M_DeviceCodeExpired_code,""+M_DeviceCodeExpired_desc)},t.createDeviceCodeUnknownError=function(){return new t(M_DeviceCodeUnknownError_code,""+M_DeviceCodeUnknownError_desc)},t.createNoAccountInSilentRequestError=function(){return new t(M_NoAccountInSilentRequest_code,""+M_NoAccountInSilentRequest_desc)},t.createNullOrUndefinedCacheRecord=function(){return new t(M_invalidCacheRecord_code,M_invalidCacheRecord_desc)},t.createInvalidCacheEnvironmentError=function(){return new t(M_invalidCacheEnvironment_code,M_invalidCacheEnvironment_desc)},t.createNoAccountFoundError=function(){return new t(M_noAccountFound_code,M_noAccountFound_desc)},t.createCachePluginError=function(){return new t(M_CachePluginError_code,""+M_CachePluginError_desc)},t.createNoCryptoObjectError=function(e){return new t(M_noCryptoObj_code,""+M_noCryptoObj_desc+e)},t.createInvalidCacheTypeError=function(){return new t(M_invalidCacheType_code,""+M_invalidCacheType_desc)},t.createUnexpectedAccountTypeError=function(){return new t(M_unexpectedAccountType_code,""+M_unexpectedAccountType_desc)},t.createUnexpectedCredentialTypeError=function(){return new t(M_unexpectedCredentialType_code,""+M_unexpectedCredentialType_desc)},t.createInvalidAssertionError=function(){return new t(M_invalidAssertion_code,""+M_invalidAssertion_desc)},t.createInvalidCredentialError=function(){return new t(M_invalidClientCredential_code,""+M_invalidClientCredential_desc)},t.createRefreshRequiredError=function(){return new t(M_tokenRefreshRequired_code,M_tokenRefreshRequired_desc)},t.createUserTimeoutReachedError=function(){return new t(M_userTimeoutReached_code,M_userTimeoutReached_desc)},t.createTokenClaimsRequiredError=function(){return new t(M_tokenClaimsRequired_code,M_tokenClaimsRequired_desc)},t.createNoAuthCodeInServerResponseError=function(){return new t(M_noAuthorizationCodeFromServer_code,M_noAuthorizationCodeFromServer_desc)},t.createBindingKeyNotRemovedError=function(){return new t(M_bindingKeyNotRemovedError_code,M_bindingKeyNotRemovedError_desc)},t.createLogoutNotSupportedError=function(){return new t(M_logoutNotSupported_code,M_logoutNotSupported_desc)},t.createKeyIdMissingError=function(){return new t(M_keyIdMissing_code,M_keyIdMissing_desc)},t.createNoNetworkConnectivityError=function(){return new t(M_noNetworkConnectivity_code,M_noNetworkConnectivity_desc)},t.createUserCanceledError=function(){return new t(M_userCanceledError_code,M_userCanceledError_desc)},t}(G),L=function(){function n(){}return n.decodeAuthToken=function(t){if(n.isEmpty(t))throw F.createTokenNullOrEmptyError(t);var r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw F.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:r[1],JWSPayload:r[2],JWSSig:r[3]}},n.isEmpty=function(t){return typeof t>"u"||!t||0===t.length},n.isEmptyObj=function(t){if(t&&!n.isEmpty(t))try{var e=JSON.parse(t);return 0===Object.keys(e).length}catch{}return!0},n.startsWith=function(t,e){return 0===t.indexOf(e)},n.endsWith=function(t,e){return t.length>=e.length&&t.lastIndexOf(e)===t.length-e.length},n.queryStringToObject=function(t){var e={},r=t.split("&"),i=function(o){return decodeURIComponent(o.replace(/\+/g," "))};return r.forEach(function(o){if(o.trim()){var s=o.split(/=(.+)/g,2),a=s[0],c=s[1];a&&c&&(e[i(a)]=i(c))}}),e},n.trimArrayEntries=function(t){return t.map(function(e){return e.trim()})},n.removeEmptyStringsFromArray=function(t){return t.filter(function(e){return!n.isEmpty(e)})},n.jsonParseHelper=function(t){try{return JSON.parse(t)}catch{return null}},n.matchPattern=function(t,e){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(e)},n}(),A_pkceNotGenerated_code="pkce_not_created",A_pkceNotGenerated_desc="The PKCE code challenge and verifier could not be generated.",A_cryptoDoesNotExist_code="crypto_nonexistent",A_cryptoDoesNotExist_desc="The crypto object or function is not available.",A_httpMethodNotImplementedError_code="http_method_not_implemented",A_httpMethodNotImplementedError_desc="The HTTP method given has not been implemented in this library.",A_emptyNavigateUriError_code="empty_navigate_uri",A_emptyNavigateUriError_desc="Navigation URI is empty. Please check stack trace for more info.",A_hashEmptyError_code="hash_empty_error",A_hashEmptyError_desc="Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors.",A_hashDoesNotContainStateError_code="no_state_in_hash",A_hashDoesNotContainStateError_desc="Hash does not contain state. Please verify that the request originated from msal.",A_hashDoesNotContainKnownPropertiesError_code="hash_does_not_contain_known_properties",A_hashDoesNotContainKnownPropertiesError_desc="Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors.",A_unableToParseStateError_code="unable_to_parse_state",A_unableToParseStateError_desc="Unable to parse state. Please verify that the request originated from msal.",A_stateInteractionTypeMismatchError_code="state_interaction_type_mismatch",A_stateInteractionTypeMismatchError_desc="Hash contains state but the interaction type does not match the caller.",A_interactionInProgress_code="interaction_in_progress",A_interactionInProgress_desc="Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors.",A_popupWindowError_code="popup_window_error",A_popupWindowError_desc="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",A_emptyWindowError_code="empty_window_error",A_emptyWindowError_desc="window.open returned null or undefined window object.",A_userCancelledError_code="user_cancelled",A_userCancelledError_desc="User cancelled the flow.",A_monitorPopupTimeoutError_code="monitor_window_timeout",A_monitorPopupTimeoutError_desc="Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",A_monitorIframeTimeoutError_code="monitor_window_timeout",A_monitorIframeTimeoutError_desc="Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",A_redirectInIframeError_code="redirect_in_iframe",A_redirectInIframeError_desc="Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",A_blockTokenRequestsInHiddenIframeError_code="block_iframe_reload",A_blockTokenRequestsInHiddenIframeError_desc="Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors",A_blockAcquireTokenInPopupsError_code="block_nested_popups",A_blockAcquireTokenInPopupsError_desc="Request was blocked inside a popup because MSAL detected it was running in a popup.",A_iframeClosedPrematurelyError_code="iframe_closed_prematurely",A_iframeClosedPrematurelyError_desc="The iframe being monitored was closed prematurely.",A_silentLogoutUnsupportedError_code="silent_logout_unsupported",A_silentLogoutUnsupportedError_desc="Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",A_noAccountError_code="no_account_error",A_noAccountError_desc="No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",A_silentPromptValueError_code="silent_prompt_value_error",A_silentPromptValueError_desc="The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",A_noTokenRequestCacheError_code="no_token_request_cache_error",A_noTokenRequestCacheError_desc="No token request found in cache.",A_unableToParseTokenRequestCacheError_code="unable_to_parse_token_request_cache_error",A_unableToParseTokenRequestCacheError_desc="The cached token request could not be parsed.",A_noCachedAuthorityError_code="no_cached_authority_error",A_noCachedAuthorityError_desc="No cached authority found.",A_authRequestNotSet_code="auth_request_not_set_error",A_authRequestNotSet_desc="Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",A_invalidCacheType_code="invalid_cache_type",A_invalidCacheType_desc="Invalid cache type",A_notInBrowserEnvironment_code="non_browser_environment",A_notInBrowserEnvironment_desc="Login and token requests are not supported in non-browser environments.",A_databaseNotOpen_code="database_not_open",A_databaseNotOpen_desc="Database is not open!",A_noNetworkConnectivity_code="no_network_connectivity",A_noNetworkConnectivity_desc="No network connectivity. Check your internet connection.",A_postRequestFailed_code="post_request_failed",A_postRequestFailed_desc="Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",A_getRequestFailed_code="get_request_failed",A_getRequestFailed_desc="Network request failed. Please check the network trace to determine root cause.",A_failedToParseNetworkResponse_code="failed_to_parse_response",A_failedToParseNetworkResponse_desc="Failed to parse network response. Check network trace.",A_unableToLoadTokenError_code="unable_to_load_token",A_unableToLoadTokenError_desc="Error loading token to cache.",A_signingKeyNotFoundInStorage_code="crypto_key_not_found",A_signingKeyNotFoundInStorage_desc="Cryptographic Key or Keypair not found in browser storage.",A_authCodeRequired_code="auth_code_required",A_authCodeRequired_desc="An authorization code must be provided (as the `code` property on the request) to this flow.",A_authCodeOrNativeAccountRequired_code="auth_code_or_nativeAccountId_required",A_authCodeOrNativeAccountRequired_desc="An authorization code or nativeAccountId must be provided to this flow.",A_spaCodeAndNativeAccountPresent_code="spa_code_and_nativeAccountId_present",A_spaCodeAndNativeAccountPresent_desc="Request cannot contain both spa code and native account id.",A_databaseUnavailable_code="database_unavailable",A_databaseUnavailable_desc="IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",A_unableToAcquireTokenFromNativePlatform_code="unable_to_acquire_token_from_native_platform",A_unableToAcquireTokenFromNativePlatform_desc="Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors.",A_nativeHandshakeTimeout_code="native_handshake_timeout",A_nativeHandshakeTimeout_desc="Timed out while attempting to establish connection to browser extension",A_nativeExtensionNotInstalled_code="native_extension_not_installed",A_nativeExtensionNotInstalled_desc="Native extension is not installed. If you think this is a mistake call the initialize function.",A_nativeConnectionNotEstablished_code="native_connection_not_established",A_nativeConnectionNotEstablished_desc="Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors.",A_nativeBrokerCalledBeforeInitialize_code="native_broker_called_before_initialize",A_nativeBrokerCalledBeforeInitialize_desc="You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors.",A_nativePromptNotSupported_code="native_prompt_not_supported",A_nativePromptNotSupported_desc="The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",O=function(n){function t(e,r){var i=n.call(this,e,r)||this;return Object.setPrototypeOf(i,t.prototype),i.name="BrowserAuthError",i}return Ut(t,n),t.createPkceNotGeneratedError=function(e){return new t(A_pkceNotGenerated_code,A_pkceNotGenerated_desc+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(A_cryptoDoesNotExist_code,A_cryptoDoesNotExist_desc+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(A_httpMethodNotImplementedError_code,A_httpMethodNotImplementedError_desc+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(A_emptyNavigateUriError_code,A_emptyNavigateUriError_desc)},t.createEmptyHashError=function(e){return new t(A_hashEmptyError_code,A_hashEmptyError_desc+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(A_hashDoesNotContainStateError_code,A_hashDoesNotContainStateError_desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(A_hashDoesNotContainKnownPropertiesError_code,A_hashDoesNotContainKnownPropertiesError_desc)},t.createUnableToParseStateError=function(){return new t(A_unableToParseStateError_code,A_unableToParseStateError_desc)},t.createStateInteractionTypeMismatchError=function(){return new t(A_stateInteractionTypeMismatchError_code,A_stateInteractionTypeMismatchError_desc)},t.createInteractionInProgressError=function(){return new t(A_interactionInProgress_code,A_interactionInProgress_desc)},t.createPopupWindowError=function(e){var r=A_popupWindowError_desc;return r=L.isEmpty(e)?r:r+" Details: "+e,new t(A_popupWindowError_code,r)},t.createEmptyWindowCreatedError=function(){return new t(A_emptyWindowError_code,A_emptyWindowError_desc)},t.createUserCancelledError=function(){return new t(A_userCancelledError_code,A_userCancelledError_desc)},t.createMonitorPopupTimeoutError=function(){return new t(A_monitorPopupTimeoutError_code,A_monitorPopupTimeoutError_desc)},t.createMonitorIframeTimeoutError=function(){return new t(A_monitorIframeTimeoutError_code,A_monitorIframeTimeoutError_desc)},t.createRedirectInIframeError=function(e){return new t(A_redirectInIframeError_code,A_redirectInIframeError_desc+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(A_blockTokenRequestsInHiddenIframeError_code,A_blockTokenRequestsInHiddenIframeError_desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(A_blockAcquireTokenInPopupsError_code,A_blockAcquireTokenInPopupsError_desc)},t.createIframeClosedPrematurelyError=function(){return new t(A_iframeClosedPrematurelyError_code,A_iframeClosedPrematurelyError_desc)},t.createSilentLogoutUnsupportedError=function(){return new t(A_silentLogoutUnsupportedError_code,A_silentLogoutUnsupportedError_desc)},t.createNoAccountError=function(){return new t(A_noAccountError_code,A_noAccountError_desc)},t.createSilentPromptValueError=function(e){return new t(A_silentPromptValueError_code,A_silentPromptValueError_desc+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(A_unableToParseTokenRequestCacheError_code,A_unableToParseTokenRequestCacheError_desc)},t.createNoTokenRequestCacheError=function(){return new t(A_noTokenRequestCacheError_code,A_noTokenRequestCacheError_desc)},t.createAuthRequestNotSetError=function(){return new t(A_authRequestNotSet_code,A_authRequestNotSet_desc)},t.createNoCachedAuthorityError=function(){return new t(A_noCachedAuthorityError_code,A_noCachedAuthorityError_desc)},t.createInvalidCacheTypeError=function(){return new t(A_invalidCacheType_code,""+A_invalidCacheType_desc)},t.createNonBrowserEnvironmentError=function(){return new t(A_notInBrowserEnvironment_code,A_notInBrowserEnvironment_desc)},t.createDatabaseNotOpenError=function(){return new t(A_databaseNotOpen_code,A_databaseNotOpen_desc)},t.createNoNetworkConnectivityError=function(){return new t(A_noNetworkConnectivity_code,A_noNetworkConnectivity_desc)},t.createPostRequestFailedError=function(e,r){return new t(A_postRequestFailed_code,A_postRequestFailed_desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createGetRequestFailedError=function(e,r){return new t(A_getRequestFailed_code,A_getRequestFailed_desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(A_failedToParseNetworkResponse_code,A_failedToParseNetworkResponse_desc+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(A_unableToLoadTokenError_code,A_unableToLoadTokenError_desc+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(A_signingKeyNotFoundInStorage_code,A_signingKeyNotFoundInStorage_desc+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(A_authCodeRequired_code,A_authCodeRequired_desc)},t.createAuthCodeOrNativeAccountIdRequiredError=function(){return new t(A_authCodeOrNativeAccountRequired_code,A_authCodeOrNativeAccountRequired_desc)},t.createSpaCodeAndNativeAccountIdPresentError=function(){return new t(A_spaCodeAndNativeAccountPresent_code,A_spaCodeAndNativeAccountPresent_desc)},t.createDatabaseUnavailableError=function(){return new t(A_databaseUnavailable_code,A_databaseUnavailable_desc)},t.createUnableToAcquireTokenFromNativePlatformError=function(){return new t(A_unableToAcquireTokenFromNativePlatform_code,A_unableToAcquireTokenFromNativePlatform_desc)},t.createNativeHandshakeTimeoutError=function(){return new t(A_nativeHandshakeTimeout_code,A_nativeHandshakeTimeout_desc)},t.createNativeExtensionNotInstalledError=function(){return new t(A_nativeExtensionNotInstalled_code,A_nativeExtensionNotInstalled_desc)},t.createNativeConnectionNotEstablishedError=function(){return new t(A_nativeConnectionNotEstablished_code,A_nativeConnectionNotEstablished_desc)},t.createNativeBrokerCalledBeforeInitialize=function(){return new t(A_nativeBrokerCalledBeforeInitialize_code,A_nativeBrokerCalledBeforeInitialize_desc)},t.createNativePromptParameterNotSupportedError=function(){return new t(A_nativePromptNotSupported_code,A_nativePromptNotSupported_desc)},t}(G),Oj=function(){function n(t){this.base64Encode=new bD,this.cryptoObj=t}return n.prototype.generateCodes=function(){return I(this,void 0,void 0,function(){var t,e;return D(this,function(r){switch(r.label){case 0:return t=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(t)];case 1:return e=r.sent(),[2,{verifier:t,challenge:e}]}})})},n.prototype.generateCodeVerifier=function(){try{var t=new Uint8Array(32);return this.cryptoObj.getRandomValues(t),this.base64Encode.urlEncodeArr(t)}catch(r){throw O.createPkceNotGeneratedError(r)}},n.prototype.generateCodeChallengeFromVerifier=function(t){return I(this,void 0,void 0,function(){var e,r;return D(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(t)];case 1:return e=i.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(e))];case 2:throw r=i.sent(),O.createPkceNotGeneratedError(r);case 3:return[2]}})})},n}(),xj=function(){function n(){}return n.prototype.getRandomValues=function(t){return window.crypto.getRandomValues(t)},n.prototype.generateKey=function(t,e,r){return I(this,void 0,void 0,function(){return D(this,function(i){return[2,window.crypto.subtle.generateKey(t,e,r)]})})},n.prototype.exportKey=function(t){return I(this,void 0,void 0,function(){return D(this,function(e){return[2,window.crypto.subtle.exportKey(Os,t)]})})},n.prototype.importKey=function(t,e,r,i){return I(this,void 0,void 0,function(){return D(this,function(o){return[2,window.crypto.subtle.importKey(Os,t,e,r,i)]})})},n.prototype.sign=function(t,e,r){return I(this,void 0,void 0,function(){return D(this,function(i){return[2,window.crypto.subtle.sign(t,e,r)]})})},n.prototype.digest=function(t,e){return I(this,void 0,void 0,function(){return D(this,function(r){return[2,window.crypto.subtle.digest(t,e)]})})},n}(),Pj=function(){function n(){}return n.prototype.initPrng=function(t){return window.msrCrypto.initPrng(Ig(t))},n.prototype.getRandomValues=function(t){return window.msrCrypto.getRandomValues(t)},n.prototype.generateKey=function(t,e,r){return I(this,void 0,void 0,function(){return D(this,function(i){return[2,window.msrCrypto.subtle.generateKey(t,e,r)]})})},n.prototype.exportKey=function(t){return I(this,void 0,void 0,function(){return D(this,function(e){return[2,window.msrCrypto.subtle.exportKey(Os,t)]})})},n.prototype.importKey=function(t,e,r,i){return I(this,void 0,void 0,function(){return D(this,function(o){return[2,window.msrCrypto.subtle.importKey(Os,t,e,r,i)]})})},n.prototype.sign=function(t,e,r){return I(this,void 0,void 0,function(){return D(this,function(i){return[2,window.msrCrypto.subtle.sign(t,e,r)]})})},n.prototype.digest=function(t,e){return I(this,void 0,void 0,function(){return D(this,function(r){return[2,window.msrCrypto.subtle.digest(t,e)]})})},n}(),Fj=function(){function n(){}return n.prototype.getRandomValues=function(t){return window.msCrypto.getRandomValues(t)},n.prototype.generateKey=function(t,e,r){return I(this,void 0,void 0,function(){return D(this,function(i){return[2,new Promise(function(o,s){var a=window.msCrypto.subtle.generateKey(t,e,r);a.addEventListener("complete",function(c){o(c.target.result)}),a.addEventListener("error",function(c){s(c)})})]})})},n.prototype.exportKey=function(t){return I(this,void 0,void 0,function(){return D(this,function(e){return[2,new Promise(function(r,i){var o=window.msCrypto.subtle.exportKey(Os,t);o.addEventListener("complete",function(s){var c=mi.utf8ArrToString(new Uint8Array(s.target.result)).replace(/\r/g,v.EMPTY_STRING).replace(/\n/g,v.EMPTY_STRING).replace(/\t/g,v.EMPTY_STRING).split(" ").join(v.EMPTY_STRING).replace("\0",v.EMPTY_STRING);try{r(JSON.parse(c))}catch(l){i(l)}}),o.addEventListener("error",function(s){i(s)})})]})})},n.prototype.importKey=function(t,e,r,i){return I(this,void 0,void 0,function(){var o,s;return D(this,function(a){return o=mi.getSortedObjectString(t),s=mi.stringToArrayBuffer(o),[2,new Promise(function(c,l){var u=window.msCrypto.subtle.importKey(Os,s,e,r,i);u.addEventListener("complete",function(d){c(d.target.result)}),u.addEventListener("error",function(d){l(d)})})]})})},n.prototype.sign=function(t,e,r){return I(this,void 0,void 0,function(){return D(this,function(i){return[2,new Promise(function(o,s){var a=window.msCrypto.subtle.sign(t,e,r);a.addEventListener("complete",function(c){o(c.target.result)}),a.addEventListener("error",function(c){s(c)})})]})})},n.prototype.digest=function(t,e){return I(this,void 0,void 0,function(){return D(this,function(r){return[2,new Promise(function(i,o){var s=window.msCrypto.subtle.digest(t,e.buffer);s.addEventListener("complete",function(a){i(a.target.result)}),s.addEventListener("error",function(a){o(a)})})]})})},n}(),bn_redirectUriNotSet_code="redirect_uri_empty",bn_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",bn_postLogoutUriNotSet_code="post_logout_uri_empty",bn_postLogoutUriNotSet_desc="A post logout redirect has not been set.",bn_storageNotSupportedError_code="storage_not_supported",bn_storageNotSupportedError_desc="Given storage configuration option was not supported.",bn_noRedirectCallbacksSet_code="no_redirect_callbacks",bn_noRedirectCallbacksSet_desc="No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.",bn_stubPcaInstanceCalled_code="stubbed_public_client_application_called",bn_stubPcaInstanceCalled_desc="Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",bn_inMemRedirectUnavailable_code="in_mem_redirect_unavailable",bn_inMemRedirectUnavailable_desc="Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true.",bn_entropyNotProvided_code="entropy_not_provided",bn_entropyNotProvided_desc="The available browser crypto interface requires entropy set via system.cryptoOptions.entropy configuration option.",wc=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="BrowserConfigurationAuthError",Object.setPrototypeOf(i,t.prototype),i}return Ut(t,n),t.createRedirectUriEmptyError=function(){return new t(bn_redirectUriNotSet_code,bn_redirectUriNotSet_desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(bn_postLogoutUriNotSet_code,bn_postLogoutUriNotSet_desc)},t.createStorageNotSupportedError=function(e){return new t(bn_storageNotSupportedError_code,bn_storageNotSupportedError_desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(bn_noRedirectCallbacksSet_code,bn_noRedirectCallbacksSet_desc)},t.createStubPcaInstanceCalledError=function(){return new t(bn_stubPcaInstanceCalled_code,bn_stubPcaInstanceCalled_desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(bn_inMemRedirectUnavailable_code,bn_inMemRedirectUnavailable_desc)},t.createEntropyNotProvided=function(){return new t(bn_entropyNotProvided_code,bn_entropyNotProvided_desc)},t}(G),ED="SHA-256",Bj=new Uint8Array([1,0,1]),SD=function(){function n(t,e){var r,i;if(this.logger=t,this.cryptoOptions=e,this.hasBrowserCrypto())this.logger.verbose("BrowserCrypto: modern crypto interface available"),this.subtleCrypto=new xj;else if(this.hasIECrypto())this.logger.verbose("BrowserCrypto: MS crypto interface available"),this.subtleCrypto=new Fj;else{if(!this.hasMsrCrypto()||!(null===(r=this.cryptoOptions)||void 0===r?void 0:r.useMsrCrypto))throw this.hasMsrCrypto()&&this.logger.info("BrowserCrypto: MSR Crypto interface available but system.cryptoOptions.useMsrCrypto not enabled"),this.logger.error("BrowserCrypto: No crypto interfaces available."),O.createCryptoNotAvailableError("Browser crypto, msCrypto, or msrCrypto interfaces not available.");this.logger.verbose("BrowserCrypto: MSR crypto interface available"),this.subtleCrypto=new Pj}if(this.subtleCrypto.initPrng){if(this.logger.verbose("BrowserCrypto: Interface requires entropy"),null===(i=this.cryptoOptions)||void 0===i||!i.entropy)throw this.logger.error("BrowserCrypto: Interface requires entropy but none provided."),wc.createEntropyNotProvided();this.logger.verbose("BrowserCrypto: Entropy provided"),this.subtleCrypto.initPrng(this.cryptoOptions.entropy)}this.keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:ED,modulusLength:2048,publicExponent:Bj}}return n.prototype.hasIECrypto=function(){return"msCrypto"in window},n.prototype.hasBrowserCrypto=function(){return"crypto"in window},n.prototype.hasMsrCrypto=function(){return"msrCrypto"in window},n.prototype.sha256Digest=function(t){return I(this,void 0,void 0,function(){var e;return D(this,function(r){return e=mi.stringToUtf8Arr(t),[2,this.subtleCrypto.digest({name:ED},e)]})})},n.prototype.getRandomValues=function(t){return this.subtleCrypto.getRandomValues(t)},n.prototype.generateKeyPair=function(t,e){return I(this,void 0,void 0,function(){return D(this,function(r){return[2,this.subtleCrypto.generateKey(this.keygenAlgorithmOptions,t,e)]})})},n.prototype.exportJwk=function(t){return I(this,void 0,void 0,function(){return D(this,function(e){return[2,this.subtleCrypto.exportKey(t)]})})},n.prototype.importJwk=function(t,e,r){return I(this,void 0,void 0,function(){return D(this,function(i){return[2,this.subtleCrypto.importKey(t,this.keygenAlgorithmOptions,e,r)]})})},n.prototype.sign=function(t,e){return I(this,void 0,void 0,function(){return D(this,function(r){return[2,this.subtleCrypto.sign(this.keygenAlgorithmOptions,t,e)]})})},n}(),Vj=function(){function n(){this.dbName=Mg,this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return n.prototype.open=function(){return I(this,void 0,void 0,function(){var t=this;return D(this,function(e){return[2,new Promise(function(r,i){var o=window.indexedDB.open(t.dbName,t.version);o.addEventListener("upgradeneeded",function(s){s.target.result.createObjectStore(t.tableName)}),o.addEventListener("success",function(s){t.db=s.target.result,t.dbOpen=!0,r()}),o.addEventListener("error",function(){return i(O.createDatabaseUnavailableError())})})]})})},n.prototype.closeConnection=function(){var t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)},n.prototype.validateDbIsOpen=function(){return I(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,t.sent()];case 2:return[2]}})})},n.prototype.getItem=function(t){return I(this,void 0,void 0,function(){var e=this;return D(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!e.db)return o(O.createDatabaseNotOpenError());var c=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).get(t);c.addEventListener("success",function(l){var u=l;e.closeConnection(),i(u.target.result)}),c.addEventListener("error",function(l){e.closeConnection(),o(l)})})]}})})},n.prototype.setItem=function(t,e){return I(this,void 0,void 0,function(){var r=this;return D(this,function(i){switch(i.label){case 0:return[4,this.validateDbIsOpen()];case 1:return i.sent(),[2,new Promise(function(o,s){if(!r.db)return s(O.createDatabaseNotOpenError());var l=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(e,t);l.addEventListener("success",function(){r.closeConnection(),o()}),l.addEventListener("error",function(u){r.closeConnection(),s(u)})})]}})})},n.prototype.removeItem=function(t){return I(this,void 0,void 0,function(){var e=this;return D(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!e.db)return o(O.createDatabaseNotOpenError());var c=e.db.transaction([e.tableName],"readwrite").objectStore(e.tableName).delete(t);c.addEventListener("success",function(){e.closeConnection(),i()}),c.addEventListener("error",function(l){e.closeConnection(),o(l)})})]}})})},n.prototype.getKeys=function(){return I(this,void 0,void 0,function(){var t=this;return D(this,function(e){switch(e.label){case 0:return[4,this.validateDbIsOpen()];case 1:return e.sent(),[2,new Promise(function(r,i){if(!t.db)return i(O.createDatabaseNotOpenError());var a=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).getAllKeys();a.addEventListener("success",function(c){var l=c;t.closeConnection(),r(l.target.result)}),a.addEventListener("error",function(c){t.closeConnection(),i(c)})})]}})})},n.prototype.containsKey=function(t){return I(this,void 0,void 0,function(){var e=this;return D(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!e.db)return o(O.createDatabaseNotOpenError());var c=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).count(t);c.addEventListener("success",function(l){var u=l;e.closeConnection(),i(1===u.target.result)}),c.addEventListener("error",function(l){e.closeConnection(),o(l)})})]}})})},n.prototype.deleteDatabase=function(){return I(this,void 0,void 0,function(){return D(this,function(t){return this.db&&this.dbOpen&&this.closeConnection(),[2,new Promise(function(e,r){var i=window.indexedDB.deleteDatabase(Mg);i.addEventListener("success",function(){return e(!0)}),i.addEventListener("blocked",function(){return e(!0)}),i.addEventListener("error",function(){return r(!1)})})]})})},n}(),Rg=function(){function n(){this.cache=new Map}return n.prototype.getItem=function(t){return this.cache.get(t)||null},n.prototype.setItem=function(t,e){this.cache.set(t,e)},n.prototype.removeItem=function(t){this.cache.delete(t)},n.prototype.getKeys=function(){var t=[];return this.cache.forEach(function(e,r){t.push(r)}),t},n.prototype.containsKey=function(t){return this.cache.has(t)},n.prototype.clear=function(){this.cache.clear()},n}(),TD=function(){function n(t,e){this.inMemoryCache=new Rg,this.indexedDBCache=new Vj,this.logger=t,this.storeName=e}return n.prototype.handleDatabaseAccessError=function(t){if(!(t instanceof O&&t.errorCode===A_databaseUnavailable_code))throw t;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},n.prototype.getItem=function(t){return I(this,void 0,void 0,function(){var e,r;return D(this,function(i){switch(i.label){case 0:if(e=this.inMemoryCache.getItem(t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(t)];case 2:return[2,i.sent()];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,e]}})})},n.prototype.setItem=function(t,e){return I(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:this.inMemoryCache.setItem(t,e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(t,e)];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2]}})})},n.prototype.removeItem=function(t){return I(this,void 0,void 0,function(){var e;return D(this,function(r){switch(r.label){case 0:this.inMemoryCache.removeItem(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(t)];case 2:return r.sent(),[3,4];case 3:return e=r.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2]}})})},n.prototype.getKeys=function(){return I(this,void 0,void 0,function(){var t,e;return D(this,function(r){switch(r.label){case 0:if(0!==(t=this.inMemoryCache.getKeys()).length)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,r.sent()];case 3:return e=r.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2,t]}})})},n.prototype.containsKey=function(t){return I(this,void 0,void 0,function(){var e,r;return D(this,function(i){switch(i.label){case 0:if(e=this.inMemoryCache.containsKey(t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(t)];case 2:return[2,i.sent()];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,e]}})})},n.prototype.clearInMemory=function(){this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted")},n.prototype.clearPersistent=function(){return I(this,void 0,void 0,function(){var t,e;return D(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.logger.verbose("Deleting persistent keystore"),[4,this.indexedDBCache.deleteDatabase()];case 1:return(t=r.sent())&&this.logger.verbose("Persistent keystore deleted"),[2,t];case 2:return e=r.sent(),this.handleDatabaseAccessError(e),[2,!1];case 3:return[2]}})})},n}(),bc=(()=>{return(n=bc||(bc={})).asymmetricKeys="asymmetricKeys",n.symmetricKeys="symmetricKeys",bc;var n})(),Hj=function(){function n(t){this.logger=t,this.asymmetricKeys=new TD(this.logger,bc.asymmetricKeys),this.symmetricKeys=new TD(this.logger,bc.symmetricKeys)}return n.prototype.clear=function(){return I(this,void 0,void 0,function(){var t;return D(this,function(e){switch(e.label){case 0:this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.asymmetricKeys.clearPersistent()];case 2:return e.sent(),[2,!0];case 3:return(t=e.sent())instanceof Error?this.logger.error("Clearing keystore failed with error: "+t.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}})})},n}(),jj=function(){function n(t,e,r){this.logger=t,this.browserCrypto=new SD(this.logger,r),this.b64Encode=new bD,this.b64Decode=new kj,this.guidGenerator=new wD(this.browserCrypto),this.pkceGenerator=new Oj(this.browserCrypto),this.cache=new Hj(this.logger),this.performanceClient=e}return n.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},n.prototype.base64Encode=function(t){return this.b64Encode.encode(t)},n.prototype.base64Decode=function(t){return this.b64Decode.decode(t)},n.prototype.generatePkceCodes=function(){return I(this,void 0,void 0,function(){return D(this,function(t){return[2,this.pkceGenerator.generateCodes()]})})},n.prototype.getPublicKeyThumbprint=function(t){var e;return I(this,void 0,void 0,function(){var r,i,o,a,c,l,u;return D(this,function(d){switch(d.label){case 0:return r=null===(e=this.performanceClient)||void 0===e?void 0:e.startMeasurement(b.CryptoOptsGetPublicKeyThumbprint,t.correlationId),[4,this.browserCrypto.generateKeyPair(n.EXTRACTABLE,n.POP_KEY_USAGES)];case 1:return i=d.sent(),[4,this.browserCrypto.exportJwk(i.publicKey)];case 2:return o=d.sent(),a=mi.getSortedObjectString({e:o.e,kty:o.kty,n:o.n}),[4,this.hashString(a)];case 3:return c=d.sent(),[4,this.browserCrypto.exportJwk(i.privateKey)];case 4:return l=d.sent(),[4,this.browserCrypto.importJwk(l,!1,["sign"])];case 5:return u=d.sent(),[4,this.cache.asymmetricKeys.setItem(c,{privateKey:u,publicKey:i.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return d.sent(),r&&r.endMeasurement({success:!0}),[2,c]}})})},n.prototype.removeTokenBindingKey=function(t){return I(this,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(t)];case 1:return r.sent(),[4,this.cache.asymmetricKeys.containsKey(t)];case 2:return[2,!r.sent()]}})})},n.prototype.clearKeystore=function(){return I(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return[4,this.cache.clear()];case 1:return[2,t.sent()]}})})},n.prototype.signJwt=function(t,e,r){var i;return I(this,void 0,void 0,function(){var o,s,a,c,l,u,d,h,f,p,m,g,y;return D(this,function(w){switch(w.label){case 0:return o=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(b.CryptoOptsSignJwt,r),[4,this.cache.asymmetricKeys.getItem(e)];case 1:if(!(s=w.sent()))throw O.createSigningKeyNotFoundInStorageError(e);return[4,this.browserCrypto.exportJwk(s.publicKey)];case 2:return a=w.sent(),c=mi.getSortedObjectString(a),l=this.b64Encode.urlEncode(JSON.stringify({kid:e})),u=Rj.getShrHeaderString({kid:l,alg:a.alg}),d=this.b64Encode.urlEncode(u),t.cnf={jwk:JSON.parse(c)},h=this.b64Encode.urlEncode(JSON.stringify(t)),p=mi.stringToArrayBuffer(f=d+"."+h),[4,this.browserCrypto.sign(s.privateKey,p)];case 3:return m=w.sent(),g=this.b64Encode.urlEncodeArr(new Uint8Array(m)),y=f+"."+g,o&&o.endMeasurement({success:!0}),[2,y]}})})},n.prototype.hashString=function(t){return I(this,void 0,void 0,function(){var e,r;return D(this,function(i){switch(i.label){case 0:return[4,this.browserCrypto.sha256Digest(t)];case 1:return e=i.sent(),r=new Uint8Array(e),[2,this.b64Encode.urlEncodeArr(r)]}})})},n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n}(),bt=(()=>{return(n=bt||(bt={}))[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",bt;var n})(),kg=function(){function n(t,e,r){this.level=bt.Info;var o=t||n.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||function(){},this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level="number"==typeof o.logLevel?o.logLevel:bt.Info,this.correlationId=o.correlationId||v.EMPTY_STRING,this.packageName=e||v.EMPTY_STRING,this.packageVersion=r||v.EMPTY_STRING}return n.createDefaultLoggerOptions=function(){return{loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:bt.Info}},n.prototype.clone=function(t,e,r){return new n({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},t,e)},n.prototype.logMessage=function(t,e){if(!(e.logLevel>this.level||!this.piiLoggingEnabled&&e.containsPii)){var i,r=(new Date).toUTCString();i=L.isEmpty(e.correlationId)?L.isEmpty(this.correlationId)?"["+r+"]":"["+r+"] : ["+this.correlationId+"]":"["+r+"] : ["+e.correlationId+"]",this.executeCallback(e.logLevel,i+" : "+this.packageName+"@"+this.packageVersion+" : "+bt[e.logLevel]+" - "+t,e.containsPii||!1)}},n.prototype.executeCallback=function(t,e,r){this.localCallback&&this.localCallback(t,e,r)},n.prototype.error=function(t,e){this.logMessage(t,{logLevel:bt.Error,containsPii:!1,correlationId:e||v.EMPTY_STRING})},n.prototype.errorPii=function(t,e){this.logMessage(t,{logLevel:bt.Error,containsPii:!0,correlationId:e||v.EMPTY_STRING})},n.prototype.warning=function(t,e){this.logMessage(t,{logLevel:bt.Warning,containsPii:!1,correlationId:e||v.EMPTY_STRING})},n.prototype.warningPii=function(t,e){this.logMessage(t,{logLevel:bt.Warning,containsPii:!0,correlationId:e||v.EMPTY_STRING})},n.prototype.info=function(t,e){this.logMessage(t,{logLevel:bt.Info,containsPii:!1,correlationId:e||v.EMPTY_STRING})},n.prototype.infoPii=function(t,e){this.logMessage(t,{logLevel:bt.Info,containsPii:!0,correlationId:e||v.EMPTY_STRING})},n.prototype.verbose=function(t,e){this.logMessage(t,{logLevel:bt.Verbose,containsPii:!1,correlationId:e||v.EMPTY_STRING})},n.prototype.verbosePii=function(t,e){this.logMessage(t,{logLevel:bt.Verbose,containsPii:!0,correlationId:e||v.EMPTY_STRING})},n.prototype.trace=function(t,e){this.logMessage(t,{logLevel:bt.Trace,containsPii:!1,correlationId:e||v.EMPTY_STRING})},n.prototype.tracePii=function(t,e){this.logMessage(t,{logLevel:bt.Trace,containsPii:!0,correlationId:e||v.EMPTY_STRING})},n.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},n}(),ID=function(){function n(t,e,r,i,o,s){this.authority=e,this.libraryName=i,this.libraryVersion=o,this.applicationTelemetry=s,this.clientId=t,this.logger=r,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.queueMeasurements=new Map,this.preQueueTimeByCorrelationId=new Map}return n.prototype.startPerformanceMeasurement=function(t,e){return{}},n.prototype.startPerformanceMeasuremeant=function(t,e){return{}},n.prototype.getIntFields=function(){return Tj},n.prototype.getPreQueueTime=function(t,e){var r=this.preQueueTimeByCorrelationId.get(e);if(r){if(r.name===t)return r.time;this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue time found for "+t+", unable to add queue measurement")}else this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue times found for correlationId: "+e+", unable to add queue measurement")},n.prototype.calculateQueuedTime=function(t,e){return t<1?(this.logger.trace("PerformanceClient: preQueueTime should be a positive integer and not "+t),0):e<1?(this.logger.trace("PerformanceClient: currentTime should be a positive integer and not "+e),0):e<t?(this.logger.trace("PerformanceClient: currentTime is less than preQueueTime, check how time is being retrieved"),0):e-t},n.prototype.addQueueMeasurement=function(t,e,r,i){if(e){if(0===r)this.logger.trace("PerformanceClient.addQueueMeasurement: queue time provided for "+t+" is "+r);else if(!r)return void this.logger.trace("PerformanceClient.addQueueMeasurement: no queue time provided for "+t);var o={eventName:t,queueTime:r,manuallyCompleted:i},s=this.queueMeasurements.get(e);s?(s.push(o),this.queueMeasurements.set(e,s)):(this.logger.trace("PerformanceClient.addQueueMeasurement: adding correlationId "+e+" to queue measurements"),this.queueMeasurements.set(e,[o])),this.preQueueTimeByCorrelationId.delete(e)}else this.logger.trace("PerformanceClient.addQueueMeasurement: correlationId not provided for "+t+", cannot add queue measurement")},n.prototype.startMeasurement=function(t,e){var i,o,r=this,s=e||this.generateId();e||this.logger.info("PerformanceClient: No correlation id provided for "+t+", generating",s),this.logger.trace("PerformanceClient: Performance measurement started for "+t,s);var a=this.startPerformanceMeasuremeant(t,s);a.startMeasurement();var c={eventId:this.generateId(),status:hc.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:t,startTimeMs:Date.now(),correlationId:s,appName:null===(i=this.applicationTelemetry)||void 0===i?void 0:i.appName,appVersion:null===(o=this.applicationTelemetry)||void 0===o?void 0:o.appVersion};return this.cacheEventByCorrelationId(c),{endMeasurement:function(l){return r.endMeasurement(De(De({},c),l),a)},discardMeasurement:function(){return r.discardMeasurements(c.correlationId)},addStaticFields:function(l){return r.addStaticFields(l,c.correlationId)},increment:function(l){return r.increment(l,c.correlationId)},measurement:a,event:c}},n.prototype.endMeasurement=function(t,e){var i,o,r=this,s=this.eventsByCorrelationId.get(t.correlationId);if(!s)return this.logger.trace("PerformanceClient: Measurement not found for "+t.eventId,t.correlationId),null;var a=t.eventId===s.eventId,c={totalQueueTime:0,totalQueueCount:0,manuallyCompletedCount:0};a?(c=this.getQueueInfo(t.correlationId),this.discardCache(s.correlationId)):null===(i=s.incompleteSubMeasurements)||void 0===i||i.delete(t.eventId),e?.endMeasurement();var l=e?.flushMeasurement();if(!l)return this.logger.trace("PerformanceClient: Performance measurement not taken",s.correlationId),null;if(this.logger.trace("PerformanceClient: Performance measurement ended for "+t.name+": "+l+" ms",t.correlationId),!a)return s[t.name+"DurationMs"]=Math.floor(l),De({},s);var u=De(De({},s),t),d=0;return null===(o=u.incompleteSubMeasurements)||void 0===o||o.forEach(function(h){r.logger.trace("PerformanceClient: Incomplete submeasurement "+h.name+" found for "+t.name,u.correlationId),d++}),u.incompleteSubMeasurements=void 0,u=De(De({},u),{durationMs:Math.round(l),queuedTimeMs:c.totalQueueTime,queuedCount:c.totalQueueCount,queuedManuallyCompletedCount:c.manuallyCompletedCount,status:hc.Completed,incompleteSubsCount:d}),this.truncateIntegralFields(u,this.getIntFields()),this.emitEvents([u],t.correlationId),u},n.prototype.addStaticFields=function(t,e){this.logger.trace("PerformanceClient: Updating static fields");var r=this.eventsByCorrelationId.get(e);r?this.eventsByCorrelationId.set(e,De(De({},r),t)):this.logger.trace("PerformanceClient: Event not found for",e)},n.prototype.increment=function(t,e){this.logger.trace("PerformanceClient: Updating counters");var r=this.eventsByCorrelationId.get(e);if(r)for(var i in t)r.hasOwnProperty(i)||(r[i]=0),r[i]+=t[i];else this.logger.trace("PerformanceClient: Event not found for",e)},n.prototype.cacheEventByCorrelationId=function(t){var e=this.eventsByCorrelationId.get(t.correlationId);e?(this.logger.trace("PerformanceClient: Performance measurement for "+t.name+" added/updated",t.correlationId),e.incompleteSubMeasurements=e.incompleteSubMeasurements||new Map,e.incompleteSubMeasurements.set(t.eventId,{name:t.name,startTimeMs:t.startTimeMs})):(this.logger.trace("PerformanceClient: Performance measurement for "+t.name+" started",t.correlationId),this.eventsByCorrelationId.set(t.correlationId,De({},t)))},n.prototype.getQueueInfo=function(t){var e=this.queueMeasurements.get(t);e||this.logger.trace("PerformanceClient: no queue measurements found for for correlationId: "+t);var r=0,i=0,o=0;return e?.forEach(function(s){r+=s.queueTime,i++,o+=s.manuallyCompleted?1:0}),{totalQueueTime:r,totalQueueCount:i,manuallyCompletedCount:o}},n.prototype.discardMeasurements=function(t){this.logger.trace("PerformanceClient: Performance measurements discarded",t),this.eventsByCorrelationId.delete(t)},n.prototype.discardCache=function(t){this.discardMeasurements(t),this.logger.trace("PerformanceClient: QueueMeasurements discarded",t),this.queueMeasurements.delete(t),this.logger.trace("PerformanceClient: Pre-queue times discarded",t),this.preQueueTimeByCorrelationId.delete(t)},n.prototype.addPerformanceCallback=function(t){var e=this.generateId();return this.callbacks.set(e,t),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+e),e},n.prototype.removePerformanceCallback=function(t){var e=this.callbacks.delete(t);return this.logger.verbose(e?"PerformanceClient: Performance callback "+t+" removed.":"PerformanceClient: Performance callback "+t+" not removed."),e},n.prototype.emitEvents=function(t,e){var r=this;this.logger.verbose("PerformanceClient: Emitting performance events",e),this.callbacks.forEach(function(i,o){r.logger.trace("PerformanceClient: Emitting event to callback "+o,e),i.apply(null,[t])})},n.prototype.truncateIntegralFields=function(t,e){e.forEach(function(r){r in t&&"number"==typeof t[r]&&(t[r]=Math.floor(t[r]))})},n}(),DD=function(){function n(){}return n.prototype.startMeasurement=function(){},n.prototype.endMeasurement=function(){},n.prototype.flushMeasurement=function(){return null},n}(),zj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Cn(t,n),t.prototype.generateId=function(){return"callback-id"},t.prototype.startPerformanceMeasuremeant=function(){return new DD},t.prototype.startPerformanceMeasurement=function(){return new DD},t.prototype.calculateQueuedTime=function(e,r){return 0},t.prototype.addQueueMeasurement=function(e,r,i){},t.prototype.setPreQueueTime=function(e,r){},t}(ID),ud={createNewGuid:function(){throw G.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw G.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw G.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return te(this,void 0,void 0,function(){return ne(this,function(t){throw G.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return te(this,void 0,void 0,function(){return ne(this,function(t){throw G.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},removeTokenBindingKey:function(){return te(this,void 0,void 0,function(){return ne(this,function(t){throw G.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")})})},clearKeystore:function(){return te(this,void 0,void 0,function(){return ne(this,function(t){throw G.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")})})},signJwt:function(){return te(this,void 0,void 0,function(){return ne(this,function(t){throw G.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})},hashString:function(){return te(this,void 0,void 0,function(){return ne(this,function(t){throw G.createUnexpectedError("Crypto interface - hashString() has not been implemented")})})}},Ng=function(){function n(){}return n.prototype.generateAccountId=function(){return n.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},n.prototype.generateCredentialId=function(){return n.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},n.prototype.generateTarget=function(){return n.generateTargetForCacheKey(this.target)},n.prototype.generateCredentialKey=function(){return n.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},n.prototype.generateType=function(){switch(this.credentialType){case $.ID_TOKEN:return Lr.ID_TOKEN;case $.ACCESS_TOKEN:case $.ACCESS_TOKEN_WITH_AUTH_SCHEME:return Lr.ACCESS_TOKEN;case $.REFRESH_TOKEN:return Lr.REFRESH_TOKEN;default:throw F.createUnexpectedCredentialTypeError()}},n.generateCredentialCacheKey=function(t,e,r,i,o,s,a,c,l){return[this.generateAccountIdForCacheKey(t,e),this.generateCredentialIdForCacheKey(r,i,o,a),this.generateTargetForCacheKey(s),this.generateClaimsHashForCacheKey(l),this.generateSchemeForCacheKey(c)].join(Ct.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateAccountIdForCacheKey=function(t,e){return[t,e].join(Ct.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateCredentialIdForCacheKey=function(t,e,r,i){return[t,t===$.REFRESH_TOKEN&&i||e,r||v.EMPTY_STRING].join(Ct.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateTargetForCacheKey=function(t){return(t||v.EMPTY_STRING).toLowerCase()},n.generateClaimsHashForCacheKey=function(t){return(t||v.EMPTY_STRING).toLowerCase()},n.generateSchemeForCacheKey=function(t){return t&&t.toLowerCase()!==Ae.BEARER.toLowerCase()?t.toLowerCase():v.EMPTY_STRING},n}(),Io=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Cn(t,n),t.createIdTokenEntity=function(e,r,i,o,s){var a=new t;return a.credentialType=$.ID_TOKEN,a.homeAccountId=e,a.environment=r,a.clientId=o,a.secret=i,a.realm=s,a},t.isIdTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===$.ID_TOKEN},t}(Ng),re_redirectUriNotSet_code="redirect_uri_empty",re_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",re_postLogoutUriNotSet_code="post_logout_uri_empty",re_postLogoutUriNotSet_desc="A post logout redirect has not been set.",re_claimsRequestParsingError_code="claims_request_parsing_error",re_claimsRequestParsingError_desc="Could not parse the given claims request object.",re_authorityUriInsecure_code="authority_uri_insecure",re_authorityUriInsecure_desc="Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",re_urlParseError_code="url_parse_error",re_urlParseError_desc="URL could not be parsed into appropriate segments.",re_urlEmptyError_code="empty_url_error",re_urlEmptyError_desc="URL was empty or null.",re_emptyScopesError_code="empty_input_scopes_error",re_emptyScopesError_desc="Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",re_clientIdSingleScopeError_code="clientid_input_scopes_error",re_clientIdSingleScopeError_desc="Client ID can only be provided as a single scope.",re_invalidPrompt_code="invalid_prompt_value",re_invalidPrompt_desc="Supported prompt values are 'login', 'select_account', 'consent', 'create', 'none' and 'no_session'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",re_invalidClaimsRequest_code="invalid_claims",re_invalidClaimsRequest_desc="Given claims parameter must be a stringified JSON object.",re_tokenRequestEmptyError_code="token_request_empty",re_tokenRequestEmptyError_desc="Token request was empty and not found in cache.",re_logoutRequestEmptyError_code="logout_request_empty",re_logoutRequestEmptyError_desc="The logout request was null or undefined.",re_invalidCodeChallengeMethod_code="invalid_code_challenge_method",re_invalidCodeChallengeMethod_desc='code_challenge_method passed is invalid. Valid values are "plain" and "S256".',re_invalidCodeChallengeParams_code="pkce_params_missing",re_invalidCodeChallengeParams_desc="Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",re_invalidCloudDiscoveryMetadata_code="invalid_cloud_discovery_metadata",re_invalidCloudDiscoveryMetadata_desc="Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",re_invalidAuthorityMetadata_code="invalid_authority_metadata",re_invalidAuthorityMetadata_desc="Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",re_untrustedAuthority_code="untrusted_authority",re_untrustedAuthority_desc="The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",re_invalidAzureCloudInstance_code="invalid_azure_cloud_instance",re_invalidAzureCloudInstance_desc="Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values",re_missingSshJwk_code="missing_ssh_jwk",re_missingSshJwk_desc="Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",re_missingSshKid_code="missing_ssh_kid",re_missingSshKid_desc="Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",re_missingNonceAuthenticationHeader_code="missing_nonce_authentication_header",re_missingNonceAuthenticationHeader_desc="Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",re_invalidAuthenticationHeader_code="invalid_authentication_header",re_invalidAuthenticationHeader_desc="Invalid authentication header provided",re_authorityMismatch_code="authority_mismatch",re_authorityMismatch_desc="Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",We=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="ClientConfigurationError",Object.setPrototypeOf(i,t.prototype),i}return Cn(t,n),t.createRedirectUriEmptyError=function(){return new t(re_redirectUriNotSet_code,re_redirectUriNotSet_desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(re_postLogoutUriNotSet_code,re_postLogoutUriNotSet_desc)},t.createClaimsRequestParsingError=function(e){return new t(re_claimsRequestParsingError_code,re_claimsRequestParsingError_desc+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(re_authorityUriInsecure_code,re_authorityUriInsecure_desc+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(re_urlParseError_code,re_urlParseError_desc+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(re_urlEmptyError_code,re_urlEmptyError_desc)},t.createEmptyScopesArrayError=function(){return new t(re_emptyScopesError_code,""+re_emptyScopesError_desc)},t.createClientIdSingleScopeError=function(e){return new t(re_clientIdSingleScopeError_code,re_clientIdSingleScopeError_desc+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(re_invalidPrompt_code,re_invalidPrompt_desc+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(re_invalidClaimsRequest_code,re_invalidClaimsRequest_desc)},t.createEmptyLogoutRequestError=function(){return new t(re_logoutRequestEmptyError_code,re_logoutRequestEmptyError_desc)},t.createEmptyTokenRequestError=function(){return new t(re_tokenRequestEmptyError_code,re_tokenRequestEmptyError_desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(re_invalidCodeChallengeMethod_code,re_invalidCodeChallengeMethod_desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(re_invalidCodeChallengeParams_code,re_invalidCodeChallengeParams_desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(re_invalidCloudDiscoveryMetadata_code,re_invalidCloudDiscoveryMetadata_desc)},t.createInvalidAuthorityMetadataError=function(){return new t(re_invalidAuthorityMetadata_code,re_invalidAuthorityMetadata_desc)},t.createUntrustedAuthorityError=function(){return new t(re_untrustedAuthority_code,re_untrustedAuthority_desc)},t.createInvalidAzureCloudInstanceError=function(){return new t(re_invalidAzureCloudInstance_code,re_invalidAzureCloudInstance_desc)},t.createMissingSshJwkError=function(){return new t(re_missingSshJwk_code,re_missingSshJwk_desc)},t.createMissingSshKidError=function(){return new t(re_missingSshKid_code,re_missingSshKid_desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(re_missingNonceAuthenticationHeader_code,re_missingNonceAuthenticationHeader_desc)},t.createInvalidAuthenticationHeaderError=function(e,r){return new t(re_invalidAuthenticationHeader_code,re_invalidAuthenticationHeader_desc+". Invalid header: "+e+". Details: "+r)},t.createAuthorityMismatchError=function(){return new t(re_authorityMismatch_code,re_authorityMismatch_desc)},t}(F),Xt=function(){function n(t){var e=this,r=t?L.trimArrayEntries(od(t)):[],i=r?L.removeEmptyStringsFromArray(r):[];this.validateInputScopes(i),this.scopes=new Set,i.forEach(function(o){return e.scopes.add(o)})}return n.fromString=function(t){return new n((t||v.EMPTY_STRING).split(" "))},n.createSearchScopes=function(t){var e=new n(t);return e.containsOnlyOIDCScopes()?e.removeScope(v.OFFLINE_ACCESS_SCOPE):e.removeOIDCScopes(),e},n.prototype.validateInputScopes=function(t){if(!t||t.length<1)throw We.createEmptyScopesArrayError()},n.prototype.containsScope=function(t){var r=new n(this.printScopesLowerCase().split(" "));return!L.isEmpty(t)&&r.scopes.has(t.toLowerCase())},n.prototype.containsScopeSet=function(t){var e=this;return!(!t||t.scopes.size<=0)&&this.scopes.size>=t.scopes.size&&t.asArray().every(function(r){return e.containsScope(r)})},n.prototype.containsOnlyOIDCScopes=function(){var t=this,e=0;return mD.forEach(function(r){t.containsScope(r)&&(e+=1)}),this.scopes.size===e},n.prototype.appendScope=function(t){L.isEmpty(t)||this.scopes.add(t.trim())},n.prototype.appendScopes=function(t){var e=this;try{t.forEach(function(r){return e.appendScope(r)})}catch(r){throw F.createAppendScopeSetError(r)}},n.prototype.removeScope=function(t){if(L.isEmpty(t))throw F.createRemoveEmptyScopeFromSetError(t);this.scopes.delete(t.trim())},n.prototype.removeOIDCScopes=function(){var t=this;mD.forEach(function(e){t.scopes.delete(e)})},n.prototype.unionScopeSets=function(t){if(!t)throw F.createEmptyInputScopeSetError();var e=new Set;return t.scopes.forEach(function(r){return e.add(r.toLowerCase())}),this.scopes.forEach(function(r){return e.add(r.toLowerCase())}),e},n.prototype.intersectingScopeSets=function(t){if(!t)throw F.createEmptyInputScopeSetError();t.containsOnlyOIDCScopes()||t.removeOIDCScopes();var e=this.unionScopeSets(t),r=t.getScopeCount(),i=this.getScopeCount();return e.size<i+r},n.prototype.getScopeCount=function(){return this.scopes.size},n.prototype.asArray=function(){var t=[];return this.scopes.forEach(function(e){return t.push(e)}),t},n.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):v.EMPTY_STRING},n.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},n}();function dd(n,t){if(L.isEmpty(n))throw F.createClientInfoEmptyError();try{var e=t.base64Decode(n);return JSON.parse(e)}catch(r){throw F.createClientInfoDecodingError(r.message)}}function xs(n){if(L.isEmpty(n))throw F.createClientInfoDecodingError("Home account ID was empty.");var t=n.split(Ct.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?v.EMPTY_STRING:t[1]}}var en=(()=>{return(n=en||(en={}))[n.Default=0]="Default",n[n.Adfs=1]="Adfs",n[n.Dsts=2]="Dsts",n[n.Ciam=3]="Ciam",en;var n})(),Ht=function(){function n(){}return n.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(Ct.CACHE_KEY_SEPARATOR).toLowerCase()},n.prototype.generateAccountKey=function(){return n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},n.prototype.generateType=function(){switch(this.authorityType){case Fr.ADFS_ACCOUNT_TYPE:return Lr.ADFS;case Fr.MSAV1_ACCOUNT_TYPE:return Lr.MSA;case Fr.MSSTS_ACCOUNT_TYPE:return Lr.MSSTS;case Fr.GENERIC_ACCOUNT_TYPE:return Lr.GENERIC;default:throw F.createUnexpectedAccountTypeError()}},n.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},n.generateAccountCacheKey=function(t){return[t.homeAccountId,t.environment||v.EMPTY_STRING,t.tenantId||v.EMPTY_STRING].join(Ct.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAccount=function(t,e,r,i,o,s,a,c){var l,u,d,h,f,p,m=new n;m.authorityType=Fr.MSSTS_ACCOUNT_TYPE,m.clientInfo=t,m.homeAccountId=e,m.nativeAccountId=c;var g=a||i&&i.getPreferredCache();if(!g)throw F.createInvalidCacheEnvironmentError();if(m.environment=g,m.realm=(null===(l=r?.claims)||void 0===l?void 0:l.tid)||v.EMPTY_STRING,r){m.idTokenClaims=r.claims,m.localAccountId=(null===(u=r?.claims)||void 0===u?void 0:u.oid)||(null===(d=r?.claims)||void 0===d?void 0:d.sub)||v.EMPTY_STRING;var y=null===(h=r?.claims)||void 0===h?void 0:h.preferred_username,w=null!==(f=r?.claims)&&void 0!==f&&f.emails?r.claims.emails[0]:null;m.username=y||w||v.EMPTY_STRING,m.name=null===(p=r?.claims)||void 0===p?void 0:p.name}return m.cloudGraphHostName=o,m.msGraphHost=s,m},n.createGenericAccount=function(t,e,r,i,o,s){var a,c,l,u,d=new n;d.authorityType=r&&r.authorityType===en.Adfs?Fr.ADFS_ACCOUNT_TYPE:Fr.GENERIC_ACCOUNT_TYPE,d.homeAccountId=t,d.realm=v.EMPTY_STRING;var h=s||r&&r.getPreferredCache();if(!h)throw F.createInvalidCacheEnvironmentError();return e&&(d.localAccountId=(null===(a=e?.claims)||void 0===a?void 0:a.oid)||(null===(c=e?.claims)||void 0===c?void 0:c.sub)||v.EMPTY_STRING,d.username=(null===(l=e?.claims)||void 0===l?void 0:l.upn)||v.EMPTY_STRING,d.name=(null===(u=e?.claims)||void 0===u?void 0:u.name)||v.EMPTY_STRING,d.idTokenClaims=e?.claims),d.environment=h,d.cloudGraphHostName=i,d.msGraphHost=o,d},n.generateHomeAccountId=function(t,e,r,i,o){var s,a=null!==(s=o?.claims)&&void 0!==s&&s.sub?o.claims.sub:v.EMPTY_STRING;if(e===en.Adfs||e===en.Dsts)return a;if(t)try{var c=dd(t,i);if(!L.isEmpty(c.uid)&&!L.isEmpty(c.utid))return""+c.uid+Ct.CLIENT_INFO_SEPARATOR+c.utid}catch{}return r.verbose("No client info in response"),a},n.isAccountEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType")},n.accountInfoIsEqual=function(t,e,r){if(!t||!e)return!1;var i=!0;if(r){var o=t.idTokenClaims||{},s=e.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return t.homeAccountId===e.homeAccountId&&t.localAccountId===e.localAccountId&&t.username===e.username&&t.tenantId===e.tenantId&&t.environment===e.environment&&t.nativeAccountId===e.nativeAccountId&&i},n}(),Br=function(){function n(t,e){if(L.isEmpty(t))throw F.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=n.extractTokenClaims(t,e)}return n.extractTokenClaims=function(t,e){var r=L.decodeAuthToken(t);try{var o=e.base64Decode(r.JWSPayload);return JSON.parse(o)}catch(s){throw F.createTokenParsingError(s)}},n.checkMaxAge=function(t,e){if(0===e||Date.now()-3e5>t+e)throw F.createMaxAgeTranspiredError()},n}(),AD="@azure/msal-common",Og="13.3.0",En=function(){function n(t,e,r){this.clientId=t,this.cryptoImpl=e,this.commonLogger=r.clone(AD,Og)}return n.prototype.getAllAccounts=function(){var t=this,e=this.getAccountKeys();if(e.length<1)return[];var r=e.reduce(function(o,s){var a=t.getAccount(s);return a&&o.push(a),o},[]);return r.length<1?[]:r.map(function(o){return t.getAccountInfoFromEntity(o)})},n.prototype.getAccountInfoFilteredBy=function(t){var e=this.getAccountsFilteredBy(t);return e.length>0?this.getAccountInfoFromEntity(e[0]):null},n.prototype.getAccountInfoFromEntity=function(t){var e=t.getAccountInfo(),r=this.getIdToken(e);return r&&(e.idToken=r.secret,e.idTokenClaims=new Br(r.secret,this.cryptoImpl).claims),e},n.prototype.saveCacheRecord=function(t){return te(this,void 0,void 0,function(){return ne(this,function(e){switch(e.label){case 0:if(!t)throw F.createNullOrUndefinedCacheRecord();return t.account&&this.setAccount(t.account),t.idToken&&this.setIdTokenCredential(t.idToken),t.accessToken?[4,this.saveAccessToken(t.accessToken)]:[3,2];case 1:e.sent(),e.label=2;case 2:return t.refreshToken&&this.setRefreshTokenCredential(t.refreshToken),t.appMetadata&&this.setAppMetadata(t.appMetadata),[2]}})})},n.prototype.saveAccessToken=function(t){return te(this,void 0,void 0,function(){var e,r,i,o,s=this;return ne(this,function(a){switch(a.label){case 0:return e={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash},r=this.getTokenKeys(),i=Xt.fromString(t.target),o=[],r.accessToken.forEach(function(c){if(s.accessTokenKeyMatchesFilter(c,e,!1)){var l=s.getAccessTokenCredential(c);l&&s.credentialMatchesFilter(l,e)&&Xt.fromString(l.target).intersectingScopeSets(i)&&o.push(s.removeAccessToken(c))}}),[4,Promise.all(o)];case 1:return a.sent(),this.setAccessTokenCredential(t),[2]}})})},n.prototype.getAccountsFilteredBy=function(t){var e=this,r=this.getAccountKeys(),i=[];return r.forEach(function(o){if(e.isAccountKey(o,t.homeAccountId,t.realm)){var s=e.getAccount(o);!s||t.homeAccountId&&!e.matchHomeAccountId(s,t.homeAccountId)||t.localAccountId&&!e.matchLocalAccountId(s,t.localAccountId)||t.username&&!e.matchUsername(s,t.username)||t.environment&&!e.matchEnvironment(s,t.environment)||t.realm&&!e.matchRealm(s,t.realm)||t.nativeAccountId&&!e.matchNativeAccountId(s,t.nativeAccountId)||i.push(s)}}),i},n.prototype.isAccountKey=function(t,e,r){return!(t.split(Ct.CACHE_KEY_SEPARATOR).length<3||e&&!t.toLowerCase().includes(e.toLowerCase())||r&&!t.toLowerCase().includes(r.toLowerCase()))},n.prototype.isCredentialKey=function(t){if(t.split(Ct.CACHE_KEY_SEPARATOR).length<6)return!1;var e=t.toLowerCase();if(-1===e.indexOf($.ID_TOKEN.toLowerCase())&&-1===e.indexOf($.ACCESS_TOKEN.toLowerCase())&&-1===e.indexOf($.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===e.indexOf($.REFRESH_TOKEN.toLowerCase()))return!1;if(e.indexOf($.REFRESH_TOKEN.toLowerCase())>-1){var i=""+$.REFRESH_TOKEN+Ct.CACHE_KEY_SEPARATOR+"1"+Ct.CACHE_KEY_SEPARATOR;if(-1===e.indexOf((""+$.REFRESH_TOKEN+Ct.CACHE_KEY_SEPARATOR+this.clientId+Ct.CACHE_KEY_SEPARATOR).toLowerCase())&&-1===e.indexOf(i.toLowerCase()))return!1}else if(-1===e.indexOf(this.clientId.toLowerCase()))return!1;return!0},n.prototype.credentialMatchesFilter=function(t,e){return!(e.clientId&&!this.matchClientId(t,e.clientId)||e.userAssertionHash&&!this.matchUserAssertionHash(t,e.userAssertionHash)||"string"==typeof e.homeAccountId&&!this.matchHomeAccountId(t,e.homeAccountId)||e.environment&&!this.matchEnvironment(t,e.environment)||e.realm&&!this.matchRealm(t,e.realm)||e.credentialType&&!this.matchCredentialType(t,e.credentialType)||e.familyId&&!this.matchFamilyId(t,e.familyId)||e.target&&!this.matchTarget(t,e.target)||(e.requestedClaimsHash||t.requestedClaimsHash)&&t.requestedClaimsHash!==e.requestedClaimsHash||t.credentialType===$.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(e.tokenType&&!this.matchTokenType(t,e.tokenType)||e.tokenType===Ae.SSH&&e.keyId&&!this.matchKeyId(t,e.keyId)))},n.prototype.getAppMetadataFilteredBy=function(t){return this.getAppMetadataFilteredByInternal(t.environment,t.clientId)},n.prototype.getAppMetadataFilteredByInternal=function(t,e){var r=this,i=this.getKeys(),o={};return i.forEach(function(s){if(r.isAppMetadata(s)){var a=r.getAppMetadata(s);!a||t&&!r.matchEnvironment(a,t)||e&&!r.matchClientId(a,e)||(o[s]=a)}}),o},n.prototype.getAuthorityMetadataByAlias=function(t){var e=this,r=this.getAuthorityMetadataKeys(),i=null;return r.forEach(function(o){if(e.isAuthorityMetadata(o)&&-1!==o.indexOf(e.clientId)){var s=e.getAuthorityMetadata(o);!s||-1!==s.aliases.indexOf(t)&&(i=s)}}),i},n.prototype.removeAllAccounts=function(){return te(this,void 0,void 0,function(){var t,e,r=this;return ne(this,function(i){switch(i.label){case 0:return t=this.getAccountKeys(),e=[],t.forEach(function(o){e.push(r.removeAccount(o))}),[4,Promise.all(e)];case 1:return i.sent(),[2]}})})},n.prototype.removeAccount=function(t){return te(this,void 0,void 0,function(){var e;return ne(this,function(r){switch(r.label){case 0:if(!(e=this.getAccount(t)))throw F.createNoAccountFoundError();return[4,this.removeAccountContext(e)];case 1:return r.sent(),this.removeItem(t),[2]}})})},n.prototype.removeAccountContext=function(t){return te(this,void 0,void 0,function(){var e,r,i,o=this;return ne(this,function(s){switch(s.label){case 0:return e=this.getTokenKeys(),r=t.generateAccountId(),i=[],e.idToken.forEach(function(a){0===a.indexOf(r)&&o.removeIdToken(a)}),e.accessToken.forEach(function(a){0===a.indexOf(r)&&i.push(o.removeAccessToken(a))}),e.refreshToken.forEach(function(a){0===a.indexOf(r)&&o.removeRefreshToken(a)}),[4,Promise.all(i)];case 1:return s.sent(),[2]}})})},n.prototype.removeAccessToken=function(t){return te(this,void 0,void 0,function(){var e,i;return ne(this,function(o){switch(o.label){case 0:if(!(e=this.getAccessTokenCredential(t)))return[2];if(e.credentialType.toLowerCase()!==$.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(e.tokenType!==Ae.POP)return[3,4];if(!(i=e.keyId))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(i)];case 2:return o.sent(),[3,4];case 3:throw o.sent(),F.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(t)]}})})},n.prototype.removeAppMetadata=function(){var t=this;return this.getKeys().forEach(function(r){t.isAppMetadata(r)&&t.removeItem(r)}),!0},n.prototype.readCacheRecord=function(t,e,r){var i=this.getTokenKeys(),o=this.readAccountFromCache(t),s=this.getIdToken(t,i),a=this.getAccessToken(t,e,i),c=this.getRefreshToken(t,!1,i),l=this.readAppMetadataFromCache(r);return o&&s&&(o.idTokenClaims=new Br(s.secret,this.cryptoImpl).claims),{account:o,idToken:s,accessToken:a,refreshToken:c,appMetadata:l}},n.prototype.readAccountFromCache=function(t){var e=Ht.generateAccountCacheKey(t);return this.getAccount(e)},n.prototype.getIdToken=function(t,e){this.commonLogger.trace("CacheManager - getIdToken called");var i=this.getIdTokensByFilter({homeAccountId:t.homeAccountId,environment:t.environment,credentialType:$.ID_TOKEN,clientId:this.clientId,realm:t.tenantId},e),o=i.length;if(o<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(o>1)throw F.createMultipleMatchingTokensInCacheError();return this.commonLogger.info("CacheManager:getIdToken - Returning id token"),i[0]},n.prototype.getIdTokensByFilter=function(t,e){var r=this,i=e&&e.idToken||this.getTokenKeys().idToken,o=[];return i.forEach(function(s){if(r.idTokenKeyMatchesFilter(s,De({clientId:r.clientId},t))){var a=r.getIdTokenCredential(s);a&&r.credentialMatchesFilter(a,t)&&o.push(a)}}),o},n.prototype.idTokenKeyMatchesFilter=function(t,e){var r=t.toLowerCase();return!(e.clientId&&-1===r.indexOf(e.clientId.toLowerCase())||e.homeAccountId&&-1===r.indexOf(e.homeAccountId.toLowerCase()))},n.prototype.removeIdToken=function(t){this.removeItem(t)},n.prototype.removeRefreshToken=function(t){this.removeItem(t)},n.prototype.getAccessToken=function(t,e,r){var i=this;this.commonLogger.trace("CacheManager - getAccessToken called");var o=Xt.createSearchScopes(e.scopes),s=e.authenticationScheme||Ae.BEARER,a=s&&s.toLowerCase()!==Ae.BEARER.toLowerCase()?$.ACCESS_TOKEN_WITH_AUTH_SCHEME:$.ACCESS_TOKEN,c={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:a,clientId:this.clientId,realm:t.tenantId,target:o,tokenType:s,keyId:e.sshKid,requestedClaimsHash:e.requestedClaimsHash},l=r&&r.accessToken||this.getTokenKeys().accessToken,u=[];l.forEach(function(h){if(i.accessTokenKeyMatchesFilter(h,c,!0)){var f=i.getAccessTokenCredential(h);f&&i.credentialMatchesFilter(f,c)&&u.push(f)}});var d=u.length;if(d<1)return this.commonLogger.info("CacheManager:getAccessToken - No token found"),null;if(d>1)throw F.createMultipleMatchingTokensInCacheError();return this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),u[0]},n.prototype.accessTokenKeyMatchesFilter=function(t,e,r){var i=t.toLowerCase();if(e.clientId&&-1===i.indexOf(e.clientId.toLowerCase())||e.homeAccountId&&-1===i.indexOf(e.homeAccountId.toLowerCase())||e.realm&&-1===i.indexOf(e.realm.toLowerCase())||e.requestedClaimsHash&&-1===i.indexOf(e.requestedClaimsHash.toLowerCase()))return!1;if(e.target)for(var o=e.target.asArray(),s=0;s<o.length;s++){if(r&&!i.includes(o[s].toLowerCase()))return!1;if(!r&&i.includes(o[s].toLowerCase()))return!0}return!0},n.prototype.getAccessTokensByFilter=function(t){var e=this,r=this.getTokenKeys(),i=[];return r.accessToken.forEach(function(o){if(e.accessTokenKeyMatchesFilter(o,t,!0)){var s=e.getAccessTokenCredential(o);s&&e.credentialMatchesFilter(s,t)&&i.push(s)}}),i},n.prototype.getRefreshToken=function(t,e,r){var i=this;this.commonLogger.trace("CacheManager - getRefreshToken called");var s={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:$.REFRESH_TOKEN,clientId:this.clientId,familyId:e?"1":void 0},a=r&&r.refreshToken||this.getTokenKeys().refreshToken,c=[];return a.forEach(function(u){if(i.refreshTokenKeyMatchesFilter(u,s)){var d=i.getRefreshTokenCredential(u);d&&i.credentialMatchesFilter(d,s)&&c.push(d)}}),c.length<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])},n.prototype.refreshTokenKeyMatchesFilter=function(t,e){var r=t.toLowerCase();return!(e.familyId&&-1===r.indexOf(e.familyId.toLowerCase())||!e.familyId&&e.clientId&&-1===r.indexOf(e.clientId.toLowerCase())||e.homeAccountId&&-1===r.indexOf(e.homeAccountId.toLowerCase()))},n.prototype.readAppMetadataFromCache=function(t){var r=this.getAppMetadataFilteredBy({environment:t,clientId:this.clientId}),i=Object.keys(r).map(function(s){return r[s]}),o=i.length;if(o<1)return null;if(o>1)throw F.createMultipleMatchingAppMetadataInCacheError();return i[0]},n.prototype.isAppMetadataFOCI=function(t){var e=this.readAppMetadataFromCache(t);return!(!e||"1"!==e.familyId)},n.prototype.matchHomeAccountId=function(t,e){return"string"==typeof t.homeAccountId&&e===t.homeAccountId},n.prototype.matchLocalAccountId=function(t,e){return"string"==typeof t.localAccountId&&e===t.localAccountId},n.prototype.matchUsername=function(t,e){return"string"==typeof t.username&&e.toLowerCase()===t.username.toLowerCase()},n.prototype.matchUserAssertionHash=function(t,e){return!(!t.userAssertionHash||e!==t.userAssertionHash)},n.prototype.matchEnvironment=function(t,e){var r=this.getAuthorityMetadataByAlias(e);return!!(r&&r.aliases.indexOf(t.environment)>-1)},n.prototype.matchCredentialType=function(t,e){return t.credentialType&&e.toLowerCase()===t.credentialType.toLowerCase()},n.prototype.matchClientId=function(t,e){return!(!t.clientId||e!==t.clientId)},n.prototype.matchFamilyId=function(t,e){return!(!t.familyId||e!==t.familyId)},n.prototype.matchRealm=function(t,e){return!(!t.realm||e!==t.realm)},n.prototype.matchNativeAccountId=function(t,e){return!(!t.nativeAccountId||e!==t.nativeAccountId)},n.prototype.matchTarget=function(t,e){return!(t.credentialType!==$.ACCESS_TOKEN&&t.credentialType!==$.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target)&&Xt.fromString(t.target).containsScopeSet(e)},n.prototype.matchTokenType=function(t,e){return!(!t.tokenType||t.tokenType!==e)},n.prototype.matchKeyId=function(t,e){return!(!t.keyId||t.keyId!==e)},n.prototype.isAppMetadata=function(t){return-1!==t.indexOf(Ag)},n.prototype.isAuthorityMetadata=function(t){return-1!==t.indexOf("authority-metadata")},n.prototype.generateAuthorityMetadataCacheKey=function(t){return"authority-metadata-"+this.clientId+"-"+t},n.toObject=function(t,e){for(var r in e)t[r]=e[r];return t},n}(),Gj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Cn(t,n),t.prototype.setAccount=function(){throw G.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw G.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw G.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw G.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw G.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw G.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw G.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw G.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw G.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw G.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw G.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw G.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw G.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw G.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw G.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw G.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw G.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw G.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw G.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw G.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.getAccountKeys=function(){throw G.createUnexpectedError("Storage interface - getAccountKeys() has not been implemented for the cacheStorage interface.")},t.prototype.getTokenKeys=function(){throw G.createUnexpectedError("Storage interface - getTokenKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){return te(this,void 0,void 0,function(){return ne(this,function(r){throw G.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")})})},t.prototype.updateCredentialCacheKey=function(){throw G.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},t}(En),er=function(){function n(){}return n.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},n.isTokenExpired=function(t,e){var r=Number(t)||0;return n.nowSeconds()+e>r},n.wasClockTurnedBack=function(t){return Number(t)>n.nowSeconds()},n.delay=function(t,e){return new Promise(function(r){return setTimeout(function(){return r(e)},t)})},n}(),Do=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Cn(t,n),t.createAccessTokenEntity=function(e,r,i,o,s,a,c,l,u,d,h,f,p,m,g){var y,w,C=new t;C.homeAccountId=e,C.credentialType=$.ACCESS_TOKEN,C.secret=i;var k=er.nowSeconds();if(C.cachedAt=k.toString(),C.expiresOn=c.toString(),C.extendedExpiresOn=l.toString(),d&&(C.refreshOn=d.toString()),C.environment=r,C.clientId=o,C.realm=s,C.target=a,C.userAssertionHash=f,C.tokenType=L.isEmpty(h)?Ae.BEARER:h,m&&(C.requestedClaims=m,C.requestedClaimsHash=g),(null===(y=C.tokenType)||void 0===y?void 0:y.toLowerCase())!==Ae.BEARER.toLowerCase())switch(C.credentialType=$.ACCESS_TOKEN_WITH_AUTH_SCHEME,C.tokenType){case Ae.POP:var K=Br.extractTokenClaims(i,u);if(null===(w=K?.cnf)||void 0===w||!w.kid)throw F.createTokenClaimsRequiredError();C.keyId=K.cnf.kid;break;case Ae.SSH:C.keyId=p}return C},t.isAccessTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===$.ACCESS_TOKEN||e.credentialType===$.ACCESS_TOKEN_WITH_AUTH_SCHEME)},t}(Ng),Ps=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Cn(t,n),t.createRefreshTokenEntity=function(e,r,i,o,s,a){var c=new t;return c.clientId=o,c.credentialType=$.REFRESH_TOKEN,c.environment=r,c.homeAccountId=e,c.secret=i,c.userAssertionHash=a,s&&(c.familyId=s),c},t.isRefreshTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===$.REFRESH_TOKEN},t}(Ng),xg=function(){function n(){}return n.prototype.generateAppMetadataKey=function(){return n.generateAppMetadataCacheKey(this.environment,this.clientId)},n.generateAppMetadataCacheKey=function(t,e){return[Ag,t,e].join(Ct.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAppMetadataEntity=function(t,e,r){var i=new n;return i.clientId=t,i.environment=e,r&&(i.familyId=r),i},n.isAppMetadataEntity=function(t,e){return!!e&&0===t.indexOf(Ag)&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment")},n}(),hd=function(){function n(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return n.isServerTelemetryEntity=function(t,e){var r=0===t.indexOf(Vt.CACHE_KEY),i=!0;return e&&(i=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&i},n}(),Pg=function(){function n(){this.expiresAt=er.nowSeconds()+86400}return n.prototype.updateCloudDiscoveryMetadata=function(t,e){this.aliases=t.aliases,this.preferred_cache=t.preferred_cache,this.preferred_network=t.preferred_network,this.aliasesFromNetwork=e},n.prototype.updateEndpointMetadata=function(t,e){this.authorization_endpoint=t.authorization_endpoint,this.token_endpoint=t.token_endpoint,this.end_session_endpoint=t.end_session_endpoint,this.issuer=t.issuer,this.endpointsFromNetwork=e,this.jwks_uri=t.jwks_uri},n.prototype.updateCanonicalAuthority=function(t){this.canonical_authority=t},n.prototype.resetExpiresAt=function(){this.expiresAt=er.nowSeconds()+86400},n.prototype.isExpired=function(){return this.expiresAt<=er.nowSeconds()},n.isAuthorityMetadataEntity=function(t,e){return!!e&&0===t.indexOf("authority-metadata")&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri")},n}(),MD=function(){function n(){}return n.isThrottlingEntity=function(t,e){var r=!1;t&&(r=0===t.indexOf("throttling"));var i=!0;return e&&(i=e.hasOwnProperty("throttleTime")),r&&i},n}(),gi=function(){function n(){}return n.setRequestState=function(t,e,r){var i=n.generateLibraryState(t,r);return L.isEmpty(e)?i:""+i+v.RESOURCE_DELIM+e},n.generateLibraryState=function(t,e){if(!t)throw F.createNoCryptoObjectError("generateLibraryState");var r={id:t.createNewGuid()};e&&(r.meta=e);var i=JSON.stringify(r);return t.base64Encode(i)},n.parseRequestState=function(t,e){if(!t)throw F.createNoCryptoObjectError("parseRequestState");if(L.isEmpty(e))throw F.createInvalidStateError(e,"Null, undefined or empty state");try{var r=e.split(v.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(v.RESOURCE_DELIM):v.EMPTY_STRING,s=t.base64Decode(i),a=JSON.parse(s);return{userRequestState:L.isEmpty(o)?v.EMPTY_STRING:o,libraryState:a}}catch(c){throw F.createInvalidStateError(e,c)}},n}(),Sn=(()=>{return(n=Sn||(Sn={})).HOME_ACCOUNT_ID="home_account_id",n.UPN="UPN",Sn;var n})(),RD=function(){function n(t){this.validateWindowStorage(t),this.windowStorage=window[t]}return n.prototype.validateWindowStorage=function(t){if(t!==ht.LocalStorage&&t!==ht.SessionStorage)throw wc.createStorageNotSupportedError(t);if(!window[t])throw wc.createStorageNotSupportedError(t)},n.prototype.getItem=function(t){return this.windowStorage.getItem(t)},n.prototype.setItem=function(t,e){this.windowStorage.setItem(t,e)},n.prototype.removeItem=function(t){this.windowStorage.removeItem(t)},n.prototype.getKeys=function(){return Object.keys(this.windowStorage)},n.prototype.containsKey=function(t){return this.windowStorage.hasOwnProperty(t)},n}(),ge=function(){function n(t){if(this._urlString=t,L.isEmpty(this._urlString))throw We.createUrlEmptyError();L.isEmpty(this.getHash())&&(this._urlString=n.canonicalizeUri(t))}return Object.defineProperty(n.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),n.canonicalizeUri=function(t){if(t){var e=t.toLowerCase();return L.endsWith(e,"?")?e=e.slice(0,-1):L.endsWith(e,"?/")&&(e=e.slice(0,-2)),L.endsWith(e,"/")||(e+="/"),e}return t},n.prototype.validateAsUri=function(){var t;try{t=this.getUrlComponents()}catch(e){throw We.createUrlParseError(e)}if(!t.HostNameAndPort||!t.PathSegments)throw We.createUrlParseError("Given url string: "+this.urlString);if(!t.Protocol||"https:"!==t.Protocol.toLowerCase())throw We.createInsecureAuthorityUriError(this.urlString)},n.appendQueryString=function(t,e){return L.isEmpty(e)?t:t.indexOf("?")<0?t+"?"+e:t+"&"+e},n.removeHashFromUrl=function(t){return n.canonicalizeUri(t.split("#")[0])},n.prototype.replaceTenantPath=function(t){var e=this.getUrlComponents(),r=e.PathSegments;return t&&0!==r.length&&(r[0]===Gi.COMMON||r[0]===Gi.ORGANIZATIONS)&&(r[0]=t),n.constructAuthorityUriFromObject(e)},n.prototype.getHash=function(){return n.parseHash(this.urlString)},n.prototype.getUrlComponents=function(){var t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),e=this.urlString.match(t);if(!e)throw We.createUrlParseError("Given url string: "+this.urlString);var r={Protocol:e[1],HostNameAndPort:e[4],AbsolutePath:e[5],QueryString:e[7]},i=r.AbsolutePath.split("/");return i=i.filter(function(o){return o&&o.length>0}),r.PathSegments=i,!L.isEmpty(r.QueryString)&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r},n.getDomainFromUrl=function(t){var e=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=t.match(e);if(!r)throw We.createUrlParseError("Given url string: "+t);return r[2]},n.getAbsoluteUrl=function(t,e){if(t[0]===v.FORWARD_SLASH){var i=new n(e).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+t}return t},n.parseHash=function(t){var e=t.indexOf("#"),r=t.indexOf("#/");return r>-1?t.substring(r+2):e>-1?t.substring(e+1):v.EMPTY_STRING},n.parseQueryString=function(t){var e=t.indexOf("?"),r=t.indexOf("/?");return r>-1?t.substring(r+2):e>-1?t.substring(e+1):v.EMPTY_STRING},n.constructAuthorityUriFromObject=function(t){return new n(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},n.getDeserializedHash=function(t){if(L.isEmpty(t))return{};var e=n.parseHash(t),r=L.queryStringToObject(L.isEmpty(e)?t:e);if(!r)throw F.createHashNotDeserializedError(JSON.stringify(r));return r},n.getDeserializedQueryString=function(t){if(L.isEmpty(t))return{};var e=n.parseQueryString(t),r=L.queryStringToObject(L.isEmpty(e)?t:e);if(!r)throw F.createHashNotDeserializedError(JSON.stringify(r));return r},n.hashContainsKnownProperties=function(t){if(L.isEmpty(t)||t.indexOf("=")<0)return!1;var e=n.getDeserializedHash(t);return!!(e.code||e.error_description||e.error||e.state)},n}(),kD=function(){function n(){}return n.extractBrowserRequestState=function(t,e){if(L.isEmpty(e))return null;try{return gi.parseRequestState(t,e).libraryState.meta}catch(i){throw F.createInvalidStateError(e,i)}},n.parseServerResponseFromHash=function(t){if(!t)return{};var e=new ge(t);return ge.getDeserializedHash(e.getHash())},n}(),Fg=function(n){function t(e,r,i,o){var s=n.call(this,e,i,o)||this;return s.COOKIE_LIFE_MULTIPLIER=864e5,s.cacheConfig=r,s.logger=o,s.internalStorage=new Rg,s.browserStorage=s.setupBrowserStorage(s.cacheConfig.cacheLocation),s.temporaryCacheStorage=s.setupTemporaryCacheStorage(s.cacheConfig.temporaryCacheLocation,s.cacheConfig.cacheLocation),r.cacheMigrationEnabled&&(s.migrateCacheEntries(),s.createKeyMaps()),s}return Ut(t,n),t.prototype.setupBrowserStorage=function(e){switch(e){case ht.LocalStorage:case ht.SessionStorage:try{return new RD(e)}catch(r){this.logger.verbose(r);break}}return this.cacheConfig.cacheLocation=ht.MemoryStorage,new Rg},t.prototype.setupTemporaryCacheStorage=function(e,r){switch(r){case ht.LocalStorage:case ht.SessionStorage:try{return new RD(e||ht.SessionStorage)}catch(i){return this.logger.verbose(i),this.internalStorage}default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,i=v.CACHE_PREFIX+"."+_t.CLIENT_INFO,o=v.CACHE_PREFIX+"."+_t.ERROR,s=v.CACHE_PREFIX+"."+_t.ERROR_DESC,d=[this.browserStorage.getItem(v.CACHE_PREFIX+"."+_t.ID_TOKEN),this.browserStorage.getItem(i),this.browserStorage.getItem(o),this.browserStorage.getItem(s)];[_t.ID_TOKEN,_t.CLIENT_INFO,_t.ERROR,_t.ERROR_DESC].forEach(function(f,p){return e.migrateCacheEntry(f,d[p])})},t.prototype.migrateCacheEntry=function(e,r){r&&this.setTemporaryCache(e,r,!0)},t.prototype.createKeyMaps=function(){var e=this;this.logger.trace("BrowserCacheManager - createKeyMaps called.");var r=this.getItem(_r.ACCOUNT_KEYS),i=this.getItem(_r.TOKEN_KEYS+"."+this.clientId);r&&i?this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration."):this.browserStorage.getKeys().forEach(function(s){var a;if(e.isCredentialKey(s)&&(a=e.getItem(s))){var c=e.validateAndParseJson(a);if(c&&c.hasOwnProperty("credentialType"))switch(c.credentialType){case $.ID_TOKEN:if(Io.isIdTokenEntity(c)){e.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - idToken with key: "+s+" found, saving key to token key map");var l=En.toObject(new Io,c),u=e.updateCredentialCacheKey(s,l);return void e.addTokenKey(u,$.ID_TOKEN)}e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed idToken validation on key: "+s);break;case $.ACCESS_TOKEN:case $.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(Do.isAccessTokenEntity(c)){e.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - accessToken with key: "+s+" found, saving key to token key map");var d=En.toObject(new Do,c);return u=e.updateCredentialCacheKey(s,d),void e.addTokenKey(u,$.ACCESS_TOKEN)}e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed accessToken validation on key: "+s);break;case $.REFRESH_TOKEN:if(Ps.isRefreshTokenEntity(c)){e.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - refreshToken with key: "+s+" found, saving key to token key map");var h=En.toObject(new Ps,c);return u=e.updateCredentialCacheKey(s,h),void e.addTokenKey(u,$.REFRESH_TOKEN)}e.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),e.logger.tracePii("BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: "+s)}}if(e.isAccountKey(s)&&(a=e.getItem(s))){var f=e.validateAndParseJson(a);f&&Ht.isAccountEntity(f)&&(e.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),e.logger.tracePii("BrowserCacheManager:createKeyMaps - account with key: "+s+" found, saving key to account key map"),e.addAccountKeyToMap(s))}})},t.prototype.validateAndParseJson=function(e){try{var r=JSON.parse(e);return r&&"object"==typeof r?r:null}catch{return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,r){this.browserStorage.setItem(e,r)},t.prototype.getAccount=function(e){this.logger.trace("BrowserCacheManager.getAccount called");var r=this.getItem(e);if(!r)return this.removeAccountKeyFromMap(e),null;var i=this.validateAndParseJson(r);return i&&Ht.isAccountEntity(i)?En.toObject(new Ht,i):(this.removeAccountKeyFromMap(e),null)},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var r=e.generateAccountKey();this.setItem(r,JSON.stringify(e)),this.addAccountKeyToMap(r)},t.prototype.getAccountKeys=function(){this.logger.trace("BrowserCacheManager.getAccountKeys called");var e=this.getItem(_r.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])},t.prototype.addAccountKeyToMap=function(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: "+e);var r=this.getAccountKeys();-1===r.indexOf(e)?(r.push(e),this.setItem(_r.ACCOUNT_KEYS,JSON.stringify(r)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")},t.prototype.removeAccountKeyFromMap=function(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: "+e);var r=this.getAccountKeys(),i=r.indexOf(e);i>-1?(r.splice(i,1),this.setItem(_r.ACCOUNT_KEYS,JSON.stringify(r)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")},t.prototype.removeAccount=function(e){return I(this,void 0,void 0,function(){return D(this,function(r){return n.prototype.removeAccount.call(this,e),this.removeAccountKeyFromMap(e),[2]})})},t.prototype.removeIdToken=function(e){n.prototype.removeIdToken.call(this,e),this.removeTokenKey(e,$.ID_TOKEN)},t.prototype.removeAccessToken=function(e){return I(this,void 0,void 0,function(){return D(this,function(r){return n.prototype.removeAccessToken.call(this,e),this.removeTokenKey(e,$.ACCESS_TOKEN),[2]})})},t.prototype.removeRefreshToken=function(e){n.prototype.removeRefreshToken.call(this,e),this.removeTokenKey(e,$.REFRESH_TOKEN)},t.prototype.getTokenKeys=function(){this.logger.trace("BrowserCacheManager.getTokenKeys called");var e=this.getItem(_r.TOKEN_KEYS+"."+this.clientId);if(e){var r=this.validateAndParseJson(e);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}},t.prototype.addTokenKey=function(e,r){this.logger.trace("BrowserCacheManager addTokenKey called");var i=this.getTokenKeys();switch(r){case $.ID_TOKEN:-1===i.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),i.idToken.push(e));break;case $.ACCESS_TOKEN:-1===i.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),i.accessToken.push(e));break;case $.REFRESH_TOKEN:-1===i.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),i.refreshToken.push(e));break;default:this.logger.error("BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: "+r),F.createUnexpectedCredentialTypeError()}this.setItem(_r.TOKEN_KEYS+"."+this.clientId,JSON.stringify(i))},t.prototype.removeTokenKey=function(e,r){this.logger.trace("BrowserCacheManager removeTokenKey called");var i=this.getTokenKeys();switch(r){case $.ID_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: "+e+" from map");var o=i.idToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),i.idToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case $.ACCESS_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: "+e+" from map");var s=i.accessToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),i.accessToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case $.REFRESH_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: "+e+" from map");var a=i.refreshToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),i.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:this.logger.error("BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: "+r),F.createUnexpectedCredentialTypeError()}this.setItem(_r.TOKEN_KEYS+"."+this.clientId,JSON.stringify(i))},t.prototype.getIdTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.ID_TOKEN),null;var i=this.validateAndParseJson(r);return i&&Io.isIdTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),En.toObject(new Io,i)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.ID_TOKEN),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e)),this.addTokenKey(r,$.ID_TOKEN)},t.prototype.getAccessTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.ACCESS_TOKEN),null;var i=this.validateAndParseJson(r);return i&&Do.isAccessTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),En.toObject(new Do,i)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.ACCESS_TOKEN),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e)),this.addTokenKey(r,$.ACCESS_TOKEN)},t.prototype.getRefreshTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.REFRESH_TOKEN),null;var i=this.validateAndParseJson(r);return i&&Ps.isRefreshTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),En.toObject(new Ps,i)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.REFRESH_TOKEN),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e)),this.addTokenKey(r,$.REFRESH_TOKEN)},t.prototype.getAppMetadata=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&xg.isAppMetadataEntity(e,i)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),En.toObject(new xg,i)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var r=e.generateAppMetadataKey();this.setItem(r,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&hd.isServerTelemetryEntity(e,i)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),En.toObject(new hd,i)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(r))},t.prototype.getAuthorityMetadata=function(e){var r=this.internalStorage.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Pg.isAuthorityMetadataEntity(e,i)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),En.toObject(new Pg,i)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter(function(i){return e.isAuthorityMetadata(i)})},t.prototype.setWrapperMetadata=function(e,r){this.internalStorage.setItem(To.WRAPPER_SKU,e),this.internalStorage.setItem(To.WRAPPER_VER,r)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(To.WRAPPER_SKU)||v.EMPTY_STRING,this.internalStorage.getItem(To.WRAPPER_VER)||v.EMPTY_STRING]},t.prototype.setAuthorityMetadata=function(e,r){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(r))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(_t.ACTIVE_ACCOUNT_FILTERS),r=this.getItem(e);if(!r){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");var i=this.generateCacheKey(_t.ACTIVE_ACCOUNT),o=this.getItem(i);if(!o)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;var s=this.getAccountInfoByFilter({localAccountId:o})[0]||null;return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(s),s):null}var a=this.validateAndParseJson(r);return a?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:a.homeAccountId,localAccountId:a.localAccountId})[0]||null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)},t.prototype.setActiveAccount=function(e){var r=this.generateCacheKey(_t.ACTIVE_ACCOUNT_FILTERS),i=this.generateCacheKey(_t.ACTIVE_ACCOUNT);e?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(r,JSON.stringify({homeAccountId:e.homeAccountId,localAccountId:e.localAccountId})),this.browserStorage.setItem(i,e.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r),this.browserStorage.removeItem(i))},t.prototype.getAccountInfoByFilter=function(e){var r=this.getAllAccounts();return this.logger.trace("BrowserCacheManager.getAccountInfoByFilter: total "+r.length+" accounts found"),r.filter(function(i){return!(e.username&&e.username.toLowerCase()!==i.username.toLowerCase()||e.homeAccountId&&e.homeAccountId!==i.homeAccountId||e.localAccountId&&e.localAccountId!==i.localAccountId||e.tenantId&&e.tenantId!==i.tenantId||e.environment&&e.environment!==i.environment)})},t.prototype.getAccountInfoByHints=function(e,r){var i=this.getAllAccounts().filter(function(o){return r?r===(o.idTokenClaims&&o.idTokenClaims.sid):!!e&&e===o.username});if(1===i.length)return i[0];if(i.length>1)throw F.createMultipleMatchingAccountsInCacheError();return null},t.prototype.getThrottlingCache=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&MD.isThrottlingEntity(e,i)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),En.toObject(new MD,i)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(r))},t.prototype.getTemporaryCache=function(e,r){var i=r?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var o=this.getItemCookie(i);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}var s=this.temporaryCacheStorage.getItem(i);if(!s){if(this.cacheConfig.cacheLocation===ht.LocalStorage){var a=this.browserStorage.getItem(i);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),a}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),s},t.prototype.setTemporaryCache=function(e,r,i){var o=i?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(o,r),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(o,r))},t.prototype.removeItem=function(e){this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return Ig(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return I(this,void 0,void 0,function(){var e=this;return D(this,function(r){switch(r.label){case 0:return[4,this.removeAllAccounts()];case 1:return r.sent(),this.removeAppMetadata(),this.getKeys().forEach(function(i){(e.browserStorage.containsKey(i)||e.temporaryCacheStorage.containsKey(i))&&(-1!==i.indexOf(v.CACHE_PREFIX)||-1!==i.indexOf(e.clientId))&&e.removeItem(i)}),this.internalStorage.clear(),[2]}})})},t.prototype.clearTokensAndKeysWithClaims=function(){return I(this,void 0,void 0,function(){var e,r,i=this;return D(this,function(o){switch(o.label){case 0:return this.logger.trace("BrowserCacheManager.clearTokensAndKeysWithClaims called"),e=this.getTokenKeys(),r=[],e.accessToken.forEach(function(s){var a=i.getAccessTokenCredential(s);a?.requestedClaimsHash&&s.includes(a.requestedClaimsHash.toLowerCase())&&r.push(i.removeAccessToken(s))}),[4,Promise.all(r)];case 1:return o.sent(),r.length>0&&this.logger.warning(r.length+" access tokens with claims in the cache keys have been removed from the cache."),[2]}})})},t.prototype.setItemCookie=function(e,r,i){var o=encodeURIComponent(e)+"="+encodeURIComponent(r)+";path=/;SameSite=Lax;";i&&(o+="expires="+this.getCookieExpirationTime(i)+";"),this.cacheConfig.secureCookies&&(o+="Secure;"),document.cookie=o},t.prototype.getItemCookie=function(e){for(var r=encodeURIComponent(e)+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var s=i[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(r))return decodeURIComponent(s.substring(r.length,s.length))}return v.EMPTY_STRING},t.prototype.clearMsalCookies=function(){var e=this,r=v.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach(function(o){for(;" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(r)){var s=o.split("=")[0];e.clearItemCookie(s)}})},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,v.EMPTY_STRING,-1)},t.prototype.getCookieExpirationTime=function(e){var r=new Date;return new Date(r.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):L.startsWith(e,v.CACHE_PREFIX)||L.startsWith(e,_t.ADAL_ID_TOKEN)?e:v.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var r=gi.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(_e.AUTHORITY+"."+r)},t.prototype.generateNonceKey=function(e){var r=gi.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(_e.NONCE_IDTOKEN+"."+r)},t.prototype.generateStateKey=function(e){var r=gi.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(_e.REQUEST_STATE+"."+r)},t.prototype.getCachedAuthority=function(e){var r=this.generateStateKey(e),i=this.getTemporaryCache(r);if(!i)return null;var o=this.generateAuthorityKey(i);return this.getTemporaryCache(o)},t.prototype.updateCacheEntries=function(e,r,i,o,s){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1);var c=this.generateNonceKey(e);this.setTemporaryCache(c,r,!1);var l=this.generateAuthorityKey(e);if(this.setTemporaryCache(l,i,!1),s){var u={credential:s.homeAccountId,type:Sn.HOME_ACCOUNT_ID};this.setTemporaryCache(_e.CCS_CREDENTIAL,JSON.stringify(u),!0)}else L.isEmpty(o)||(u={credential:o,type:Sn.UPN},this.setTemporaryCache(_e.CCS_CREDENTIAL,JSON.stringify(u),!0))},t.prototype.resetRequestCache=function(e){var r=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),L.isEmpty(e)||this.getKeys().forEach(function(i){-1!==i.indexOf(e)&&r.removeItem(i)}),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(_e.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(_e.ORIGIN_URI)),this.removeItem(this.generateCacheKey(_e.URL_HASH)),this.removeItem(this.generateCacheKey(_e.CORRELATION_ID)),this.removeItem(this.generateCacheKey(_e.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(_e.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var r=this.generateStateKey(e),i=this.temporaryCacheStorage.getItem(r);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+i),this.resetRequestCache(i||v.EMPTY_STRING)}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var r=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(i){if(-1!==i.indexOf(_e.REQUEST_STATE)){var o=r.temporaryCacheStorage.getItem(i);if(o){var s=kD.extractBrowserRequestState(r.cryptoImpl,o);s&&s.interactionType===e&&(r.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+o),r.resetRequestCache(o))}}}),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,r){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var i=r.base64Encode(JSON.stringify(e));this.setTemporaryCache(_e.REQUEST_PARAMS,i,!0)},t.prototype.getCachedRequest=function(e,r){this.logger.trace("BrowserCacheManager.getCachedRequest called");var i=this.getTemporaryCache(_e.REQUEST_PARAMS,!0);if(!i)throw O.createNoTokenRequestCacheError();var o=this.validateAndParseJson(r.base64Decode(i));if(!o)throw O.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(_e.REQUEST_PARAMS)),L.isEmpty(o.authority)){var s=this.generateAuthorityKey(e),a=this.getTemporaryCache(s);if(!a)throw O.createNoCachedAuthorityError();o.authority=a}return o},t.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var e=this.getTemporaryCache(_e.NATIVE_REQUEST,!0);return e?this.validateAndParseJson(e)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)},t.prototype.isInteractionInProgress=function(e){var r=this.getInteractionInProgress();return e?r===this.clientId:!!r},t.prototype.getInteractionInProgress=function(){return this.getTemporaryCache(v.CACHE_PREFIX+"."+_e.INTERACTION_STATUS_KEY,!1)},t.prototype.setInteractionInProgress=function(e){var r=v.CACHE_PREFIX+"."+_e.INTERACTION_STATUS_KEY;if(e){if(this.getInteractionInProgress())throw O.createInteractionInProgressError();this.setTemporaryCache(r,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeItem(r)},t.prototype.getLegacyLoginHint=function(){var e=this.getTemporaryCache(_t.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(_t.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var r=this.getTemporaryCache(_t.ID_TOKEN,!0);r&&(this.removeItem(this.generateCacheKey(_t.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var i=r||e;if(i){var o=new Br(i,this.cryptoImpl);if(o.claims&&o.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),o.claims.preferred_username;if(o.claims&&o.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),o.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,r){var i=r.generateCredentialKey();if(e!==i){var o=this.getItem(e);if(o)return this.removeItem(e),this.setItem(i,o),this.logger.verbose("Updated an outdated "+r.credentialType+" cache key"),i;this.logger.error("Attempted to update an outdated "+r.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t.prototype.getRedirectRequestContext=function(){return this.getTemporaryCache(_e.REDIRECT_CONTEXT,!0)},t.prototype.setRedirectRequestContext=function(e){this.setTemporaryCache(_e.REDIRECT_CONTEXT,e,!0)},t}(En),Fs=(()=>{return(n=Fs||(Fs={})).AAD="AAD",n.OIDC="OIDC",Fs;var n})(),Ls=(()=>{return(n=Ls||(Ls={}))[n.None=0]="None",n.AzurePublic="https://login.microsoftonline.com",n.AzurePpe="https://login.windows-ppe.net",n.AzureChina="https://login.chinacloudapi.cn",n.AzureGermany="https://login.microsoftonline.de",n.AzureUsGovernment="https://login.microsoftonline.us",Ls;var n})(),ND={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Kj={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:bt.Info,correlationId:v.EMPTY_STRING},Wj={claimsBasedCachingEnabled:!0},Qj={sendGetRequestAsync:function(){return te(this,void 0,void 0,function(){return ne(this,function(t){throw G.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return te(this,void 0,void 0,function(){return ne(this,function(t){throw G.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},Yj={sku:v.SKU,version:Og,cpu:v.EMPTY_STRING,os:v.EMPTY_STRING},Jj={clientSecret:v.EMPTY_STRING,clientAssertion:void 0},Zj={azureCloudInstance:Ls.None,tenant:""+v.DEFAULT_COMMON_TENANT},Xj={application:{appName:"",appVersion:""}};function tz(n){return De({clientCapabilities:[],azureCloudOptions:Zj,skipAuthorityMetadataCache:!1},n)}var nz={sendGetRequestAsync:function(){return Promise.reject(G.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(G.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},rz=function(){function n(){}return n.prototype.sendGetRequestAsync=function(t,e){return I(this,void 0,void 0,function(){var r,i,o;return D(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,fetch(t,{method:yr.GET,headers:this.getFetchHeaders(e)})];case 1:return r=s.sent(),[3,3];case 2:throw i=s.sent(),window.navigator.onLine?O.createGetRequestFailedError(i,t):O.createNoNetworkConnectivityError();case 3:return s.trys.push([3,5,,6]),o={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 4:return[2,(o.body=s.sent(),o.status=r.status,o)];case 5:throw s.sent(),O.createFailedToParseNetworkResponseError(t);case 6:return[2]}})})},n.prototype.sendPostRequestAsync=function(t,e){return I(this,void 0,void 0,function(){var r,i,o,s;return D(this,function(a){switch(a.label){case 0:r=e&&e.body||v.EMPTY_STRING,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(t,{method:yr.POST,headers:this.getFetchHeaders(e),body:r})];case 2:return i=a.sent(),[3,4];case 3:throw o=a.sent(),window.navigator.onLine?O.createPostRequestFailedError(o,t):O.createNoNetworkConnectivityError();case 4:return a.trys.push([4,6,,7]),s={headers:this.getHeaderDict(i.headers)},[4,i.json()];case 5:return[2,(s.body=a.sent(),s.status=i.status,s)];case 6:throw a.sent(),O.createFailedToParseNetworkResponseError(t);case 7:return[2]}})})},n.prototype.getFetchHeaders=function(t){var e=new Headers;if(!t||!t.headers)return e;var r=t.headers;return Object.keys(r).forEach(function(i){e.append(i,r[i])}),e},n.prototype.getHeaderDict=function(t){var e={};return t.forEach(function(r,i){e[i]=r}),e},n}(),iz=function(){function n(){}return n.prototype.sendGetRequestAsync=function(t,e){return I(this,void 0,void 0,function(){return D(this,function(r){return[2,this.sendRequestAsync(t,yr.GET,e)]})})},n.prototype.sendPostRequestAsync=function(t,e){return I(this,void 0,void 0,function(){return D(this,function(r){return[2,this.sendRequestAsync(t,yr.POST,e)]})})},n.prototype.sendRequestAsync=function(t,e,r){var i=this;return new Promise(function(o,s){var a=new XMLHttpRequest;if(a.open(e,t,!0),i.setXhrHeaders(a,r),a.onload=function(){(a.status<200||a.status>=300)&&s(e===yr.POST?O.createPostRequestFailedError("Failed with status "+a.status,t):O.createGetRequestFailedError("Failed with status "+a.status,t));try{var c=JSON.parse(a.responseText),l={headers:i.getHeaderDict(a),body:c,status:a.status};o(l)}catch{s(O.createFailedToParseNetworkResponseError(t))}},a.onerror=function(){window.navigator.onLine?s(e===yr.POST?O.createPostRequestFailedError("Failed with status "+a.status,t):O.createGetRequestFailedError("Failed with status "+a.status,t)):s(O.createNoNetworkConnectivityError())},e===yr.POST&&r&&r.body)a.send(r.body);else{if(e!==yr.GET)throw O.createHttpMethodNotImplementedError(e);a.send()}})},n.prototype.setXhrHeaders=function(t,e){if(e&&e.headers){var r=e.headers;Object.keys(r).forEach(function(i){t.setRequestHeader(i,r[i])})}},n.prototype.getHeaderDict=function(t){var r=t.getAllResponseHeaders().trim().split(/[\r\n]+/),i={};return r.forEach(function(o){var s=o.split(": "),a=s.shift(),c=s.join(": ");a&&c&&(i[a]=c)}),i},n}(),Ze=function(){function n(){}return n.clearHash=function(t){t.location.hash=v.EMPTY_STRING,"function"==typeof t.history.replaceState&&t.history.replaceState(null,v.EMPTY_STRING,""+t.location.origin+t.location.pathname+t.location.search)},n.replaceHash=function(t){var e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):v.EMPTY_STRING},n.isInIframe=function(){return window.parent!==window},n.isInPopup=function(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf("msal.")},n.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},n.getHomepage=function(){var e=new ge(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},n.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new rz:new iz},n.blockReloadInHiddenIframes=function(){if(ge.hashContainsKnownProperties(window.location.hash)&&n.isInIframe())throw O.createBlockReloadInHiddenIframeError()},n.blockRedirectInIframe=function(t,e){var r=n.isInIframe();if(t===x.Redirect&&r&&!e)throw O.createRedirectInIframeError(r)},n.blockAcquireTokenInPopups=function(){if(n.isInPopup())throw O.createBlockAcquireTokenInPopupsError()},n.blockNonBrowserEnvironment=function(t){if(!t)throw O.createNonBrowserEnvironmentError()},n.blockNativeBrokerCalledBeforeInitialized=function(t,e){if(t&&!e)throw O.createNativeBrokerCalledBeforeInitialize()},n.detectIEOrEdge=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE "),r=t.indexOf("Trident/"),i=t.indexOf("Edge/");return e>0||r>0||i>0},n}(),oz=function(){function n(){}return n.prototype.navigateInternal=function(t,e){return n.defaultNavigateWindow(t,e)},n.prototype.navigateExternal=function(t,e){return n.defaultNavigateWindow(t,e)},n.defaultNavigateWindow=function(t,e){return e.noHistory?window.location.replace(t):window.location.assign(t),new Promise(function(r){setTimeout(function(){r(!0)},e.timeout)})},n}(),Ug="@azure/msal-browser",Ec="2.38.2",B=(()=>{return(n=B||(B={})).INITIALIZE_START="msal:initializeStart",n.INITIALIZE_END="msal:initializeEnd",n.ACCOUNT_ADDED="msal:accountAdded",n.ACCOUNT_REMOVED="msal:accountRemoved",n.LOGIN_START="msal:loginStart",n.LOGIN_SUCCESS="msal:loginSuccess",n.LOGIN_FAILURE="msal:loginFailure",n.ACQUIRE_TOKEN_START="msal:acquireTokenStart",n.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",n.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",n.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",n.SSO_SILENT_START="msal:ssoSilentStart",n.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",n.SSO_SILENT_FAILURE="msal:ssoSilentFailure",n.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",n.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",n.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",n.HANDLE_REDIRECT_START="msal:handleRedirectStart",n.HANDLE_REDIRECT_END="msal:handleRedirectEnd",n.POPUP_OPENED="msal:popupOpened",n.LOGOUT_START="msal:logoutStart",n.LOGOUT_SUCCESS="msal:logoutSuccess",n.LOGOUT_FAILURE="msal:logoutFailure",n.LOGOUT_END="msal:logoutEnd",n.RESTORE_FROM_BFCACHE="msal:restoreFromBFCache",B;var n})(),uz=function(){function n(t,e){this.eventCallbacks=new Map,this.logger=t,this.browserCrypto=e,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return n.prototype.addEventCallback=function(t){if(typeof window<"u"){var e=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(e,t),this.logger.verbose("Event callback registered with id: "+e),e}return null},n.prototype.removeEventCallback=function(t){this.eventCallbacks.delete(t),this.logger.verbose("Event callback "+t+" removed.")},n.prototype.enableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},n.prototype.disableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},n.prototype.emitEvent=function(t,e,r,i){var o=this;if(typeof window<"u"){var s={eventType:t,interactionType:e||null,payload:r||null,error:i||null,timestamp:Date.now()};this.logger.info("Emitting event: "+t),this.eventCallbacks.forEach(function(a,c){o.logger.verbose("Emitting event to callback "+c+": "+t),a.apply(null,[s])})}},n.prototype.handleAccountCacheChange=function(t){try{var e=t.newValue||t.oldValue;if(!e)return;var r=JSON.parse(e);if("object"!=typeof r||!Ht.isAccountEntity(r))return;var o=En.toObject(new Ht,r).getAccountInfo();!t.oldValue&&t.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(B.ACCOUNT_ADDED,void 0,o)):!t.newValue&&t.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(B.ACCOUNT_REMOVED,void 0,o))}catch{return}},n}(),fd=function(){function n(){}return n.generateThrottlingStorageKey=function(t){return"throttling."+JSON.stringify(t)},n.preProcess=function(t,e){var r,i=n.generateThrottlingStorageKey(e),o=t.getThrottlingCache(i);if(o){if(o.throttleTime<Date.now())return void t.removeItem(i);throw new So((null===(r=o.errorCodes)||void 0===r?void 0:r.join(" "))||v.EMPTY_STRING,o.errorMessage,o.subError)}},n.postProcess=function(t,e,r){if(n.checkResponseStatus(r)||n.checkResponseForRetryAfter(r)){var i={throttleTime:n.calculateThrottleTime(parseInt(r.headers[wn.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache(n.generateThrottlingStorageKey(e),i)}},n.checkResponseStatus=function(t){return 429===t.status||t.status>=500&&t.status<600},n.checkResponseForRetryAfter=function(t){return!!t.headers&&t.headers.hasOwnProperty(wn.RETRY_AFTER)&&(t.status<200||t.status>=300)},n.calculateThrottleTime=function(t){var e=t<=0?0:t,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(e||60),r+3600))},n.removeThrottle=function(t,e,r,i){var s=this.generateThrottlingStorageKey({clientId:e,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid});t.removeItem(s)},n}(),dz=function(){function n(t,e){this.networkClient=t,this.cacheManager=e}return n.prototype.sendPostRequest=function(t,e,r){return te(this,void 0,void 0,function(){var i,o;return ne(this,function(s){switch(s.label){case 0:fd.preProcess(this.cacheManager,t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(e,r)];case 2:return i=s.sent(),[3,4];case 3:throw(o=s.sent())instanceof G?o:F.createNetworkError(e,o);case 4:return fd.postProcess(this.cacheManager,t,i),[2,i]}})})},n}(),Ao=function(){function n(){}return n.validateRedirectUri=function(t){if(L.isEmpty(t))throw We.createRedirectUriEmptyError()},n.validatePrompt=function(t){var e=[];for(var r in Bt)e.push(Bt[r]);if(e.indexOf(t)<0)throw We.createInvalidPromptError(t)},n.validateClaims=function(t){try{JSON.parse(t)}catch{throw We.createInvalidClaimsRequestError()}},n.validateCodeChallengeParams=function(t,e){if(L.isEmpty(t)||L.isEmpty(e))throw We.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(e)},n.validateCodeChallengeMethod=function(t){if([gD.PLAIN,gD.S256].indexOf(t)<0)throw We.createInvalidCodeChallengeMethodError()},n.sanitizeEQParams=function(t,e){return t?(e.forEach(function(r,i){t[i]&&delete t[i]}),Object.fromEntries(Object.entries(t).filter(function(r){return""!==r[1]}))):{}},n}(),Sc=function(){function n(){this.parameters=new Map}return n.prototype.addResponseTypeCode=function(){this.parameters.set(oe.RESPONSE_TYPE,encodeURIComponent(v.CODE_RESPONSE_TYPE))},n.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(oe.RESPONSE_TYPE,encodeURIComponent(v.TOKEN_RESPONSE_TYPE+" "+v.ID_TOKEN_RESPONSE_TYPE))},n.prototype.addResponseMode=function(t){this.parameters.set(oe.RESPONSE_MODE,encodeURIComponent(t||pc.QUERY))},n.prototype.addNativeBroker=function(){this.parameters.set(oe.NATIVE_BROKER,encodeURIComponent("1"))},n.prototype.addScopes=function(t,e){void 0===e&&(e=!0);var r=e?od(t||[],fc):t||[],i=new Xt(r);this.parameters.set(oe.SCOPE,encodeURIComponent(i.printScopes()))},n.prototype.addClientId=function(t){this.parameters.set(oe.CLIENT_ID,encodeURIComponent(t))},n.prototype.addRedirectUri=function(t){Ao.validateRedirectUri(t),this.parameters.set(oe.REDIRECT_URI,encodeURIComponent(t))},n.prototype.addPostLogoutRedirectUri=function(t){Ao.validateRedirectUri(t),this.parameters.set(oe.POST_LOGOUT_URI,encodeURIComponent(t))},n.prototype.addIdTokenHint=function(t){this.parameters.set(oe.ID_TOKEN_HINT,encodeURIComponent(t))},n.prototype.addDomainHint=function(t){this.parameters.set(Rs.DOMAIN_HINT,encodeURIComponent(t))},n.prototype.addLoginHint=function(t){this.parameters.set(Rs.LOGIN_HINT,encodeURIComponent(t))},n.prototype.addCcsUpn=function(t){this.parameters.set(wn.CCS_HEADER,encodeURIComponent("UPN:"+t))},n.prototype.addCcsOid=function(t){this.parameters.set(wn.CCS_HEADER,encodeURIComponent("Oid:"+t.uid+"@"+t.utid))},n.prototype.addSid=function(t){this.parameters.set(Rs.SID,encodeURIComponent(t))},n.prototype.addClaims=function(t,e){var r=this.addClientCapabilitiesToClaims(t,e);Ao.validateClaims(r),this.parameters.set(oe.CLAIMS,encodeURIComponent(r))},n.prototype.addCorrelationId=function(t){this.parameters.set(oe.CLIENT_REQUEST_ID,encodeURIComponent(t))},n.prototype.addLibraryInfo=function(t){this.parameters.set(oe.X_CLIENT_SKU,t.sku),this.parameters.set(oe.X_CLIENT_VER,t.version),t.os&&this.parameters.set(oe.X_CLIENT_OS,t.os),t.cpu&&this.parameters.set(oe.X_CLIENT_CPU,t.cpu)},n.prototype.addApplicationTelemetry=function(t){t?.appName&&this.parameters.set(oe.X_APP_NAME,t.appName),t?.appVersion&&this.parameters.set(oe.X_APP_VER,t.appVersion)},n.prototype.addPrompt=function(t){Ao.validatePrompt(t),this.parameters.set(""+oe.PROMPT,encodeURIComponent(t))},n.prototype.addState=function(t){L.isEmpty(t)||this.parameters.set(oe.STATE,encodeURIComponent(t))},n.prototype.addNonce=function(t){this.parameters.set(oe.NONCE,encodeURIComponent(t))},n.prototype.addCodeChallengeParams=function(t,e){if(Ao.validateCodeChallengeParams(t,e),!t||!e)throw We.createInvalidCodeChallengeParamsError();this.parameters.set(oe.CODE_CHALLENGE,encodeURIComponent(t)),this.parameters.set(oe.CODE_CHALLENGE_METHOD,encodeURIComponent(e))},n.prototype.addAuthorizationCode=function(t){this.parameters.set(oe.CODE,encodeURIComponent(t))},n.prototype.addDeviceCode=function(t){this.parameters.set(oe.DEVICE_CODE,encodeURIComponent(t))},n.prototype.addRefreshToken=function(t){this.parameters.set(oe.REFRESH_TOKEN,encodeURIComponent(t))},n.prototype.addCodeVerifier=function(t){this.parameters.set(oe.CODE_VERIFIER,encodeURIComponent(t))},n.prototype.addClientSecret=function(t){this.parameters.set(oe.CLIENT_SECRET,encodeURIComponent(t))},n.prototype.addClientAssertion=function(t){L.isEmpty(t)||this.parameters.set(oe.CLIENT_ASSERTION,encodeURIComponent(t))},n.prototype.addClientAssertionType=function(t){L.isEmpty(t)||this.parameters.set(oe.CLIENT_ASSERTION_TYPE,encodeURIComponent(t))},n.prototype.addOboAssertion=function(t){this.parameters.set(oe.OBO_ASSERTION,encodeURIComponent(t))},n.prototype.addRequestTokenUse=function(t){this.parameters.set(oe.REQUESTED_TOKEN_USE,encodeURIComponent(t))},n.prototype.addGrantType=function(t){this.parameters.set(oe.GRANT_TYPE,encodeURIComponent(t))},n.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},n.prototype.addExtraQueryParameters=function(t){var e=this,r=Ao.sanitizeEQParams(t,this.parameters);Object.keys(r).forEach(function(i){e.parameters.set(i,t[i])})},n.prototype.addClientCapabilitiesToClaims=function(t,e){var r;if(t)try{r=JSON.parse(t)}catch{throw We.createInvalidClaimsRequestError()}else r={};return e&&e.length>0&&(r.hasOwnProperty(bo.ACCESS_TOKEN)||(r[bo.ACCESS_TOKEN]={}),r[bo.ACCESS_TOKEN][bo.XMS_CC]={values:e}),JSON.stringify(r)},n.prototype.addUsername=function(t){this.parameters.set(_c.username,encodeURIComponent(t))},n.prototype.addPassword=function(t){this.parameters.set(_c.password,encodeURIComponent(t))},n.prototype.addPopToken=function(t){L.isEmpty(t)||(this.parameters.set(oe.TOKEN_TYPE,Ae.POP),this.parameters.set(oe.REQ_CNF,encodeURIComponent(t)))},n.prototype.addSshJwk=function(t){L.isEmpty(t)||(this.parameters.set(oe.TOKEN_TYPE,Ae.SSH),this.parameters.set(oe.REQ_CNF,encodeURIComponent(t)))},n.prototype.addServerTelemetry=function(t){this.parameters.set(oe.X_CLIENT_CURR_TELEM,t.generateCurrentRequestHeaderValue()),this.parameters.set(oe.X_CLIENT_LAST_TELEM,t.generateLastRequestHeaderValue())},n.prototype.addThrottling=function(){this.parameters.set(oe.X_MS_LIB_CAPABILITY,"retry-after, h429")},n.prototype.addLogoutHint=function(t){this.parameters.set(oe.LOGOUT_HINT,encodeURIComponent(t))},n.prototype.createQueryString=function(){var t=new Array;return this.parameters.forEach(function(e,r){t.push(r+"="+e)}),t.join("&")},n}(),Bg=function(){function n(t,e){this.config=function ez(n){var t=n.authOptions,e=n.systemOptions,r=n.loggerOptions,i=n.cacheOptions,o=n.storageInterface,s=n.networkInterface,a=n.cryptoInterface,c=n.clientCredentials,l=n.libraryInfo,u=n.telemetry,d=n.serverTelemetryManager,h=n.persistencePlugin,f=n.serializableCache,p=De(De({},Kj),r);return{authOptions:tz(t),systemOptions:De(De({},ND),e),loggerOptions:p,cacheOptions:De(De({},Wj),i),storageInterface:o||new Gj(t.clientId,ud,new kg(p)),networkInterface:s||Qj,cryptoInterface:a||ud,clientCredentials:c||Jj,libraryInfo:De(De({},Yj),l),telemetry:De(De({},Xj),u),serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:f||null}}(t),this.logger=new kg(this.config.loggerOptions,AD,Og),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new dz(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=e}return n.prototype.createTokenRequestHeaders=function(t){var e={};if(e[wn.CONTENT_TYPE]=v.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case Sn.HOME_ACCOUNT_ID:try{var r=xs(t.credential);e[wn.CCS_HEADER]="Oid:"+r.uid+"@"+r.utid}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case Sn.UPN:e[wn.CCS_HEADER]="UPN: "+t.credential}return e},n.prototype.executePostToTokenEndpoint=function(t,e,r,i){return te(this,void 0,void 0,function(){var o;return ne(this,function(s){switch(s.label){case 0:return[4,this.networkManager.sendPostRequest(i,t,{body:e,headers:r})];case 1:return o=s.sent(),this.config.serverTelemetryManager&&o.status<500&&429!==o.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,o]}})})},n.prototype.updateAuthority=function(t){if(!t.discoveryComplete())throw F.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=t},n.prototype.createTokenQueryParameters=function(t){var e=new Sc;return t.tokenQueryParameters&&e.addExtraQueryParameters(t.tokenQueryParameters),e.createQueryString()},n}(),Tc=function n(t,e,r,i,o){this.account=t||null,this.idToken=e||null,this.accessToken=r||null,this.refreshToken=i||null,this.appMetadata=o||null},pd=(()=>{return(n=pd||(pd={})).SW="sw",n.UHW="uhw",pd;var n})(),Us=function(){function n(t,e){this.cryptoUtils=t,this.performanceClient=e}return n.prototype.generateCnf=function(t){var e,r;return te(this,void 0,void 0,function(){var i,o,s;return ne(this,function(a){switch(a.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(b.PopTokenGenerateCnf,t.correlationId),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(b.PopTokenGenerateKid,t.correlationId),[4,this.generateKid(t)];case 1:return i=a.sent(),o=this.cryptoUtils.base64Encode(JSON.stringify(i)),s={kid:i.kid,reqCnfString:o},[4,this.cryptoUtils.hashString(o)];case 2:return[2,(s.reqCnfHash=a.sent(),s)]}})})},n.prototype.generateKid=function(t){var e;return te(this,void 0,void 0,function(){return ne(this,function(i){switch(i.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(b.PopTokenGenerateKid,t.correlationId),[4,this.cryptoUtils.getPublicKeyThumbprint(t)];case 1:return[2,{kid:i.sent(),xms_ksl:pd.SW}]}})})},n.prototype.signPopToken=function(t,e,r){return te(this,void 0,void 0,function(){return ne(this,function(i){return[2,this.signPayload(t,e,r)]})})},n.prototype.signPayload=function(t,e,r,i){return te(this,void 0,void 0,function(){var o,s,a,c,l,u;return ne(this,function(d){switch(d.label){case 0:return o=r.resourceRequestMethod,a=r.shrClaims,c=r.shrNonce,l=(s=r.resourceRequestUri)?new ge(s):void 0,u=l?.getUrlComponents(),[4,this.cryptoUtils.signJwt(De({at:t,ts:er.nowSeconds(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0},i),e,r.correlationId)];case 1:return[2,d.sent()]}})})},n}(),hz=function(){function n(t,e){this.cache=t,this.hasChanged=e}return Object.defineProperty(n.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),n}(),md=function(){function n(t,e,r,i,o,s,a){this.clientId=t,this.cacheStorage=e,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}return n.prototype.validateServerAuthorizationCodeResponse=function(t,e,r){if(!t.state||!e)throw F.createStateNotFoundError(t.state?"Cached State":"Server State");if(decodeURIComponent(t.state)!==decodeURIComponent(e))throw F.createStateMismatchError();if(t.error||t.error_description||t.suberror)throw gr.isInteractionRequiredError(t.error,t.error_description,t.suberror)?new gr(t.error||v.EMPTY_STRING,t.error_description,t.suberror,t.timestamp||v.EMPTY_STRING,t.trace_id||v.EMPTY_STRING,t.correlation_id||v.EMPTY_STRING,t.claims||v.EMPTY_STRING):new So(t.error||v.EMPTY_STRING,t.error_description,t.suberror);t.client_info&&dd(t.client_info,r)},n.prototype.validateTokenResponse=function(t){if(t.error||t.error_description||t.suberror){if(gr.isInteractionRequiredError(t.error,t.error_description,t.suberror))throw new gr(t.error,t.error_description,t.suberror,t.timestamp||v.EMPTY_STRING,t.trace_id||v.EMPTY_STRING,t.correlation_id||v.EMPTY_STRING,t.claims||v.EMPTY_STRING);throw new So(t.error,t.error_codes+" - ["+t.timestamp+"]: "+t.error_description+" - Correlation ID: "+t.correlation_id+" - Trace ID: "+t.trace_id,t.suberror)}},n.prototype.handleServerTokenResponse=function(t,e,r,i,o,s,a,c,l){var u;return te(this,void 0,void 0,function(){var d,h,f,p,m,g;return ne(this,function(w){switch(w.label){case 0:if(null===(u=this.performanceClient)||void 0===u||u.addQueueMeasurement(b.HandleServerTokenResponse,t.correlation_id),t.id_token){if(d=new Br(t.id_token||v.EMPTY_STRING,this.cryptoObj),o&&!L.isEmpty(o.nonce)&&d.claims.nonce!==o.nonce)throw F.createNonceMismatchError();if(i.maxAge||0===i.maxAge){if(!(h=d.claims.auth_time))throw F.createAuthTimeNotFoundError();Br.checkMaxAge(h,i.maxAge)}}this.homeAccountIdentifier=Ht.generateHomeAccountId(t.client_info||v.EMPTY_STRING,e.authorityType,this.logger,this.cryptoObj,d),!!o&&!!o.state&&(f=gi.parseRequestState(this.cryptoObj,o.state)),t.key_id=t.key_id||i.sshKid||void 0,p=this.generateCacheRecord(t,e,r,i,d,s,o),w.label=1;case 1:return w.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new hz(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(m)]):[3,3];case 2:w.sent(),w.label=3;case 3:return a&&!c&&p.account&&(g=p.account.generateAccountKey(),!this.cacheStorage.getAccount(g))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,n.generateAuthenticationResult(this.cryptoObj,e,p,!1,i,d,f,void 0,l)]):[4,this.cacheStorage.saveCacheRecord(p)];case 4:return w.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&m?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(m)]):[3,7];case 6:w.sent(),w.label=7;case 7:return[7];case 8:return[2,n.generateAuthenticationResult(this.cryptoObj,e,p,!1,i,d,f,t,l)]}})})},n.prototype.generateCacheRecord=function(t,e,r,i,o,s,a){var l,u,c=e.getPreferredCache();if(L.isEmpty(c))throw F.createInvalidCacheEnvironmentError();!L.isEmpty(t.id_token)&&o&&(l=Io.createIdTokenEntity(this.homeAccountIdentifier,c,t.id_token||v.EMPTY_STRING,this.clientId,o.claims.tid||v.EMPTY_STRING),u=this.generateAccountEntity(t,o,e,a));var d=null;if(!L.isEmpty(t.access_token)){var h=t.scope?Xt.fromString(t.scope):new Xt(i.scopes||[]),f=("string"==typeof t.expires_in?parseInt(t.expires_in,10):t.expires_in)||0,p=("string"==typeof t.ext_expires_in?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,m=("string"==typeof t.refresh_in?parseInt(t.refresh_in,10):t.refresh_in)||void 0,g=r+f,y=g+p,w=m&&m>0?r+m:void 0;d=Do.createAccessTokenEntity(this.homeAccountIdentifier,c,t.access_token||v.EMPTY_STRING,this.clientId,o?o.claims.tid||v.EMPTY_STRING:e.tenant,h.printScopes(),g,y,this.cryptoObj,w,t.token_type,s,t.key_id,i.claims,i.requestedClaimsHash)}var C=null;L.isEmpty(t.refresh_token)||(C=Ps.createRefreshTokenEntity(this.homeAccountIdentifier,c,t.refresh_token||v.EMPTY_STRING,this.clientId,t.foci,s));var k=null;return L.isEmpty(t.foci)||(k=xg.createAppMetadataEntity(this.clientId,c,t.foci)),new Tc(u,l,d,C,k)},n.prototype.generateAccountEntity=function(t,e,r,i){var s=i?i.cloud_graph_host_name:v.EMPTY_STRING,a=i?i.msgraph_host:v.EMPTY_STRING;if(r.authorityType===en.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),Ht.createGenericAccount(this.homeAccountIdentifier,e,r,s,a);if(L.isEmpty(t.client_info)&&"AAD"===r.protocolMode)throw F.createClientInfoEmptyError();return t.client_info?Ht.createAccount(t.client_info,this.homeAccountIdentifier,e,r,s,a):Ht.createGenericAccount(this.homeAccountIdentifier,e,r,s,a)},n.generateAuthenticationResult=function(t,e,r,i,o,s,a,c,l){var u,d,h;return te(this,void 0,void 0,function(){var f,p,m,g,y,w,C,k,K,ce,Be;return ne(this,function(Pe){switch(Pe.label){case 0:if(f=v.EMPTY_STRING,p=[],m=null,y=v.EMPTY_STRING,!r.accessToken)return[3,4];if(r.accessToken.tokenType!==Ae.POP)return[3,2];if(w=new Us(t),k=(C=r.accessToken).secret,!(K=C.keyId))throw F.createKeyIdMissingError();return[4,w.signPopToken(k,K,o)];case 1:return f=Pe.sent(),[3,3];case 2:f=r.accessToken.secret,Pe.label=3;case 3:p=Xt.fromString(r.accessToken.target).asArray(),m=new Date(1e3*Number(r.accessToken.expiresOn)),g=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),Pe.label=4;case 4:return r.appMetadata&&(y="1"===r.appMetadata.familyId?"1":v.EMPTY_STRING),ce=s?.claims.oid||s?.claims.sub||v.EMPTY_STRING,Be=s?.claims.tid||v.EMPTY_STRING,c?.spa_accountid&&!!r.account&&(r.account.nativeAccountId=c?.spa_accountid),[2,{authority:e.canonicalAuthority,uniqueId:ce,tenantId:Be,scopes:p,account:r.account?r.account.getAccountInfo():null,idToken:s?s.rawToken:v.EMPTY_STRING,idTokenClaims:s?s.claims:{},accessToken:f,fromCache:i,expiresOn:m,correlationId:o.correlationId,requestId:l||v.EMPTY_STRING,extExpiresOn:g,familyId:y,tokenType:(null===(u=r.accessToken)||void 0===u?void 0:u.tokenType)||v.EMPTY_STRING,state:a?a.userRequestState:v.EMPTY_STRING,cloudGraphHostName:(null===(d=r.account)||void 0===d?void 0:d.cloudGraphHostName)||v.EMPTY_STRING,msGraphHost:(null===(h=r.account)||void 0===h?void 0:h.msGraphHost)||v.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}]}})})},n}(),OD=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.includeRedirectUri=!0,i}return Cn(t,n),t.prototype.getAuthCodeUrl=function(e){var r,i;return te(this,void 0,void 0,function(){var o;return ne(this,function(s){switch(s.label){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(b.GetAuthCodeUrl,e.correlationId),null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(b.AuthClientCreateQueryString,e.correlationId),[4,this.createAuthCodeUrlQueryString(e)];case 1:return o=s.sent(),[2,ge.appendQueryString(this.authority.authorizationEndpoint,o)]}})})},t.prototype.acquireToken=function(e,r){var i,o,s,a,c,l;return te(this,void 0,void 0,function(){var u,d,h,f,p,m,g=this;return ne(this,function(y){switch(y.label){case 0:if(!e||!e.code)throw F.createTokenRequestCannotBeMadeError();return null===(i=this.performanceClient)||void 0===i||i.addQueueMeasurement(b.AuthClientAcquireToken,e.correlationId),u=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement("AuthCodeClientAcquireToken",e.correlationId),this.logger.info("in acquireToken call in auth-code client"),d=er.nowSeconds(),null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(b.AuthClientExecuteTokenRequest,e.correlationId),[4,this.executeTokenRequest(this.authority,e)];case 1:return h=y.sent(),f=null===(a=h.headers)||void 0===a?void 0:a[wn.X_MS_REQUEST_ID],(p=null===(c=h.headers)||void 0===c?void 0:c[wn.X_MS_HTTP_VERSION])&&u?.addStaticFields({httpVerAuthority:p}),(m=new md(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient)).validateTokenResponse(h.body),null===(l=this.performanceClient)||void 0===l||l.setPreQueueTime(b.HandleServerTokenResponse,e.correlationId),[2,m.handleServerTokenResponse(h.body,this.authority,d,e,r,void 0,void 0,void 0,f).then(function(w){return u?.endMeasurement({success:!0}),w}).catch(function(w){throw g.logger.verbose("Error in fetching token in ACC",e.correlationId),u?.endMeasurement({errorCode:w.errorCode,subErrorCode:w.subError,success:!1}),w})]}})})},t.prototype.handleFragmentResponse=function(e,r){var i=new md(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),o=new ge(e),s=ge.getDeserializedHash(o.getHash());if(i.validateServerAuthorizationCodeResponse(s,r,this.cryptoUtils),!s.code)throw F.createNoAuthCodeInServerResponseError();return De(De({},s),{code:s.code})},t.prototype.getLogoutUri=function(e){if(!e)throw We.createEmptyLogoutRequestError();var r=this.createLogoutUrlQueryString(e);return ge.appendQueryString(this.authority.endSessionEndpoint,r)},t.prototype.executeTokenRequest=function(e,r){var i,o;return te(this,void 0,void 0,function(){var s,a,c,l,u,d;return ne(this,function(f){switch(f.label){case 0:return null===(i=this.performanceClient)||void 0===i||i.addQueueMeasurement(b.AuthClientExecuteTokenRequest,r.correlationId),null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(b.AuthClientCreateTokenRequestBody,r.correlationId),s=this.createTokenQueryParameters(r),a=ge.appendQueryString(e.tokenEndpoint,s),[4,this.createTokenRequestBody(r)];case 1:if(c=f.sent(),l=void 0,r.clientInfo)try{u=dd(r.clientInfo,this.cryptoUtils),l={credential:""+u.uid+Ct.CLIENT_INFO_SEPARATOR+u.utid,type:Sn.HOME_ACCOUNT_ID}}catch(p){this.logger.verbose("Could not parse client info for CCS Header: "+p)}return d=this.createTokenRequestHeaders(l||r.ccsCredential),[2,this.executePostToTokenEndpoint(a,c,d,{clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid})]}})})},t.prototype.createTokenRequestBody=function(e){var r,i;return te(this,void 0,void 0,function(){var o,s,a,c,l,u,d,h;return ne(this,function(f){switch(f.label){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(b.AuthClientCreateTokenRequestBody,e.correlationId),(o=new Sc).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?o.addRedirectUri(e.redirectUri):Ao.validateRedirectUri(e.redirectUri),o.addScopes(e.scopes),o.addAuthorizationCode(e.code),o.addLibraryInfo(this.config.libraryInfo),o.addApplicationTelemetry(this.config.telemetry.application),o.addThrottling(),this.serverTelemetryManager&&o.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&o.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&o.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(o.addClientAssertion((s=this.config.clientCredentials.clientAssertion).assertion),o.addClientAssertionType(s.assertionType)),o.addGrantType(mc.AUTHORIZATION_CODE_GRANT),o.addClientInfo(),e.authenticationScheme!==Ae.POP?[3,2]:(a=new Us(this.cryptoUtils,this.performanceClient),null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(b.PopTokenGenerateCnf,e.correlationId),[4,a.generateCnf(e)]);case 1:return c=f.sent(),o.addPopToken(c.reqCnfString),[3,3];case 2:if(e.authenticationScheme===Ae.SSH){if(!e.sshJwk)throw We.createMissingSshJwkError();o.addSshJwk(e.sshJwk)}f.label=3;case 3:if(l=e.correlationId||this.config.cryptoInterface.createNewGuid(),o.addCorrelationId(l),(!L.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&o.addClaims(e.claims,this.config.authOptions.clientCapabilities),u=void 0,e.clientInfo)try{d=dd(e.clientInfo,this.cryptoUtils),u={credential:""+d.uid+Ct.CLIENT_INFO_SEPARATOR+d.utid,type:Sn.HOME_ACCOUNT_ID}}catch(p){this.logger.verbose("Could not parse client info for CCS Header: "+p)}else u=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&u)switch(u.type){case Sn.HOME_ACCOUNT_ID:try{d=xs(u.credential),o.addCcsOid(d)}catch(p){this.logger.verbose("Could not parse home account ID for CCS Header: "+p)}break;case Sn.UPN:o.addCcsUpn(u.credential)}return e.tokenBodyParameters&&o.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[oe.RETURN_SPA_CODE])&&o.addExtraQueryParameters(((h={})[oe.RETURN_SPA_CODE]="1",h)),[2,o.createQueryString()]}})})},t.prototype.createAuthCodeUrlQueryString=function(e){var r;return te(this,void 0,void 0,function(){var i,o,s,a,c,l,d;return ne(this,function(h){switch(h.label){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(b.AuthClientCreateQueryString,e.correlationId),(i=new Sc).addClientId(this.config.authOptions.clientId),o=od(e.scopes||[],e.extraScopesToConsent||[]),i.addScopes(o),i.addRedirectUri(e.redirectUri),s=e.correlationId||this.config.cryptoInterface.createNewGuid(),i.addCorrelationId(s),i.addResponseMode(e.responseMode),i.addResponseTypeCode(),i.addLibraryInfo(this.config.libraryInfo),i.addApplicationTelemetry(this.config.telemetry.application),i.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&i.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&i.addPrompt(e.prompt),e.domainHint&&i.addDomainHint(e.domainHint),e.prompt!==Bt.SELECT_ACCOUNT)if(e.sid&&e.prompt===Bt.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),i.addSid(e.sid);else if(e.account){if(a=this.extractAccountSid(e.account),c=this.extractLoginHint(e.account)){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),i.addLoginHint(c);try{l=xs(e.account.homeAccountId),i.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&e.prompt===Bt.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),i.addSid(a);try{l=xs(e.account.homeAccountId),i.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),i.addLoginHint(e.loginHint),i.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),i.addLoginHint(e.account.username);try{l=xs(e.account.homeAccountId),i.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),i.addLoginHint(e.loginHint),i.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&i.addNonce(e.nonce),e.state&&i.addState(e.state),(!L.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&i.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker?(i.addNativeBroker(),e.authenticationScheme!==Ae.POP?[3,2]:[4,new Us(this.cryptoUtils).generateCnf(e)]):[3,2];case 1:d=h.sent(),i.addPopToken(d.reqCnfString),h.label=2;case 2:return[2,i.createQueryString()]}})})},t.prototype.createLogoutUrlQueryString=function(e){var r=new Sc;return e.postLogoutRedirectUri&&r.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&r.addCorrelationId(e.correlationId),e.idTokenHint&&r.addIdTokenHint(e.idTokenHint),e.state&&r.addState(e.state),e.logoutHint&&r.addLogoutHint(e.logoutHint),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),r.createQueryString()},t.prototype.extractAccountSid=function(e){var r;return(null===(r=e.idTokenClaims)||void 0===r?void 0:r.sid)||null},t.prototype.extractLoginHint=function(e){var r;return(null===(r=e.idTokenClaims)||void 0===r?void 0:r.login_hint)||null},t}(Bg);function fz(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}var PD={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},FD={"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},gz=function(){function n(t,e,r){this.networkInterface=t,this.performanceClient=e,this.correlationId=r}return n.prototype.detectRegion=function(t,e){var r,i,o,s;return te(this,void 0,void 0,function(){var a,c,l,u,d;return ne(this,function(h){switch(h.label){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(b.RegionDiscoveryDetectRegion,this.correlationId),a=t)return[3,8];c=n.IMDS_OPTIONS,h.label=1;case 1:return h.trys.push([1,6,,7]),null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(b.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(v.IMDS_VERSION,c)];case 2:return(l=h.sent()).status===Eo.httpSuccess&&(a=l.body,e.region_source=fi.IMDS),l.status!==Eo.httpBadRequest?[3,5]:(null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(b.RegionDiscoveryGetCurrentVersion,this.correlationId),[4,this.getCurrentVersion(c)]);case 3:return(u=h.sent())?(null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(b.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(u,c)]):(e.region_source=fi.FAILED_AUTO_DETECTION,[2,null]);case 4:(d=h.sent()).status===Eo.httpSuccess&&(a=d.body,e.region_source=fi.IMDS),h.label=5;case 5:return[3,7];case 6:return h.sent(),e.region_source=fi.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:e.region_source=fi.ENVIRONMENT_VARIABLE,h.label=9;case 9:return a||(e.region_source=fi.FAILED_AUTO_DETECTION),[2,a||null]}})})},n.prototype.getRegionFromIMDS=function(t,e){var r;return te(this,void 0,void 0,function(){return ne(this,function(i){return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(b.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[2,this.networkInterface.sendGetRequestAsync(v.IMDS_ENDPOINT+"?api-version="+t+"&format=text",e,v.IMDS_TIMEOUT)]})})},n.prototype.getCurrentVersion=function(t){var e;return te(this,void 0,void 0,function(){var r;return ne(this,function(i){switch(i.label){case 0:null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(b.RegionDiscoveryGetCurrentVersion,this.correlationId),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(v.IMDS_ENDPOINT+"?format=json",t)];case 2:return(r=i.sent()).status===Eo.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?[2,r.body["newest-versions"][0]]:[2,null];case 3:return i.sent(),[2,null];case 4:return[2]}})})},n.IMDS_OPTIONS={headers:{Metadata:"true"}},n}(),Ic=function(){function n(t,e,r,i,o,s,a){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=e,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=s,this.correlationId=a,this.regionDiscovery=new gz(e,this.performanceClient,this.correlationId)}return n.prototype.getAuthorityType=function(t){if(t.HostNameAndPort.endsWith(v.CIAM_AUTH_URL))return en.Ciam;var e=t.PathSegments;if(e.length)switch(e[0].toLowerCase()){case v.ADFS:return en.Adfs;case v.DSTS:return en.Dsts}return en.Default},Object.defineProperty(n.prototype,"authorityType",{get:function(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(t){this._canonicalAuthority=new ge(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw F.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw F.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw F.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw F.createLogoutNotSupportedError();return this.replacePath(this.metadata.end_session_endpoint)}throw F.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw F.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"jwksUri",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw F.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),n.prototype.canReplaceTenant=function(t){return 1===t.PathSegments.length&&!n.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===en.Default&&this.protocolMode===Fs.AAD},n.prototype.replaceTenant=function(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)},n.prototype.replacePath=function(t){var e=this,r=t,o=new ge(this.metadata.canonical_authority).getUrlComponents(),s=o.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(c,l){var u=s[l];if(0===l&&e.canReplaceTenant(o)){var d=new ge(e.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];u!==d&&(e.logger.verbose("Replacing tenant domain name "+u+" with id "+d),u=d)}c!==u&&(r=r.replace("/"+u+"/","/"+c+"/"))}),this.replaceTenant(r)},Object.defineProperty(n.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===en.Adfs||this.authorityType===en.Dsts||this.protocolMode===Fs.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),n.prototype.discoveryComplete=function(){return!!this.metadata},n.prototype.resolveEndpointsAsync=function(){var t,e,r;return te(this,void 0,void 0,function(){var i,o,s,a;return ne(this,function(c){switch(c.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(b.AuthorityResolveEndpointsAsync,this.correlationId),(i=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(i=new Pg).updateCanonicalAuthority(this.canonicalAuthority),null===(e=this.performanceClient)||void 0===e||e.setPreQueueTime(b.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),[4,this.updateCloudDiscoveryMetadata(i)];case 1:return o=c.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,i.preferred_network),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(b.AuthorityUpdateEndpointMetadata,this.correlationId),[4,this.updateEndpointMetadata(i)];case 2:return s=c.sent(),o!==Hn.CACHE&&s!==Hn.CACHE&&(i.resetExpiresAt(),i.updateCanonicalAuthority(this.canonicalAuthority)),a=this.cacheManager.generateAuthorityMetadataCacheKey(i.preferred_cache),this.cacheManager.setAuthorityMetadata(a,i),this.metadata=i,[2]}})})},n.prototype.updateEndpointMetadata=function(t){var e,r,i,o,s,a;return te(this,void 0,void 0,function(){var c,l;return ne(this,function(u){switch(u.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(b.AuthorityUpdateEndpointMetadata,this.correlationId),(c=this.getEndpointMetadataFromConfig())?(t.updateEndpointMetadata(c,!1),[2,Hn.CONFIG]):this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!t.isExpired()?[2,Hn.CACHE]:(null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(b.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),[4,this.getEndpointMetadataFromNetwork()]);case 1:return(c=u.sent())?null!==(i=this.authorityOptions.azureRegionConfiguration)&&void 0!==i&&i.azureRegion?(null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(b.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(c)]):[3,3]:[3,4];case 2:c=u.sent(),u.label=3;case 3:return t.updateEndpointMetadata(c,!0),[2,Hn.NETWORK];case 4:return(l=this.getEndpointMetadataFromHardcodedValues())&&!this.authorityOptions.skipAuthorityMetadataCache?null!==(s=this.authorityOptions.azureRegionConfiguration)&&void 0!==s&&s.azureRegion?(null===(a=this.performanceClient)||void 0===a||a.setPreQueueTime(b.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(l)]):[3,6]:[3,7];case 5:l=u.sent(),u.label=6;case 6:return t.updateEndpointMetadata(l,!1),[2,Hn.HARDCODED_VALUES];case 7:throw F.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},n.prototype.isAuthoritySameType=function(t){return new ge(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},n.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw We.createInvalidAuthorityMetadataError()}return null},n.prototype.getEndpointMetadataFromNetwork=function(){var t;return te(this,void 0,void 0,function(){var e,r;return ne(this,function(i){switch(i.label){case 0:null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(b.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),e={},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,e)];case 2:return[2,fz((r=i.sent()).body)?r.body:null];case 3:return i.sent(),[2,null];case 4:return[2]}})})},n.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in PD?PD[this.canonicalAuthority]:null},n.prototype.updateMetadataWithRegionalInformation=function(t){var e,r,i,o;return te(this,void 0,void 0,function(){var s,a;return ne(this,function(c){switch(c.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(b.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),(s=null===(r=this.authorityOptions.azureRegionConfiguration)||void 0===r?void 0:r.azureRegion)?s!==v.AZURE_REGION_AUTO_DISCOVER_FLAG?(this.regionDiscoveryMetadata.region_outcome=ks.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=s,[2,n.replaceWithRegionalInformation(t,s)]):(null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(b.RegionDiscoveryDetectRegion,this.correlationId),[4,this.regionDiscovery.detectRegion(null===(o=this.authorityOptions.azureRegionConfiguration)||void 0===o?void 0:o.environmentRegion,this.regionDiscoveryMetadata)]):[3,2];case 1:if(a=c.sent())return this.regionDiscoveryMetadata.region_outcome=ks.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=a,[2,n.replaceWithRegionalInformation(t,a)];this.regionDiscoveryMetadata.region_outcome=ks.AUTO_DETECTION_REQUESTED_FAILED,c.label=2;case 2:return[2,t]}})})},n.prototype.updateCloudDiscoveryMetadata=function(t){var e,r;return te(this,void 0,void 0,function(){var i,o,s;return ne(this,function(a){switch(a.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(b.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),this.logger.verbose("Attempting to get cloud discovery metadata in the config"),this.logger.verbosePii("Known Authorities: "+(this.authorityOptions.knownAuthorities||v.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: "+(this.authorityOptions.authorityMetadata||v.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: "+(t.canonical_authority||v.NOT_APPLICABLE)),(i=this.getCloudDiscoveryMetadataFromConfig())?(this.logger.verbose("Found cloud discovery metadata in the config."),t.updateCloudDiscoveryMetadata(i,!1),[2,Hn.CONFIG]):(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the cache."),o=t.isExpired(),this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!o?(this.logger.verbose("Found metadata in the cache."),[2,Hn.CACHE]):(o&&this.logger.verbose("The metadata entity is expired."),this.logger.verbose("Did not find cloud discovery metadata in the cache... Attempting to get cloud discovery metadata from the network."),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(b.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),[4,this.getCloudDiscoveryMetadataFromNetwork()]));case 1:if(i=a.sent())return this.logger.verbose("cloud discovery metadata was successfully returned from getCloudDiscoveryMetadataFromNetwork()"),t.updateCloudDiscoveryMetadata(i,!0),[2,Hn.NETWORK];if(this.logger.verbose("Did not find cloud discovery metadata from the network... Attempting to get cloud discovery metadata from hardcoded values."),(s=this.getCloudDiscoveryMetadataFromHarcodedValues())&&!this.options.skipAuthorityMetadataCache)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),t.updateCloudDiscoveryMetadata(s,!1),[2,Hn.HARDCODED_VALUES];throw this.logger.error("Did not find cloud discovery metadata from hardcoded values... Metadata could not be obtained from config, cache, network or hardcoded values. Throwing Untrusted Authority Error."),We.createUntrustedAuthorityError()}})})},n.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityType===en.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),e=n.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),We.createInvalidCloudDiscoveryMetadataError()}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null},n.prototype.getCloudDiscoveryMetadataFromNetwork=function(){var t;return te(this,void 0,void 0,function(){var e,r,i,o,s,a,c,l;return ne(this,function(u){switch(u.label){case 0:null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(b.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),e=""+v.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",r={},i=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(e,r)];case 2:if(o=u.sent(),s=void 0,a=void 0,function pz(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}(o.body))a=(s=o.body).metadata,this.logger.verbosePii("tenant_discovery_endpoint is: "+s.tenant_discovery_endpoint);else{if(!function mz(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}(o.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),[2,null];if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: "+o.status),(s=o.body).error===v.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),[2,null];this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is "+s.error),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is "+s.error_description),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}return this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),i=n.getCloudDiscoveryMetadataFromNetworkResponse(a,this.hostnameAndPort),[3,4];case 3:return(c=u.sent())instanceof G?this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: "+c.errorCode+"\nError Description: "+c.errorMessage):this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: "+(l=c).name+"\nError Description: "+l.message),[2,null];case 4:return i||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),i=n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,i]}})})},n.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in FD?FD[this.canonicalAuthority]:null},n.prototype.isInKnownAuthorities=function(){var t=this;return this.authorityOptions.knownAuthorities.filter(function(r){return ge.getDomainFromUrl(r).toLowerCase()===t.hostnameAndPort}).length>0},n.generateAuthority=function(t,e){var r;return e&&e.azureCloudInstance!==Ls.None&&(r=e.azureCloudInstance+"/"+(e.tenant?e.tenant:v.DEFAULT_COMMON_TENANT)+"/"),r||t},n.createCloudDiscoveryMetadataFromHost=function(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}},n.getCloudDiscoveryMetadataFromNetworkResponse=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];if(i.aliases.indexOf(e)>-1)return i}return null},n.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw F.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},n.prototype.isAlias=function(t){return this.metadata.aliases.indexOf(t)>-1},n.isPublicCloudAuthority=function(t){return v.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0},n.buildRegionalAuthorityString=function(t,e,r){var i=new ge(t);i.validateAsUri();var o=i.getUrlComponents(),s=e+"."+o.HostNameAndPort;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=e+"."+v.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var a=ge.constructAuthorityUriFromObject(De(De({},i.getUrlComponents()),{HostNameAndPort:s})).urlString;return r?a+"?"+r:a},n.replaceWithRegionalInformation=function(t,e){return t.authorization_endpoint=n.buildRegionalAuthorityString(t.authorization_endpoint,e),t.token_endpoint=n.buildRegionalAuthorityString(t.token_endpoint,e,v.REGIONAL_AUTH_NON_MSI_QUERY_STRING),t.end_session_endpoint&&(t.end_session_endpoint=n.buildRegionalAuthorityString(t.end_session_endpoint,e)),t},n.transformCIAMAuthority=function(t){var e=t.endsWith(v.FORWARD_SLASH)?t:""+t+v.FORWARD_SLASH,i=new ge(t).getUrlComponents();return 0===i.PathSegments.length&&i.HostNameAndPort.endsWith(v.CIAM_AUTH_URL)&&(e=""+e+i.HostNameAndPort.split(".")[0]+v.AAD_TENANT_DOMAIN_SUFFIX),e},n.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Gi.COMMON,Gi.CONSUMERS,Gi.ORGANIZATIONS]),n}(),gd=function(){function n(){}return n.createDiscoveredInstance=function(t,e,r,i,o,s,a){return te(this,void 0,void 0,function(){var c,l,u;return ne(this,function(d){switch(d.label){case 0:s?.addQueueMeasurement(b.AuthorityFactoryCreateDiscoveredInstance,a),c=Ic.transformCIAMAuthority(t),l=n.createInstance(c,e,r,i,o,s,a),d.label=1;case 1:return d.trys.push([1,3,,4]),s?.setPreQueueTime(b.AuthorityResolveEndpointsAsync,a),[4,l.resolveEndpointsAsync()];case 2:return d.sent(),[2,l];case 3:throw u=d.sent(),F.createEndpointDiscoveryIncompleteError(u);case 4:return[2]}})})},n.createInstance=function(t,e,r,i,o,s,a){if(L.isEmpty(t))throw We.createUrlEmptyError();return new Ic(t,e,r,i,o,s,a)},n}(),vz=function(){function n(t,e){this.cacheOutcome=pi.NO_CACHE_HIT,this.cacheManager=e,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||v.EMPTY_STRING,this.wrapperVer=t.wrapperVer||v.EMPTY_STRING,this.telemetryCacheKey=Vt.CACHE_KEY+Ct.CACHE_KEY_SEPARATOR+t.clientId}return n.prototype.generateCurrentRequestHeaderValue=function(){var t=""+this.apiId+Vt.VALUE_SEPARATOR+this.cacheOutcome,e=[this.wrapperSKU,this.wrapperVer].join(Vt.VALUE_SEPARATOR),i=[t,this.getRegionDiscoveryFields()].join(Vt.VALUE_SEPARATOR);return[Vt.SCHEMA_VERSION,i,e].join(Vt.CATEGORY_SEPARATOR)},n.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),e=n.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*e).join(Vt.VALUE_SEPARATOR),i=t.errors.slice(0,e).join(Vt.VALUE_SEPARATOR),o=t.errors.length,a=[o,e<o?Vt.OVERFLOW_TRUE:Vt.OVERFLOW_FALSE].join(Vt.VALUE_SEPARATOR);return[Vt.SCHEMA_VERSION,t.cacheHits,r,i,a].join(Vt.CATEGORY_SEPARATOR)},n.prototype.cacheFailedRequest=function(t){var e=this.getLastRequests();e.errors.length>=Vt.MAX_CACHED_ERRORS&&(e.failedRequests.shift(),e.failedRequests.shift(),e.errors.shift()),e.failedRequests.push(this.apiId,this.correlationId),L.isEmpty(t.subError)?L.isEmpty(t.errorCode)?t&&t.toString()?e.errors.push(t.toString()):e.errors.push(Vt.UNKNOWN_ERROR):e.errors.push(t.errorCode):e.errors.push(t.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)},n.prototype.incrementCacheHits=function(){var t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t),t.cacheHits},n.prototype.getLastRequests=function(){var t=new hd;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||t},n.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),e=n.maxErrorsToSend(t);if(e===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var i=new hd;i.failedRequests=t.failedRequests.slice(2*e),i.errors=t.errors.slice(e),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}},n.maxErrorsToSend=function(t){var e,r=0,i=0,o=t.errors.length;for(e=0;e<o;e++){var a=t.failedRequests[2*e+1]||v.EMPTY_STRING,c=t.errors[e]||v.EMPTY_STRING;if(!((i+=(t.failedRequests[2*e]||v.EMPTY_STRING).toString().length+a.toString().length+c.length+3)<Vt.MAX_LAST_HEADER_BYTES))break;r+=1}return r},n.prototype.getRegionDiscoveryFields=function(){var t=[];return t.push(this.regionUsed||v.EMPTY_STRING),t.push(this.regionSource||v.EMPTY_STRING),t.push(this.regionOutcome||v.EMPTY_STRING),t.join(",")},n.prototype.updateRegionDiscoveryMetadata=function(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome},n.prototype.setCacheOutcome=function(t){this.cacheOutcome=t},n}(),LD=function(){function n(t,e,r,i,o,s,a,c,l){this.config=t,this.browserStorage=e,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=c,this.correlationId=l||this.browserCrypto.createNewGuid(),this.logger=i.clone("msal.js.browser",Ec,this.correlationId),this.performanceClient=a}return n.prototype.clearCacheOnLogout=function(t){return I(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:if(!t)return[3,5];Ht.accountInfoIsEqual(t,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(Ht.generateAccountCacheKey(t))];case 2:return e.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return e.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return e.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return e.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return e.sent(),[3,9];case 8:return e.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}})})},n.prototype.initializeBaseRequest=function(t,e){return I(this,void 0,void 0,function(){var r,i,o,s;return D(this,function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(b.InitializeBaseRequest,t.correlationId),this.logger.verbose("Initializing BaseAuthRequest"),r=t.authority||this.config.auth.authority,e?[4,this.validateRequestAuthority(r,e)]:[3,2];case 1:a.sent(),a.label=2;case 2:if(i=Ig(t&&t.scopes||[]),(o=z(z({},t),{correlationId:this.correlationId,authority:r,scopes:i})).authenticationScheme){if(o.authenticationScheme===Ae.SSH){if(!t.sshJwk)throw We.createMissingSshJwkError();if(!t.sshKid)throw We.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+o.authenticationScheme+'" as configured in Auth request')}else o.authenticationScheme=Ae.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return this.config.cache.claimsBasedCachingEnabled&&t.claims&&!L.isEmptyObj(t.claims)?(s=o,[4,this.browserCrypto.hashString(t.claims)]):[3,4];case 3:s.requestedClaimsHash=a.sent(),a.label=4;case 4:return[2,o]}})})},n.prototype.getRedirectUri=function(t){this.logger.verbose("getRedirectUri called");var e=t||this.config.auth.redirectUri||Ze.getCurrentUri();return ge.getAbsoluteUrl(e,Ze.getCurrentUri())},n.prototype.validateRequestAuthority=function(t,e){return I(this,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return[4,this.getDiscoveredAuthority(t)];case 1:if(!i.sent().isAlias(e.environment))throw We.createAuthorityMismatchError();return[2]}})})},n.prototype.initializeServerTelemetryManager=function(t,e){this.logger.verbose("initializeServerTelemetryManager called");var r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:e||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new vz(r,this.browserStorage)},n.prototype.getDiscoveredAuthority=function(t){return I(this,void 0,void 0,function(){var e;return D(this,function(r){switch(r.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),e={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},t?(this.logger.verbose("Creating discovered authority with request authority"),[4,gd.createDiscoveredInstance(t,this.config.system.networkClient,this.browserStorage,e,this.logger)]):[3,2];case 1:case 3:return[2,r.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,gd.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,e,this.logger)]}})})},n}(),Bs=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ut(t,n),t.prototype.initializeAuthorizationCodeRequest=function(e){return I(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return this.performanceClient.addQueueMeasurement(b.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return r=o.sent(),i=z(z({},e),{redirectUri:e.redirectUri,code:v.EMPTY_STRING,codeVerifier:r.verifier}),e.codeChallenge=r.challenge,e.codeChallengeMethod=v.S256_CODE_CHALLENGE_METHOD,[2,i]}})})},t.prototype.initializeLogoutRequest=function(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);var r=z({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){var i=this.getLogoutHintFromIdTokenClaims(e.account);i&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),r.logoutHint=i)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",r.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",r.correlationId),r.postLogoutRedirectUri=ge.getAbsoluteUrl(e.postLogoutRedirectUri,Ze.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",r.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",r.correlationId),r.postLogoutRedirectUri=ge.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Ze.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",r.correlationId),r.postLogoutRedirectUri=ge.getAbsoluteUrl(Ze.getCurrentUri(),Ze.getCurrentUri())),r},t.prototype.getLogoutHintFromIdTokenClaims=function(e){var r=e.idTokenClaims;if(r){if(r.login_hint)return r.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(e,r,i){return I(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return this.performanceClient.addQueueMeasurement(b.StandardInteractionClientCreateAuthCodeClient,this.correlationId),this.performanceClient.setPreQueueTime(b.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,r,i)];case 1:return o=s.sent(),[2,new OD(o,this.performanceClient)]}})})},t.prototype.getClientConfiguration=function(e,r,i){return I(this,void 0,void 0,function(){var o,s;return D(this,function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(b.StandardInteractionClientGetClientConfiguration,this.correlationId),this.logger.verbose("getClientConfiguration called",this.correlationId),this.performanceClient.setPreQueueTime(b.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),[4,this.getDiscoveredAuthority(r,i)];case 1:return o=a.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:(s=this.config.system.loggerOptions).loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:"msal.js.browser",version:Ec,cpu:v.EMPTY_STRING,os:v.EMPTY_STRING},telemetry:this.config.telemetry}]}})})},t.prototype.validateAndExtractStateFromHash=function(e,r,i){if(this.logger.verbose("validateAndExtractStateFromHash called",i),!e.state)throw O.createHashDoesNotContainStateError();var o=kD.extractBrowserRequestState(this.browserCrypto,e.state);if(!o)throw O.createUnableToParseStateError();if(o.interactionType!==r)throw O.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",i),e.state},t.prototype.getDiscoveredAuthority=function(e,r){var i;return I(this,void 0,void 0,function(){var o,s,c;return D(this,function(l){switch(l.label){case 0:return this.performanceClient.addQueueMeasurement(b.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),this.logger.verbose("getDiscoveredAuthority called",this.correlationId),o=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(b.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},c=Ic.generateAuthority(e||this.config.auth.authority,r||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),this.performanceClient.setPreQueueTime(b.AuthorityFactoryCreateDiscoveredInstance,this.correlationId),[4,gd.createDiscoveredInstance(c,this.config.system.networkClient,this.browserStorage,s,this.logger,this.performanceClient,this.correlationId).then(function(u){return o.endMeasurement({success:!0}),u}).catch(function(u){throw o.endMeasurement({errorCode:u.errorCode,subErrorCode:u.subError,success:!1}),u})];case 1:return[2,l.sent()]}})})},t.prototype.initializeAuthorizationRequest=function(e,r){return I(this,void 0,void 0,function(){var i,s,a,c,l,u;return D(this,function(d){switch(d.label){case 0:return this.performanceClient.addQueueMeasurement(b.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId),this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),i=this.getRedirectUri(e.redirectUri),s=gi.setRequestState(this.browserCrypto,e&&e.state||v.EMPTY_STRING,{interactionType:r}),this.performanceClient.setPreQueueTime(b.InitializeBaseRequest,this.correlationId),c=[{}],[4,this.initializeBaseRequest(e)];case 1:return a=z.apply(void 0,[z.apply(void 0,c.concat([d.sent()])),{redirectUri:i,state:s,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:pc.FRAGMENT}]),(l=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+l.homeAccountId,this.correlationId),a.account=l),L.isEmpty(a.loginHint)&&!l&&(u=this.browserStorage.getLegacyLoginHint())&&(a.loginHint=u),[2,a]}})})},t}(LD),vi=(()=>{return(n=vi||(vi={})).USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",n.USER_CANCEL="USER_CANCEL",n.NO_NETWORK="NO_NETWORK",n.TRANSIENT_ERROR="TRANSIENT_ERROR",n.PERSISTENT_ERROR="PERSISTENT_ERROR",n.DISABLED="DISABLED",n.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE",vi;var n})(),Dc_extensionError_code="ContentError",Dc_userSwitch_code="user_switch",Dc_userSwitch_desc="User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again.",Dc_tokensNotFoundInCache_code="tokens_not_found_in_internal_memory_cache",Dc_tokensNotFoundInCache_desc="Tokens not cached in MSAL JS internal memory, please make the WAM request",Vr=function(n){function t(e,r,i){var o=n.call(this,e,r)||this;return Object.setPrototypeOf(o,t.prototype),o.name="NativeAuthError",o.ext=i,o}return Ut(t,n),t.prototype.isFatal=function(){return!(!this.ext||!this.ext.status||this.ext.status!==vi.PERSISTENT_ERROR&&this.ext.status!==vi.DISABLED)||this.errorCode===Dc_extensionError_code},t.createError=function(e,r,i){if(i&&i.status)switch(i.status){case vi.ACCOUNT_UNAVAILABLE:return gr.createNativeAccountUnavailableError();case vi.USER_INTERACTION_REQUIRED:return new gr(e,r);case vi.USER_CANCEL:return O.createUserCancelledError();case vi.NO_NETWORK:return O.createNoNetworkConnectivityError()}return new t(e,r,i)},t.createUserSwitchError=function(){return new t(Dc_userSwitch_code,Dc_userSwitch_desc)},t.createTokensNotFoundInCacheError=function(){return new t(Dc_tokensNotFoundInCache_code,Dc_tokensNotFoundInCache_desc)},t}(G),UD=function(n){function t(e,r){return n.call(this,e,r)||this}return Cn(t,n),t.prototype.acquireToken=function(e){var r,i,o,s,a,c,l;return te(this,void 0,void 0,function(){var u,d,h,f,p,m,g=this;return ne(this,function(y){switch(y.label){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(b.RefreshTokenClientAcquireToken,e.correlationId),u=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(b.RefreshTokenClientAcquireToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireToken called",e.correlationId),d=er.nowSeconds(),null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(b.RefreshTokenClientExecuteTokenRequest,e.correlationId),[4,this.executeTokenRequest(e,this.authority)];case 1:return h=y.sent(),f=null===(s=h.headers)||void 0===s?void 0:s[wn.X_MS_HTTP_VERSION],u?.addStaticFields({refreshTokenSize:(null===(a=h.body.refresh_token)||void 0===a?void 0:a.length)||0}),f&&u?.addStaticFields({httpVerToken:f}),p=null===(c=h.headers)||void 0===c?void 0:c[wn.X_MS_REQUEST_ID],(m=new md(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(h.body),null===(l=this.performanceClient)||void 0===l||l.setPreQueueTime(b.HandleServerTokenResponse,e.correlationId),[2,m.handleServerTokenResponse(h.body,this.authority,d,e,void 0,void 0,!0,e.forceCache,p).then(function(w){return u?.endMeasurement({success:!0}),w}).catch(function(w){throw g.logger.verbose("Error in fetching refresh token",e.correlationId),u?.endMeasurement({errorCode:w.errorCode,subErrorCode:w.subError,success:!1}),w})]}})})},t.prototype.acquireTokenByRefreshToken=function(e){var r,i,o,s;return te(this,void 0,void 0,function(){var l;return ne(this,function(u){if(!e)throw We.createEmptyTokenRequestError();if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(b.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw F.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(b.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(d){if(l=d instanceof So&&"invalid_grant"===d.errorCode&&"client_mismatch"===d.subError,d instanceof gr&&d.errorCode===Ns_noTokensFoundError_code||l)return null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(b.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw d}return null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(b.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!1)]})})},t.prototype.acquireTokenWithCachedRefreshToken=function(e,r){var i,o,s;return te(this,void 0,void 0,function(){var a,c,l;return ne(this,function(u){if(null===(i=this.performanceClient)||void 0===i||i.addQueueMeasurement(b.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),a=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(b.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireTokenWithCachedRefreshToken called",e.correlationId),!(c=this.cacheManager.getRefreshToken(e.account,r)))throw a?.discardMeasurement(),gr.createNoTokensFoundError();return a?.endMeasurement({success:!0}),l=De(De({},e),{refreshToken:c.secret,authenticationScheme:e.authenticationScheme||Ae.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Sn.HOME_ACCOUNT_ID}}),null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(b.RefreshTokenClientAcquireToken,e.correlationId),[2,this.acquireToken(l)]})})},t.prototype.executeTokenRequest=function(e,r){var i,o,s;return te(this,void 0,void 0,function(){var a,c,l,u,d;return ne(this,function(f){switch(f.label){case 0:return null===(i=this.performanceClient)||void 0===i||i.addQueueMeasurement(b.RefreshTokenClientExecuteTokenRequest,e.correlationId),a=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(b.RefreshTokenClientExecuteTokenRequest,e.correlationId),null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(b.RefreshTokenClientCreateTokenRequestBody,e.correlationId),c=this.createTokenQueryParameters(e),l=ge.appendQueryString(r.tokenEndpoint,c),[4,this.createTokenRequestBody(e)];case 1:return u=f.sent(),d=this.createTokenRequestHeaders(e.ccsCredential),[2,this.executePostToTokenEndpoint(l,u,d,{clientId:this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid}).then(function(p){return a?.endMeasurement({success:!0}),p}).catch(function(p){throw a?.endMeasurement({success:!1}),p})]}})})},t.prototype.createTokenRequestBody=function(e){var r,i,o;return te(this,void 0,void 0,function(){var s,a,c,l,u,d,h;return ne(this,function(f){switch(f.label){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(b.RefreshTokenClientCreateTokenRequestBody,e.correlationId),s=e.correlationId,a=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(b.BaseClientCreateTokenRequestHeaders,s),(c=new Sc).addClientId(this.config.authOptions.clientId),c.addScopes(e.scopes),c.addGrantType(mc.REFRESH_TOKEN_GRANT),c.addClientInfo(),c.addLibraryInfo(this.config.libraryInfo),c.addApplicationTelemetry(this.config.telemetry.application),c.addThrottling(),this.serverTelemetryManager&&c.addServerTelemetry(this.serverTelemetryManager),c.addCorrelationId(s),c.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&c.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(c.addClientAssertion((l=this.config.clientCredentials.clientAssertion).assertion),c.addClientAssertionType(l.assertionType)),e.authenticationScheme!==Ae.POP?[3,2]:(u=new Us(this.cryptoUtils,this.performanceClient),null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(b.PopTokenGenerateCnf,e.correlationId),[4,u.generateCnf(e)]);case 1:return d=f.sent(),c.addPopToken(d.reqCnfString),[3,3];case 2:if(e.authenticationScheme===Ae.SSH){if(!e.sshJwk)throw a?.endMeasurement({success:!1}),We.createMissingSshJwkError();c.addSshJwk(e.sshJwk)}f.label=3;case 3:if((!L.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&c.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Sn.HOME_ACCOUNT_ID:try{h=xs(e.ccsCredential.credential),c.addCcsOid(h)}catch(p){this.logger.verbose("Could not parse home account ID for CCS Header: "+p)}break;case Sn.UPN:c.addCcsUpn(e.ccsCredential.credential)}return a?.endMeasurement({success:!0}),[2,c.createQueryString()]}})})},t}(Bg),yz=function(n){function t(e,r){return n.call(this,e,r)||this}return Cn(t,n),t.prototype.acquireToken=function(e){return te(this,void 0,void 0,function(){var r;return ne(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,o.sent()];case 2:if((r=o.sent())instanceof F&&r.errorCode===M_tokenRefreshRequired_code)return[2,new UD(this.config,this.performanceClient).acquireTokenByRefreshToken(e)];throw r;case 3:return[2]}})})},t.prototype.acquireCachedToken=function(e){var r,i,o,s,a;return te(this,void 0,void 0,function(){var c,l;return ne(this,function(u){switch(u.label){case 0:if(!e)throw We.createEmptyTokenRequestError();if(e.forceRefresh)throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(pi.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),F.createRefreshRequiredError();if(!this.config.cacheOptions.claimsBasedCachingEnabled&&!L.isEmptyObj(e.claims))throw null===(i=this.serverTelemetryManager)||void 0===i||i.setCacheOutcome(pi.CLAIMS_REQUESTED_CACHE_SKIPPED),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because claims-based caching is disabled and claims were requested."),F.createRefreshRequiredError();if(!e.account)throw F.createNoAccountInSilentRequestError();if(c=e.authority||this.authority.getPreferredCache(),!(l=this.cacheManager.readCacheRecord(e.account,e,c)).accessToken)throw null===(o=this.serverTelemetryManager)||void 0===o||o.setCacheOutcome(pi.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),F.createRefreshRequiredError();if(er.wasClockTurnedBack(l.accessToken.cachedAt)||er.isTokenExpired(l.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(s=this.serverTelemetryManager)||void 0===s||s.setCacheOutcome(pi.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),F.createRefreshRequiredError();if(l.accessToken.refreshOn&&er.isTokenExpired(l.accessToken.refreshOn,0))throw null===(a=this.serverTelemetryManager)||void 0===a||a.setCacheOutcome(pi.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),F.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(l,e)];case 1:return[2,u.sent()]}})})},t.prototype.generateResultFromCacheRecord=function(e,r){return te(this,void 0,void 0,function(){var i,o;return ne(this,function(s){switch(s.label){case 0:if(e.idToken&&(i=new Br(e.idToken.secret,this.config.cryptoInterface)),r.maxAge||0===r.maxAge){if(o=i?.claims.auth_time,!o)throw F.createAuthTimeNotFoundError();Br.checkMaxAge(o,r.maxAge)}return[4,md.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,i)];case 1:return[2,s.sent()]}})})},t}(Bg),BD=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ut(t,n),t.prototype.acquireToken=function(e){return I(this,void 0,void 0,function(){var r,i,o,s,a;return D(this,function(c){switch(c.label){case 0:return r=this.performanceClient.startMeasurement(b.SilentCacheClientAcquireToken,e.correlationId),i=this.initializeServerTelemetryManager(je.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(i,e.authority,e.azureCloudOptions)];case 1:o=c.sent(),this.logger.verbose("Silent auth client created"),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.acquireCachedToken(e)];case 3:return s=c.sent(),r.endMeasurement({success:!0,fromCache:!0}),[2,s];case 4:throw(a=c.sent())instanceof O&&a.errorCode===A_signingKeyNotFoundInStorage_code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),r.endMeasurement({errorCode:a instanceof G&&a.errorCode||void 0,subErrorCode:a instanceof G&&a.subError||void 0,success:!1}),a;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,r,i){return I(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return this.performanceClient.setPreQueueTime(b.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,r,i)];case 1:return o=s.sent(),[2,new yz(o,this.performanceClient)]}})})},t.prototype.initializeSilentRequest=function(e,r){return I(this,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return this.performanceClient.addQueueMeasurement(b.InitializeSilentRequest,this.correlationId),this.performanceClient.setPreQueueTime(b.InitializeBaseRequest,this.correlationId),i=[z({},e)],[4,this.initializeBaseRequest(e,r)];case 1:return[2,z.apply(void 0,[z.apply(void 0,i.concat([o.sent()])),{account:r,forceRefresh:e.forceRefresh||!1}])]}})})},t}(Bs),Vs=function(n){function t(e,r,i,o,s,a,c,l,u,d,h,f){var p=n.call(this,e,r,i,o,s,a,l,u,f)||this;return p.apiId=c,p.accountId=d,p.nativeMessageHandler=u,p.nativeStorageManager=h,p.silentCacheClient=new BD(e,p.nativeStorageManager,i,o,s,a,l,u,f),p}return Ut(t,n),t.prototype.acquireToken=function(e){return I(this,void 0,void 0,function(){var r,i,o,s,c,l;return D(this,function(u){switch(u.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),r=this.performanceClient.startMeasurement(b.NativeInteractionClientAcquireToken,e.correlationId),i=er.nowSeconds(),[4,this.initializeNativeRequest(e)];case 1:o=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,o)];case 3:return s=u.sent(),r.endMeasurement({success:!0,isNativeBroker:!1,fromCache:!0}),[2,s];case 4:return u.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return[4,this.nativeMessageHandler.sendMessage({method:Ur.GetToken,request:o})];case 6:return c=u.sent(),l=this.validateNativeResponse(c),[2,this.handleNativeResponse(l,o,i).then(function(d){return r.endMeasurement({success:!0,isNativeBroker:!0,requestId:d.requestId}),d}).catch(function(d){throw r.endMeasurement({success:!1,errorCode:d.errorCode,subErrorCode:d.subError,isNativeBroker:!0}),d})]}})})},t.prototype.createSilentCacheRequest=function(e,r){return{authority:e.authority,correlationId:this.correlationId,scopes:Xt.fromString(e.scope).asArray(),account:r,forceRefresh:!1}},t.prototype.acquireTokensFromCache=function(e,r){return I(this,void 0,void 0,function(){var i,o;return D(this,function(c){switch(c.label){case 0:if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),F.createNoAccountFoundError();if(!(i=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:e})))throw F.createNoAccountFoundError();c.label=1;case 1:return c.trys.push([1,3,,4]),o=this.createSilentCacheRequest(r,i),[4,this.silentCacheClient.acquireToken(o)];case 2:return[2,c.sent()];case 3:throw c.sent();case 4:return[2]}})})},t.prototype.acquireTokenRedirect=function(e){return I(this,void 0,void 0,function(){var r,i,o,s,a,c;return D(this,function(l){switch(l.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(e)];case 1:r=l.sent(),i={method:Ur.GetToken,request:r},l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(i)];case 3:return o=l.sent(),this.validateNativeResponse(o),[3,5];case 4:if((s=l.sent())instanceof Vr&&s.isFatal())throw s;return[3,5];case 5:return this.browserStorage.setTemporaryCache(_e.NATIVE_REQUEST,JSON.stringify(r),!0),a={apiId:je.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},c=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri),[4,this.navigationClient.navigateExternal(c,a)];case 6:return l.sent(),[2]}})})},t.prototype.handleRedirectPromise=function(){return I(this,void 0,void 0,function(){var e,r,i,o,s,a,c,l;return D(this,function(u){switch(u.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(e=this.browserStorage.getCachedNativeRequest()))return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];r=e.prompt,i=pD(e,["prompt"]),r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(_e.NATIVE_REQUEST)),o={method:Ur.GetToken,request:i},s=er.nowSeconds(),u.label=1;case 1:return u.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(o)];case 2:return a=u.sent(),this.validateNativeResponse(a),c=this.handleNativeResponse(a,i,s),this.browserStorage.setInteractionInProgress(!1),[2,c];case 3:throw l=u.sent(),this.browserStorage.setInteractionInProgress(!1),l;case 4:return[2]}})})},t.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},t.prototype.handleNativeResponse=function(e,r,i){return I(this,void 0,void 0,function(){var o,s,a,c,l,u;return D(this,function(d){switch(d.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),e.account.id!==r.accountId)throw Vr.createUserSwitchError();return[4,this.getDiscoveredAuthority(r.authority)];case 1:return o=d.sent(),s=o.getPreferredCache(),a=this.createIdTokenObj(e),c=this.createHomeAccountIdentifier(e,a),l=this.createAccountEntity(e,c,a,s),[4,this.generateAuthenticationResult(e,r,a,l,o.canonicalAuthority,i)];case 2:return u=d.sent(),this.cacheAccount(l),this.cacheNativeTokens(e,r,c,l,a,u.accessToken,u.tenantId,i),[2,u]}})})},t.prototype.createIdTokenObj=function(e){return new Br(e.id_token||v.EMPTY_STRING,this.browserCrypto)},t.prototype.createHomeAccountIdentifier=function(e,r){return Ht.generateHomeAccountId(e.client_info||v.EMPTY_STRING,en.Default,this.logger,this.browserCrypto,r)},t.prototype.createAccountEntity=function(e,r,i,o){return Ht.createAccount(e.client_info,r,i,void 0,void 0,void 0,o,e.account.id)},t.prototype.generateScopes=function(e,r){return Xt.fromString(e.scope?e.scope:r.scope)},t.prototype.generatePopAccessToken=function(e,r){return I(this,void 0,void 0,function(){var i,o;return D(this,function(s){switch(s.label){case 0:if(r.tokenType!==Ae.POP)return[3,2];if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),[2,e.shr];if(i=new Us(this.browserCrypto),o={resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,shrNonce:r.shrNonce},!r.keyId)throw F.createKeyIdMissingError();return[4,i.signPopToken(e.access_token,r.keyId,o)];case 1:return[2,s.sent()];case 2:return[2,e.access_token]}})})},t.prototype.generateAuthenticationResult=function(e,r,i,o,s,a){return I(this,void 0,void 0,function(){var c,l,u,d,h,f,p;return D(this,function(g){switch(g.label){case 0:return c=this.addTelemetryFromNativeResponse(e),l=Xt.fromString(e.scope?e.scope:r.scope),d=(u=e.account.properties||{}).UID||i.claims.oid||i.claims.sub||v.EMPTY_STRING,h=u.TenantId||i.claims.tid||v.EMPTY_STRING,[4,this.generatePopAccessToken(e,r)];case 1:return f=g.sent(),p=r.tokenType===Ae.POP?Ae.POP:Ae.BEARER,[2,{authority:s,uniqueId:d,tenantId:h,scopes:l.asArray(),account:o.getAccountInfo(),idToken:e.id_token,idTokenClaims:i.claims,accessToken:f,fromCache:!!c&&this.isResponseFromCache(c),expiresOn:new Date(1e3*Number(a+e.expires_in)),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}]}})})},t.prototype.cacheAccount=function(e){var r=this;this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(function(i){r.logger.error("Error occurred while removing account context from browser storage. "+i)})},t.prototype.cacheNativeTokens=function(e,r,i,o,s,a,c,l){var u=Io.createIdTokenEntity(i,r.authority,e.id_token||v.EMPTY_STRING,r.clientId,s.claims.tid||v.EMPTY_STRING),h=l+(r.tokenType===Ae.POP?v.SHR_NONCE_VALIDITY:("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),f=this.generateScopes(e,r),p=Do.createAccessTokenEntity(i,r.authority,a,r.clientId,s?s.claims.tid||v.EMPTY_STRING:c,f.printScopes(),h,0,this.browserCrypto),m=new Tc(o,u,p);this.nativeStorageManager.saveCacheRecord(m)},t.prototype.addTelemetryFromNativeResponse=function(e){var r=this.getMATSFromResponse(e);return r?(this.performanceClient.addStaticFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:r.broker_version,matsAccountJoinOnStart:r.account_join_on_start,matsAccountJoinOnEnd:r.account_join_on_end,matsDeviceJoin:r.device_join,matsPromptBehavior:r.prompt_behavior,matsApiErrorCode:r.api_error_code,matsUiVisible:r.ui_visible,matsSilentCode:r.silent_code,matsSilentBiSubCode:r.silent_bi_sub_code,matsSilentMessage:r.silent_message,matsSilentStatus:r.silent_status,matsHttpStatus:r.http_status,matsHttpEventCount:r.http_event_count},this.correlationId),r):null},t.prototype.validateNativeResponse=function(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Vr.createUnexpectedError("Response missing expected properties.")},t.prototype.getMATSFromResponse=function(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},t.prototype.isResponseFromCache=function(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached},t.prototype.initializeNativeRequest=function(e){return I(this,void 0,void 0,function(){var r,i,o,s,a,c,l,u,h,f=this;return D(this,function(p){switch(p.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),r=e.authority||this.config.auth.authority,e.account?[4,this.validateRequestAuthority(r,e.account)]:[3,2];case 1:p.sent(),p.label=2;case 2:return(i=new ge(r)).validateAsUri(),o=e.scopes,s=pD(e,["scopes"]),(a=new Xt(o||[])).appendScopes(fc),c=function(){switch(f.apiId){case je.ssoSilent:case je.acquireTokenSilent_silentFlow:return f.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Bt.NONE}if(e.prompt)switch(e.prompt){case Bt.NONE:case Bt.CONSENT:case Bt.LOGIN:return f.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw f.logger.trace("initializeNativeRequest: prompt = "+e.prompt+" is not compatible with native flow"),O.createNativePromptParameterNotSupportedError()}else f.logger.trace("initializeNativeRequest: prompt was not provided")},l=z(z({},s),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:i.urlString,scope:a.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:c(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:z(z(z({},e.extraQueryParameters),e.tokenQueryParameters),{telemetry:"MATS"}),extendedExpiryToken:!1}),e.authenticationScheme!==Ae.POP?[3,4]:(u={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},[4,new Us(this.browserCrypto).generateCnf(u)]);case 3:h=p.sent(),l.reqCnf=h.reqCnfString,l.keyId=h.kid,p.label=4;case 4:return[2,l]}})})},t}(LD),Mo=function(){function n(t,e,r,i){this.logger=t,this.handshakeTimeoutMs=e,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(b.NativeMessageHandlerHandshake)}return n.prototype.sendMessage=function(t){return I(this,void 0,void 0,function(){var e,r=this;return D(this,function(i){return this.logger.trace("NativeMessageHandler - sendMessage called."),e={channel:Cc_CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:t},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(e)),this.messageChannel.port1.postMessage(e),[2,new Promise(function(o,s){r.resolvers.set(e.responseId,{resolve:o,reject:s})})]})})},n.createProvider=function(t,e,r){return I(this,void 0,void 0,function(){var i,o;return D(this,function(s){switch(s.label){case 0:t.trace("NativeMessageHandler - createProvider called."),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,(i=new n(t,e,r,"ppnbnpeolgkicgegkbkbjmhlideopiji")).sendHandshakeRequest()];case 2:return s.sent(),[2,i];case 3:return s.sent(),[4,(o=new n(t,e,r)).sendHandshakeRequest()];case 4:return s.sent(),[2,o];case 5:return[2]}})})},n.prototype.sendHandshakeRequest=function(){return I(this,void 0,void 0,function(){var t,e=this;return D(this,function(r){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),t={channel:Cc_CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:{method:Ur.HandshakeRequest}},this.handshakeEvent.addStaticFields({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=function(i){e.onChannelMessage(i)},window.postMessage(t,window.origin,[this.messageChannel.port2]),[2,new Promise(function(i,o){e.handshakeResolvers.set(t.responseId,{resolve:i,reject:o}),e.timeoutId=window.setTimeout(function(){window.removeEventListener("message",e.windowListener,!1),e.messageChannel.port1.close(),e.messageChannel.port2.close(),e.handshakeEvent.endMeasurement({extensionHandshakeTimedOut:!0,success:!1}),o(O.createNativeHandshakeTimeoutError()),e.handshakeResolvers.delete(t.responseId)},e.handshakeTimeoutMs)})]})})},n.prototype.onWindowMessage=function(t){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),t.source===window){var e=t.data;if(e.channel&&e.channel===Cc_CHANNEL_ID&&(!e.extensionId||e.extensionId===this.extensionId)&&e.body.method===Ur.HandshakeRequest){this.logger.verbose(e.extensionId?"Extension with id: "+e.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1);var r=this.handshakeResolvers.get(e.responseId);r&&(this.handshakeEvent.endMeasurement({success:!1,extensionInstalled:!1}),r.reject(O.createNativeExtensionNotInstalledError()))}}},n.prototype.onChannelMessage=function(t){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var e=t.data,r=this.resolvers.get(e.responseId),i=this.handshakeResolvers.get(e.responseId);try{var o=e.body.method;if(o===Ur.Response){if(!r)return;var s=e.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(s)),"Success"!==s.status)r.reject(Vr.createError(s.code,s.description,s.ext));else{if(!s.result)throw G.createUnexpectedError("Event does not contain result.");s.result.code&&s.result.description?r.reject(Vr.createError(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result)}this.resolvers.delete(e.responseId)}else if(o===Ur.HandshakeResponse){if(!i)return;clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=e.extensionId,this.extensionVersion=e.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),this.handshakeEvent.endMeasurement({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(e.responseId)}}catch(a){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+a.toString()),this.logger.errorPii("Unable to parse "+t),r?r.reject(a):i&&i.reject(a)}},n.prototype.getExtensionId=function(){return this.extensionId},n.prototype.getExtensionVersion=function(){return this.extensionVersion},n.isNativeAvailable=function(t,e,r,i){if(e.trace("isNativeAvailable called"),!t.system.allowNativeBroker)return e.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return e.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case Ae.BEARER:case Ae.POP:return e.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return e.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},n}(),Vg=function(){function n(t,e,r,i,o){this.authModule=t,this.browserStorage=e,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}return n.prototype.handleCodeResponseFromHash=function(t,e,r,i){return I(this,void 0,void 0,function(){var o,s,a;return D(this,function(c){if(this.performanceClient.addQueueMeasurement(b.HandleCodeResponseFromHash,this.authCodeRequest.correlationId),this.logger.verbose("InteractionHandler.handleCodeResponse called"),L.isEmpty(t))throw O.createEmptyHashError(t);if(o=this.browserStorage.generateStateKey(e),!(s=this.browserStorage.getTemporaryCache(o)))throw F.createStateNotFoundError("Cached State");try{a=this.authModule.handleFragmentResponse(t,s)}catch(l){throw l instanceof So&&l.subError===A_userCancelledError_code?O.createUserCancelledError():l}return this.performanceClient.setPreQueueTime(b.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),[2,this.handleCodeResponseFromServer(a,e,r,i)]})})},n.prototype.handleCodeResponseFromServer=function(t,e,r,i,o){return void 0===o&&(o=!0),I(this,void 0,void 0,function(){var s,a,c,l,u,d;return D(this,function(h){switch(h.label){case 0:if(this.performanceClient.addQueueMeasurement(b.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),s=this.browserStorage.generateStateKey(e),!(a=this.browserStorage.getTemporaryCache(s)))throw F.createStateNotFoundError("Cached State");return c=this.browserStorage.generateNonceKey(a),l=this.browserStorage.getTemporaryCache(c),this.authCodeRequest.code=t.code,t.cloud_instance_host_name?(this.performanceClient.setPreQueueTime(b.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),[4,this.updateTokenEndpointAuthority(t.cloud_instance_host_name,r,i)]):[3,2];case 1:h.sent(),h.label=2;case 2:return o&&(t.nonce=l||void 0),t.state=a,t.client_info?this.authCodeRequest.clientInfo=t.client_info:(u=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=u),this.performanceClient.setPreQueueTime(b.AuthClientAcquireToken,this.authCodeRequest.correlationId),[4,this.authModule.acquireToken(this.authCodeRequest,t)];case 3:return d=h.sent(),this.browserStorage.cleanRequestByState(e),[2,d]}})})},n.prototype.updateTokenEndpointAuthority=function(t,e,r){return I(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return this.performanceClient.addQueueMeasurement(b.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),[4,gd.createDiscoveredInstance("https://"+t+"/"+e.tenant+"/",r,this.browserStorage,e.options,this.logger,this.performanceClient,this.authCodeRequest.correlationId)];case 1:return o=s.sent(),this.authModule.updateAuthority(o),[2]}})})},n.prototype.checkCcsCredentials=function(){var t=this.browserStorage.getTemporaryCache(_e.CCS_CREDENTIAL,!0);if(t)try{return JSON.parse(t)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+t)}return null},n}(),_z=function(n){function t(e,r,i,o,s,a,c,l,u,d){var h=n.call(this,e,r,i,o,s,a,c,u,d)||this;return h.unloadWindow=h.unloadWindow.bind(h),h.nativeStorage=l,h}return Ut(t,n),t.prototype.acquireToken=function(e){try{var r=this.generatePopupName(e.scopes||fc,e.authority||this.config.auth.authority),i=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,i);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var o=this.openSizedPopup("about:blank",r,i);return this.acquireTokenPopupAsync(e,r,i,o)}catch(s){return Promise.reject(s)}},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var r=this.initializeLogoutRequest(e),i=this.generateLogoutPopupName(r),o=e&&e.authority,s=e&&e.mainWindowRedirectUri,a=e?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(r,i,a,o,void 0,s);this.logger.verbose("asyncPopup set to false, opening popup");var c=this.openSizedPopup("about:blank",i,a);return this.logoutPopupAsync(r,i,a,o,c,s)}catch(l){return Promise.reject(l)}},t.prototype.acquireTokenPopupAsync=function(e,r,i,o){return I(this,void 0,void 0,function(){var s,a,c,l,u,d,h,f,m,g,y,w,C,k,ce,Be=this;return D(this,function(Pe){switch(Pe.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),s=this.initializeServerTelemetryManager(je.acquireTokenPopup),this.performanceClient.setPreQueueTime(b.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,x.Popup)];case 1:a=Pe.sent(),this.browserStorage.updateCacheEntries(a.state,a.nonce,a.authority,a.loginHint||v.EMPTY_STRING,a.account||null),Pe.label=2;case 2:return Pe.trys.push([2,8,,9]),this.performanceClient.setPreQueueTime(b.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),[4,this.initializeAuthorizationCodeRequest(a)];case 3:return c=Pe.sent(),this.performanceClient.setPreQueueTime(b.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(s,a.authority,a.azureCloudOptions)];case 4:return l=Pe.sent(),this.logger.verbose("Auth code client created"),u=Mo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),d=void 0,u&&(d=this.performanceClient.startMeasurement(b.FetchAccountIdWithNativeBroker,e.correlationId)),[4,l.getAuthCodeUrl(z(z({},a),{nativeBroker:u}))];case 5:return h=Pe.sent(),f=new Vg(l,this.browserStorage,c,this.logger,this.performanceClient),m=this.initiateAuthRequest(h,{popup:o,popupName:r,popupWindowAttributes:i}),this.eventHandler.emitEvent(B.POPUP_OPENED,x.Popup,{popupWindow:m},null),[4,this.monitorPopupForHash(m)];case 6:if(g=Pe.sent(),y=ge.getDeserializedHash(g),w=this.validateAndExtractStateFromHash(y,x.Popup,a.correlationId),fd.removeThrottle(this.browserStorage,this.config.auth.clientId,c),y.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),d&&d.endMeasurement({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw O.createNativeConnectionNotEstablishedError();return C=new Vs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,je.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,y.accountId,this.nativeStorage,a.correlationId),k=gi.parseRequestState(this.browserCrypto,w).userRequestState,[2,C.acquireToken(z(z({},a),{state:k,prompt:void 0})).finally(function(){Be.browserStorage.cleanRequestByState(w)})]}return[4,f.handleCodeResponseFromHash(g,w,l.authority,this.networkClient)];case 7:return[2,Pe.sent()];case 8:throw ce=Pe.sent(),o&&o.close(),ce instanceof G&&ce.setCorrelationId(this.correlationId),s.cacheFailedRequest(ce),this.browserStorage.cleanRequestByState(a.state),ce;case 9:return[2]}})})},t.prototype.logoutPopupAsync=function(e,r,i,o,s,a){return I(this,void 0,void 0,function(){var c,l,u,d,h,f,p;return D(this,function(m){switch(m.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(B.LOGOUT_START,x.Popup,e),c=this.initializeServerTelemetryManager(je.logoutPopup),m.label=1;case 1:return m.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(e.account)];case 2:return m.sent(),this.performanceClient.setPreQueueTime(b.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(c,o)];case 3:return l=m.sent(),this.logger.verbose("Auth code client created"),u=l.getLogoutUri(e),this.eventHandler.emitEvent(B.LOGOUT_SUCCESS,x.Popup,e),d=this.openPopup(u,{popupName:r,popupWindowAttributes:i,popup:s}),this.eventHandler.emitEvent(B.POPUP_OPENED,x.Popup,{popupWindow:d},null),[4,this.waitForLogoutPopup(d)];case 4:return m.sent(),a?(h={apiId:je.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=ge.getAbsoluteUrl(a,Ze.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+f),this.navigationClient.navigateInternal(f,h)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw p=m.sent(),s&&s.close(),p instanceof G&&p.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(B.LOGOUT_FAILURE,x.Popup,null,p),this.eventHandler.emitEvent(B.LOGOUT_END,x.Popup),c.cacheFailedRequest(p),p;case 6:return this.eventHandler.emitEvent(B.LOGOUT_END,x.Popup),[2]}})})},t.prototype.initiateAuthRequest=function(e,r){if(L.isEmpty(e))throw this.logger.error("Navigate url is empty"),O.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+e),this.openPopup(e,r)},t.prototype.monitorPopupForHash=function(e){var r=this;return new Promise(function(i,o){var s=r.config.system.windowHashTimeout/r.config.system.pollIntervalMilliseconds,a=0;r.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var c=setInterval(function(){if(e.closed)return r.logger.error("PopupHandler.monitorPopupForHash - window closed"),r.cleanPopup(),clearInterval(c),void o(O.createUserCancelledError());var l=v.EMPTY_STRING,u=v.EMPTY_STRING;try{l=e.location.href,u=e.location.hash}catch{}L.isEmpty(l)||"about:blank"===l||(r.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),a++,u?(r.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(c),r.cleanPopup(e),ge.hashContainsKnownProperties(u)?(r.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),i(u)):(r.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),r.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+u),o(O.createHashDoesNotContainKnownPropertiesError()))):a>s&&(r.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(c),o(O.createMonitorPopupTimeoutError())))},r.config.system.pollIntervalMilliseconds)})},t.prototype.waitForLogoutPopup=function(e){var r=this;return new Promise(function(i){r.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var o=setInterval(function(){e.closed&&(r.logger.error("PopupHandler.waitForLogoutPopup - window closed"),r.cleanPopup(),clearInterval(o),i());var s=v.EMPTY_STRING;try{s=e.location.href}catch{}L.isEmpty(s)||"about:blank"===s||(r.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(o),r.cleanPopup(e),i())},r.config.system.pollIntervalMilliseconds)})},t.prototype.openPopup=function(e,r){try{var i=void 0;if(r.popup?(i=r.popup,this.logger.verbosePii("Navigating popup window to: "+e),i.location.assign(e)):typeof r.popup>"u"&&(this.logger.verbosePii("Opening popup window to: "+e),i=this.openSizedPopup(e,r.popupName,r.popupWindowAttributes)),!i)throw O.createEmptyWindowCreatedError();return i.focus&&i.focus(),this.currentWindow=i,window.addEventListener("beforeunload",this.unloadWindow),i}catch(o){throw this.logger.error("error opening popup "+o.message),this.browserStorage.setInteractionInProgress(!1),O.createPopupWindowError(o.toString())}},t.prototype.openSizedPopup=function(e,r,i){var o,s,a,c,l=window.screenLeft?window.screenLeft:window.screenX,u=window.screenTop?window.screenTop:window.screenY,d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,f=null===(o=i.popupSize)||void 0===o?void 0:o.width,p=null===(s=i.popupSize)||void 0===s?void 0:s.height,m=null===(a=i.popupPosition)||void 0===a?void 0:a.top,g=null===(c=i.popupPosition)||void 0===c?void 0:c.left;return(!f||f<0||f>d)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),f=483),(!p||p<0||p>h)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),p=600),(!m||m<0||m>h)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),m=Math.max(0,h/2-300+u)),(!g||g<0||g>d)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),g=Math.max(0,d/2-241.5+l)),window.open(e,r,"width="+f+", height="+p+", top="+m+", left="+g+", scrollbars=yes")},t.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(x.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},t.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},t.prototype.generatePopupName=function(e,r){return"msal."+this.config.auth.clientId+"."+e.join("-")+"."+r+"."+this.correlationId},t.prototype.generateLogoutPopupName=function(e){return"msal."+this.config.auth.clientId+"."+(e.account&&e.account.homeAccountId)+"."+this.correlationId},t}(Bs),VD=function(n){function t(e,r,i,o,s,a){var c=n.call(this,e,r,i,o,a)||this;return c.browserCrypto=s,c}return Ut(t,n),t.prototype.initiateAuthRequest=function(e,r){return I(this,void 0,void 0,function(){var i;return D(this,function(s){switch(s.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),L.isEmpty(e)?[3,7]:(r.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(_e.ORIGIN_URI,r.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(_e.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),i={apiId:je.acquireTokenRedirect,timeout:r.redirectTimeout,noHistory:!1},"function"!=typeof r.onRedirectNavigate?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===r.onRedirectNavigate(e)?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,r.navigationClient.navigateExternal(e,i)])));case 1:case 5:return s.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,r.navigationClient.navigateExternal(e,i)];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),O.createEmptyNavigationUriError();case 8:return[2]}})})},t.prototype.handleCodeResponseFromHash=function(e,r,i,o){return I(this,void 0,void 0,function(){var s,a,c,l,u,d,h;return D(this,function(f){switch(f.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),L.isEmpty(e))throw O.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),s=this.browserStorage.generateStateKey(r),!(a=this.browserStorage.getTemporaryCache(s)))throw F.createStateNotFoundError("Cached State");try{c=this.authModule.handleFragmentResponse(e,a)}catch(p){throw p instanceof So&&p.subError===A_userCancelledError_code?O.createUserCancelledError():p}return l=this.browserStorage.generateNonceKey(a),u=this.browserStorage.getTemporaryCache(l),this.authCodeRequest.code=c.code,c.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(c.cloud_instance_host_name,i,o)]:[3,2];case 1:f.sent(),f.label=2;case 2:return c.nonce=u||void 0,c.state=a,c.client_info?this.authCodeRequest.clientInfo=c.client_info:(d=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=d),[4,this.authModule.acquireToken(this.authCodeRequest,c)];case 3:return h=f.sent(),this.browserStorage.cleanRequestByState(r),[2,h]}})})},t}(Vg),Cz=function(n){function t(e,r,i,o,s,a,c,l,u,d){var h=n.call(this,e,r,i,o,s,a,c,u,d)||this;return h.nativeStorage=l,h}return Ut(t,n),t.prototype.acquireToken=function(e){return I(this,void 0,void 0,function(){var r,i,o,s,a,c,l,u,d,h=this;return D(this,function(f){switch(f.label){case 0:return this.performanceClient.setPreQueueTime(b.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,x.Redirect)];case 1:r=f.sent(),this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||v.EMPTY_STRING,r.account||null),i=this.initializeServerTelemetryManager(je.acquireTokenRedirect),o=function(p){p.persisted&&(h.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),h.browserStorage.cleanRequestByState(r.state),h.eventHandler.emitEvent(B.RESTORE_FROM_BFCACHE,x.Redirect))},f.label=2;case 2:return f.trys.push([2,7,,8]),this.performanceClient.setPreQueueTime(b.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),[4,this.initializeAuthorizationCodeRequest(r)];case 3:return s=f.sent(),this.performanceClient.setPreQueueTime(b.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(i,r.authority,r.azureCloudOptions)];case 4:return a=f.sent(),this.logger.verbose("Auth code client created"),c=new VD(a,this.browserStorage,s,this.logger,this.browserCrypto,this.performanceClient),[4,a.getAuthCodeUrl(z(z({},r),{nativeBroker:Mo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}))];case 5:return l=f.sent(),u=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+u),window.addEventListener("pageshow",o),[4,c.initiateAuthRequest(l,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:u,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,f.sent()];case 7:throw(d=f.sent())instanceof G&&d.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",o),i.cacheFailedRequest(d),this.browserStorage.cleanRequestByState(r.state),d;case 8:return[2]}})})},t.prototype.handleRedirectPromise=function(e){return I(this,void 0,void 0,function(){var r,i,o,s,a,c,l,u,d,h,f,p;return D(this,function(m){switch(m.label){case 0:r=this.initializeServerTelemetryManager(je.handleRedirectPromise),m.label=1;case 1:if(m.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(i=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(x.Redirect),[2,null];o=void 0;try{s=ge.getDeserializedHash(i),o=this.validateAndExtractStateFromHash(s,x.Redirect),this.logger.verbose("State extracted from hash")}catch(g){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+g),this.browserStorage.cleanRequestByInteractionType(x.Redirect),[2,null]}return a=this.browserStorage.getTemporaryCache(_e.ORIGIN_URI,!0)||v.EMPTY_STRING,c=ge.removeHashFromUrl(a),l=ge.removeHashFromUrl(window.location.href),c===l&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(i,o,r)]):[3,3];case 2:return u=m.sent(),a.indexOf("#")>-1&&Ze.replaceHash(a),[2,u];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(i,o,r)]);case 4:return!Ze.isInIframe()||this.config.system.allowRedirectInIframe?(this.browserStorage.setTemporaryCache(_e.URL_HASH,i,!0),d={apiId:je.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},h=!0,a&&"null"!==a?[3,6]:(f=Ze.getHomepage(),this.browserStorage.setTemporaryCache(_e.ORIGIN_URI,f,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(f,d)])):[3,9];case 5:return h=m.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+a),[4,this.navigationClient.navigateInternal(a,d)];case 7:h=m.sent(),m.label=8;case 8:if(!h)return[2,this.handleHash(i,o,r)];m.label=9;case 9:return[2,null];case 10:throw(p=m.sent())instanceof G&&p.setCorrelationId(this.correlationId),r.cacheFailedRequest(p),this.browserStorage.cleanRequestByInteractionType(x.Redirect),p;case 11:return[2]}})})},t.prototype.getRedirectResponseHash=function(e){if(this.logger.verbose("getRedirectResponseHash called"),ge.hashContainsKnownProperties(e))return Ze.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),e;var i=this.browserStorage.getTemporaryCache(_e.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(_e.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),i},t.prototype.handleHash=function(e,r,i){return I(this,void 0,void 0,function(){var o,s,a,c,l,u,h=this;return D(this,function(f){switch(f.label){case 0:if(o=this.browserStorage.getCachedRequest(r,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),(s=ge.getDeserializedHash(e)).accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw O.createNativeConnectionNotEstablishedError();return a=new Vs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,je.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,s.accountId,this.nativeStorage,o.correlationId),c=gi.parseRequestState(this.browserCrypto,r).userRequestState,[2,a.acquireToken(z(z({},o),{state:c,prompt:void 0})).finally(function(){h.browserStorage.cleanRequestByState(r)})]}if(!(l=this.browserStorage.getCachedAuthority(r)))throw O.createNoCachedAuthorityError();return this.performanceClient.setPreQueueTime(b.StandardInteractionClientCreateAuthCodeClient,o.correlationId),[4,this.createAuthCodeClient(i,l)];case 1:return u=f.sent(),this.logger.verbose("Auth code client created"),fd.removeThrottle(this.browserStorage,this.config.auth.clientId,o),[4,new VD(u,this.browserStorage,o,this.logger,this.browserCrypto,this.performanceClient).handleCodeResponseFromHash(e,r,u.authority,this.networkClient)];case 2:return[2,f.sent()]}})})},t.prototype.logout=function(e){return I(this,void 0,void 0,function(){var r,i,o,s,a,l;return D(this,function(u){switch(u.label){case 0:this.logger.verbose("logoutRedirect called"),r=this.initializeLogoutRequest(e),i=this.initializeServerTelemetryManager(je.logout),u.label=1;case 1:return u.trys.push([1,10,,11]),this.eventHandler.emitEvent(B.LOGOUT_START,x.Redirect,e),[4,this.clearCacheOnLogout(r.account)];case 2:return u.sent(),o={apiId:je.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.performanceClient.setPreQueueTime(b.StandardInteractionClientCreateAuthCodeClient,r.correlationId),[4,this.createAuthCodeClient(i,e&&e.authority)];case 3:return s=u.sent(),this.logger.verbose("Auth code client created"),a=s.getLogoutUri(r),this.eventHandler.emitEvent(B.LOGOUT_SUCCESS,x.Redirect,r),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(a)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(a,o)]):[3,7];case 4:return u.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),u.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(a,o)];case 8:return u.sent(),[2];case 9:return[3,11];case 10:throw(l=u.sent())instanceof G&&l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l),this.eventHandler.emitEvent(B.LOGOUT_FAILURE,x.Redirect,null,l),this.eventHandler.emitEvent(B.LOGOUT_END,x.Redirect),l;case 11:return this.eventHandler.emitEvent(B.LOGOUT_END,x.Redirect),[2]}})})},t.prototype.getRedirectStartPage=function(e){var r=e||window.location.href;return ge.getAbsoluteUrl(r,Ze.getCurrentUri())},t}(Bs),HD=function(n){function t(e,r,i,o,s,a){var c=n.call(this,e,r,i,o,a)||this;return c.navigateFrameWait=s.navigateFrameWait,c.pollIntervalMilliseconds=s.pollIntervalMilliseconds,c}return Ut(t,n),t.prototype.initiateAuthRequest=function(e){return I(this,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:if(this.performanceClient.addQueueMeasurement(b.SilentHandlerInitiateAuthRequest,this.authCodeRequest.correlationId),L.isEmpty(e))throw this.logger.info("Navigate url is empty"),O.createEmptyNavigationUriError();return this.navigateFrameWait?(this.performanceClient.setPreQueueTime(b.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),[4,this.loadFrame(e)]):[3,2];case 1:return[2,r.sent()];case 2:return[2,this.loadFrameSync(e)]}})})},t.prototype.monitorIframeForHash=function(e,r){var i=this;return this.performanceClient.addQueueMeasurement(b.SilentHandlerMonitorIframeForHash,this.authCodeRequest.correlationId),new Promise(function(o,s){r<6e3&&i.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+r+"ms) than the default (6000ms). This may result in timeouts.");var c=window.performance.now()+r,l=setInterval(function(){if(window.performance.now()>c)return i.removeHiddenIframe(e),clearInterval(l),void s(O.createMonitorIframeTimeoutError());var u=v.EMPTY_STRING,d=e.contentWindow;try{u=d?d.location.href:v.EMPTY_STRING}catch{}if(!L.isEmpty(u)){var h=d?d.location.hash:v.EMPTY_STRING;if(ge.hashContainsKnownProperties(h))return i.removeHiddenIframe(e),clearInterval(l),void o(h)}},i.pollIntervalMilliseconds)})},t.prototype.loadFrame=function(e){var r=this;return this.performanceClient.addQueueMeasurement(b.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),new Promise(function(i,o){var s=r.createHiddenIframe();setTimeout(function(){s?(s.src=e,i(s)):o("Unable to load iframe")},r.navigateFrameWait)})},t.prototype.loadFrameSync=function(e){var r=this.createHiddenIframe();return r.src=e,r},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(Vg),wz=function(n){function t(e,r,i,o,s,a,c,l,u,d,h){var f=n.call(this,e,r,i,o,s,a,l,d,h)||this;return f.apiId=c,f.nativeStorage=u,f}return Ut(t,n),t.prototype.acquireToken=function(e){return I(this,void 0,void 0,function(){var r,i,o,s,a;return D(this,function(c){switch(c.label){case 0:if(this.performanceClient.addQueueMeasurement(b.SilentIframeClientAcquireToken,e.correlationId),this.logger.verbose("acquireTokenByIframe called"),r=this.performanceClient.startMeasurement(b.SilentIframeClientAcquireToken,e.correlationId),L.isEmpty(e.loginHint)&&L.isEmpty(e.sid)&&(!e.account||L.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==Bt.NONE&&e.prompt!==Bt.NO_SESSION)throw r.endMeasurement({success:!1}),O.createSilentPromptValueError(e.prompt);return this.performanceClient.setPreQueueTime(b.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(z(z({},e),{prompt:e.prompt||Bt.NONE}),x.Silent)];case 1:i=c.sent(),this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||v.EMPTY_STRING,i.account||null),o=this.initializeServerTelemetryManager(this.apiId),c.label=2;case 2:return c.trys.push([2,5,,6]),this.performanceClient.setPreQueueTime(b.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(o,i.authority,i.azureCloudOptions)];case 3:return s=c.sent(),this.logger.verbose("Auth code client created"),this.performanceClient.setPreQueueTime(b.SilentIframeClientTokenHelper,e.correlationId),[4,this.silentTokenHelper(s,i).then(function(l){return r.endMeasurement({success:!0,fromCache:!1,requestId:l.requestId}),l})];case 4:return[2,c.sent()];case 5:throw(a=c.sent())instanceof G&&a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a),this.browserStorage.cleanRequestByState(i.state),r.endMeasurement({errorCode:a instanceof G&&a.errorCode||void 0,subErrorCode:a instanceof G&&a.subError||void 0,success:!1}),a;case 6:return[2]}})})},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,r){return I(this,void 0,void 0,function(){var i,o,s,a,c,l,u,d,h,f=this;return D(this,function(p){switch(p.label){case 0:return this.performanceClient.addQueueMeasurement(b.SilentIframeClientTokenHelper,r.correlationId),this.performanceClient.setPreQueueTime(b.StandardInteractionClientInitializeAuthorizationCodeRequest,r.correlationId),[4,this.initializeAuthorizationCodeRequest(r)];case 1:return i=p.sent(),this.performanceClient.setPreQueueTime(b.GetAuthCodeUrl,r.correlationId),[4,e.getAuthCodeUrl(z(z({},r),{nativeBroker:Mo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,r.authenticationScheme)}))];case 2:return o=p.sent(),s=new HD(e,this.browserStorage,i,this.logger,this.config.system,this.performanceClient),this.performanceClient.setPreQueueTime(b.SilentHandlerInitiateAuthRequest,r.correlationId),[4,s.initiateAuthRequest(o)];case 3:return a=p.sent(),this.performanceClient.setPreQueueTime(b.SilentHandlerMonitorIframeForHash,r.correlationId),[4,s.monitorIframeForHash(a,this.config.system.iframeHashTimeout)];case 4:if(c=p.sent(),l=ge.getDeserializedHash(c),u=this.validateAndExtractStateFromHash(l,x.Silent,i.correlationId),l.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw O.createNativeConnectionNotEstablishedError();return d=new Vs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,l.accountId,this.browserStorage,this.correlationId),h=gi.parseRequestState(this.browserCrypto,u).userRequestState,[2,d.acquireToken(z(z({},r),{state:h,prompt:r.prompt||Bt.NONE})).finally(function(){f.browserStorage.cleanRequestByState(u)})]}return this.performanceClient.setPreQueueTime(b.HandleCodeResponseFromHash,r.correlationId),[2,s.handleCodeResponseFromHash(c,u,e.authority,this.networkClient)]}})})},t}(Bs),bz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ut(t,n),t.prototype.acquireToken=function(e){return I(this,void 0,void 0,function(){var r,i,o,s,a,c=this;return D(this,function(l){switch(l.label){case 0:return this.performanceClient.addQueueMeasurement(b.SilentRefreshClientAcquireToken,e.correlationId),this.performanceClient.setPreQueueTime(b.InitializeBaseRequest,e.correlationId),i=[z({},e)],[4,this.initializeBaseRequest(e,e.account)];case 1:return r=z.apply(void 0,i.concat([l.sent()])),o=this.performanceClient.startMeasurement(b.SilentRefreshClientAcquireToken,r.correlationId),s=this.initializeServerTelemetryManager(je.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(s,r.authority,r.azureCloudOptions)];case 2:return a=l.sent(),this.logger.verbose("Refresh token client created"),this.performanceClient.setPreQueueTime(b.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),[2,a.acquireTokenByRefreshToken(r).then(function(u){return o.endMeasurement({success:!0,fromCache:u.fromCache,requestId:u.requestId}),u}).catch(function(u){throw u instanceof G&&u.setCorrelationId(c.correlationId),s.cacheFailedRequest(u),o.endMeasurement({errorCode:u.errorCode,subErrorCode:u.subError,success:!1}),u})]}})})},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,r,i){return I(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return this.performanceClient.setPreQueueTime(b.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,r,i)];case 1:return o=s.sent(),[2,new UD(o,this.performanceClient)]}})})},t}(Bs),Ez=function(){function n(t,e,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=e,this.logger=r,this.cryptoObj=i}return n.prototype.loadExternalTokens=function(t,e,r){if(this.logger.info("TokenCache - loadExternalTokens called"),!e.id_token)throw O.createUnableToLoadTokenError("Please ensure server response includes id token.");var o,s,i=new Br(e.id_token,this.cryptoObj);if(t.account){var a=this.loadAccount(i,t.account.environment,void 0,void 0,t.account.homeAccountId);o=new Tc(a,this.loadIdToken(i,a.homeAccountId,t.account.environment,t.account.tenantId),this.loadAccessToken(t,e,a.homeAccountId,t.account.environment,t.account.tenantId,r),this.loadRefreshToken(t,e,a.homeAccountId,t.account.environment))}else{if(!t.authority)throw O.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var c=Ic.generateAuthority(t.authority,t.azureCloudOptions);if(s=new Ic(c,this.config.system.networkClient,this.storage,{protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},this.logger),r.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),a=this.loadAccount(i,s.hostnameAndPort,r.clientInfo,s.authorityType),o=new Tc(a,this.loadIdToken(i,a.homeAccountId,s.hostnameAndPort,s.tenant),this.loadAccessToken(t,e,a.homeAccountId,s.hostnameAndPort,s.tenant,r),this.loadRefreshToken(t,e,a.homeAccountId,s.hostnameAndPort));else{if(!e.client_info)throw O.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),a=this.loadAccount(i,s.hostnameAndPort,e.client_info,s.authorityType),o=new Tc(a,this.loadIdToken(i,a.homeAccountId,s.hostnameAndPort,s.tenant),this.loadAccessToken(t,e,a.homeAccountId,s.hostnameAndPort,s.tenant,r),this.loadRefreshToken(t,e,a.homeAccountId,s.hostnameAndPort))}}return this.generateAuthenticationResult(t,i,o,s)},n.prototype.loadAccount=function(t,e,r,i,o){var s;if(o?s=o:void 0!==i&&r&&(s=Ht.generateHomeAccountId(r,i,this.logger,this.cryptoObj,t)),!s)throw O.createUnableToLoadTokenError("Unexpected missing homeAccountId");var a=r?Ht.createAccount(r,s,t,void 0,void 0,void 0,e):Ht.createGenericAccount(s,t,void 0,void 0,void 0,e);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading account"),this.storage.setAccount(a),a;throw O.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadIdToken=function(t,e,r,i){var o=Io.createIdTokenEntity(e,r,t.rawToken,this.config.auth.clientId,i);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(o),o;throw O.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadAccessToken=function(t,e,r,i,o,s){if(!e.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!e.expires_in)throw O.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!s.extendedExpiresOn)throw O.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var a=new Xt(t.scopes).printScopes(),c=s.expiresOn||e.expires_in+(new Date).getTime()/1e3,u=Do.createAccessTokenEntity(r,i,e.access_token,this.config.auth.clientId,o,a,c,s.extendedExpiresOn,this.cryptoObj);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(u),u;throw O.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadRefreshToken=function(t,e,r,i){if(!e.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;var o=Ps.createRefreshTokenEntity(r,i,e.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(o),o;throw O.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.generateAuthenticationResult=function(t,e,r,i){var o,s,a,d,c=v.EMPTY_STRING,l=[],u=null;return r?.accessToken&&(c=r.accessToken.secret,l=Xt.fromString(r.accessToken.target).asArray(),u=new Date(1e3*Number(r.accessToken.expiresOn)),d=new Date(1e3*Number(r.accessToken.extendedExpiresOn))),{authority:i?i.canonicalAuthority:v.EMPTY_STRING,uniqueId:e?.claims.oid||e?.claims.sub||v.EMPTY_STRING,tenantId:e?.claims.tid||v.EMPTY_STRING,scopes:l,account:r?.account?r.account.getAccountInfo():null,idToken:e?e.rawToken:v.EMPTY_STRING,idTokenClaims:e?e.claims:{},accessToken:c,fromCache:!0,expiresOn:u,correlationId:t.correlationId||v.EMPTY_STRING,requestId:v.EMPTY_STRING,extExpiresOn:d,familyId:v.EMPTY_STRING,tokenType:(null===(o=r?.accessToken)||void 0===o?void 0:o.tokenType)||v.EMPTY_STRING,state:v.EMPTY_STRING,cloudGraphHostName:(null===(s=r?.account)||void 0===s?void 0:s.cloudGraphHostName)||v.EMPTY_STRING,msGraphHost:(null===(a=r?.account)||void 0===a?void 0:a.msGraphHost)||v.EMPTY_STRING,code:void 0,fromNativeBroker:!1}},n}(),Sz=function(n){function t(e){var r=n.call(this,e)||this;return r.includeRedirectUri=!1,r}return Ut(t,n),t}(OD),Tz=function(n){function t(e,r,i,o,s,a,c,l,u,d){var h=n.call(this,e,r,i,o,s,a,l,u,d)||this;return h.apiId=c,h}return Ut(t,n),t.prototype.acquireToken=function(e){return I(this,void 0,void 0,function(){var r,i,o,s,a,l;return D(this,function(u){switch(u.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!e.code)throw O.createAuthCodeRequiredError();return this.performanceClient.setPreQueueTime(b.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,x.Silent)];case 1:r=u.sent(),this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||v.EMPTY_STRING,r.account||null),i=this.initializeServerTelemetryManager(this.apiId),u.label=2;case 2:return u.trys.push([2,4,,5]),o=z(z({},r),{code:e.code}),this.performanceClient.setPreQueueTime(b.StandardInteractionClientGetClientConfiguration,e.correlationId),[4,this.getClientConfiguration(i,r.authority)];case 3:return s=u.sent(),a=new Sz(s),this.logger.verbose("Auth code client created"),[2,new HD(a,this.browserStorage,o,this.logger,this.config.system,this.performanceClient).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},r.state,a.authority,this.networkClient,!1)];case 4:throw(l=u.sent())instanceof G&&l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l),this.browserStorage.cleanRequestByState(r.state),l;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t}(Bs),jD=function(){function n(t,e){this.correlationId=e,this.measureName=n.makeMeasureName(t,e),this.startMark=n.makeStartMark(t,e),this.endMark=n.makeEndMark(t,e)}return n.makeMeasureName=function(t,e){return"msal.measure."+t+"."+e},n.makeStartMark=function(t,e){return"msal.start."+t+"."+e},n.makeEndMark=function(t,e){return"msal.end."+t+"."+e},n.supportsBrowserPerformance=function(){return typeof window<"u"&&typeof window.performance<"u"&&"function"==typeof window.performance.mark&&"function"==typeof window.performance.measure&&"function"==typeof window.performance.clearMarks&&"function"==typeof window.performance.clearMeasures&&"function"==typeof window.performance.getEntriesByName},n.flushMeasurements=function(t,e){if(n.supportsBrowserPerformance())try{e.forEach(function(r){var i=n.makeMeasureName(r.name,t);window.performance.getEntriesByName(i,"measure").length>0&&(window.performance.clearMeasures(i),window.performance.clearMarks(n.makeStartMark(i,t)),window.performance.clearMarks(n.makeEndMark(i,t)))})}catch{}},n.prototype.startMeasurement=function(){if(n.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch{}},n.prototype.endMeasurement=function(){if(n.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch{}},n.prototype.flushMeasurement=function(){if(n.supportsBrowserPerformance())try{var t=window.performance.getEntriesByName(this.measureName,"measure");if(t.length>0){var e=t[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),e}}catch{}return null},n}(),Iz=function(n){function t(e,r,i,o,s,a,c){var l=n.call(this,e,r,i,o,s,a)||this;return l.browserCrypto=new SD(l.logger,c),l.guidGenerator=new wD(l.browserCrypto),l}return Ut(t,n),t.prototype.startPerformanceMeasuremeant=function(e,r){return new jD(e,r)},t.prototype.generateId=function(){return this.guidGenerator.generateGuid()},t.prototype.getPageVisibility=function(){var e;return(null===(e=document.visibilityState)||void 0===e?void 0:e.toString())||null},t.prototype.deleteIncompleteSubMeasurements=function(e){var r=this.eventsByCorrelationId.get(e.event.correlationId),o=[];r&&r.eventId===e.event.eventId&&r?.incompleteSubMeasurements&&r.incompleteSubMeasurements.forEach(function(s){o.push(z({},s))}),o.length>0&&jD.flushMeasurements(e.event.correlationId,o)},t.prototype.supportsBrowserPerformanceNow=function(){return typeof window<"u"&&typeof window.performance<"u"&&"function"==typeof window.performance.now},t.prototype.startMeasurement=function(e,r){var i=this,o=this.getPageVisibility(),s=n.prototype.startMeasurement.call(this,e,r);return z(z({},s),{endMeasurement:function(a){var c=s.endMeasurement(z({startPageVisibility:o,endPageVisibility:i.getPageVisibility()},a));return i.deleteIncompleteSubMeasurements(s),c},discardMeasurement:function(){s.discardMeasurement(),i.deleteIncompleteSubMeasurements(s),s.measurement.flushMeasurement()}})},t.prototype.setPreQueueTime=function(e,r){if(this.supportsBrowserPerformanceNow())if(r){var i=this.preQueueTimeByCorrelationId.get(r);i&&(this.logger.trace("BrowserPerformanceClient: Incomplete pre-queue "+i.name+" found",r),this.addQueueMeasurement(i.name,r,void 0,!0)),this.preQueueTimeByCorrelationId.set(r,{name:e,time:window.performance.now()})}else this.logger.trace("BrowserPerformanceClient: correlationId for "+e+" not provided, unable to set telemetry queue time");else this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to set telemetry queue time for "+e)},t.prototype.addQueueMeasurement=function(e,r,i,o){if(this.supportsBrowserPerformanceNow())if(r){var s=n.prototype.getPreQueueTime.call(this,e,r);if(s){var a=window.performance.now(),c=i||n.prototype.calculateQueuedTime.call(this,s,a);return n.prototype.addQueueMeasurement.call(this,e,r,c,o)}}else this.logger.trace("BrowserPerformanceClient: correlationId for "+e+" not provided, unable to add queue measurement");else this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to add queue measurement for "+e)},t}(ID),Az=function(n){function t(e){var r=n.call(this,e)||this;return r.astsAsyncMeasurement=void 0,r.activeSilentTokenRequests=new Map,r.trackPageVisibility=r.trackPageVisibility.bind(r),r}return Ut(t,n),t.prototype.loginRedirect=function(e){return I(this,void 0,void 0,function(){var r;return D(this,function(i){return r=this.getRequestCorrelationId(e),this.logger.verbose("loginRedirect called",r),[2,this.acquireTokenRedirect(z({correlationId:r},e||_D))]})})},t.prototype.loginPopup=function(e){var r=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",r),this.acquireTokenPopup(z({correlationId:r},e||_D))},t.prototype.acquireTokenSilent=function(e){return I(this,void 0,void 0,function(){var r,i,o,a,c,l,u=this;return D(this,function(d){if(r=this.getRequestCorrelationId(e),(i=this.performanceClient.startMeasurement(b.AcquireTokenSilent,r)).addStaticFields({cacheLookupPolicy:e.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(x.Silent),this.logger.verbose("acquireTokenSilent called",r),!(o=e.account||this.getActiveAccount()))throw O.createNoAccountError();return a=JSON.stringify({clientId:this.config.auth.clientId,authority:e.authority||v.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:o.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid}),typeof(c=this.activeSilentTokenRequests.get(a))>"u"?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.setPreQueueTime(b.AcquireTokenSilentAsync,r),l=this.acquireTokenSilentAsync(z(z({},e),{correlationId:r}),o).then(function(h){return u.activeSilentTokenRequests.delete(a),i.addStaticFields({accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length}),i.endMeasurement({success:!0,fromCache:h.fromCache,isNativeBroker:h.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:h.requestId}),h}).catch(function(h){throw u.activeSilentTokenRequests.delete(a),i.endMeasurement({errorCode:h.errorCode,subErrorCode:h.subError,success:!1}),h}),this.activeSilentTokenRequests.set(a,l),[2,l]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),i.discardMeasurement(),[2,c])})})},t.prototype.trackPageVisibility=function(){!this.astsAsyncMeasurement||(this.logger.info("Perf: Visibility change detected"),this.astsAsyncMeasurement.increment({visibilityChangeCount:1}))},t.prototype.acquireTokenSilentAsync=function(e,r){var i;return I(this,void 0,void 0,function(){var o,s,a,c,l,u=this;return D(this,function(d){switch(d.label){case 0:return this.performanceClient.addQueueMeasurement(b.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_START,x.Silent,e),this.astsAsyncMeasurement=this.performanceClient.startMeasurement(b.AcquireTokenSilentAsync,e.correlationId),null===(i=this.astsAsyncMeasurement)||void 0===i||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibility),Mo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&r.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),s=z(z({},e),{account:r}),o=this.acquireTokenNative(s,je.acquireTokenSilent_silentFlow).catch(function(h){return I(u,void 0,void 0,function(){return D(this,function(p){if(h instanceof Vr&&h.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,[2,this.createSilentIframeClient(e.correlationId).acquireToken(e)];throw h})})}),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),a=this.createSilentCacheClient(e.correlationId),this.performanceClient.setPreQueueTime(b.InitializeSilentRequest,e.correlationId),[4,a.initializeSilentRequest(e,r)];case 2:c=d.sent(),l=z(z({},e),{cacheLookupPolicy:e.cacheLookupPolicy||hn.Default}),this.performanceClient.setPreQueueTime(b.AcquireTokenFromCache,c.correlationId),o=this.acquireTokenFromCache(a,c,l).catch(function(h){if(l.cacheLookupPolicy===hn.AccessToken)throw h;return Ze.blockReloadInHiddenIframes(),u.eventHandler.emitEvent(B.ACQUIRE_TOKEN_NETWORK_START,x.Silent,c),u.performanceClient.setPreQueueTime(b.AcquireTokenByRefreshToken,c.correlationId),u.acquireTokenByRefreshToken(c,l).catch(function(f){if((!(f instanceof So)||"invalid_grant"!==f.errorCode||f instanceof gr||l.cacheLookupPolicy===hn.AccessTokenAndRefreshToken||l.cacheLookupPolicy===hn.RefreshToken)&&l.cacheLookupPolicy!==hn.Skip&&f.errorCode!==Ns_noTokensFoundError_code)throw f;return u.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",e.correlationId),u.performanceClient.setPreQueueTime(b.AcquireTokenBySilentIframe,c.correlationId),u.acquireTokenBySilentIframe(c)})}),d.label=3;case 3:return[2,o.then(function(h){var f;return u.eventHandler.emitEvent(B.ACQUIRE_TOKEN_SUCCESS,x.Silent,h),null===(f=u.astsAsyncMeasurement)||void 0===f||f.endMeasurement({success:!0,fromCache:h.fromCache,isNativeBroker:h.fromNativeBroker,requestId:h.requestId}),h}).catch(function(h){var f;throw u.eventHandler.emitEvent(B.ACQUIRE_TOKEN_FAILURE,x.Silent,null,h),null===(f=u.astsAsyncMeasurement)||void 0===f||f.endMeasurement({errorCode:h.errorCode,subErrorCode:h.subError,success:!1}),h}).finally(function(){document.removeEventListener("visibilitychange",u.trackPageVisibility)})]}})})},t}(function(){function n(t){this.isBrowserEnvironment=typeof window<"u",this.config=function lz(n,t){var e=n.auth,r=n.cache,i=n.system,o=n.telemetry,s={clientId:v.EMPTY_STRING,authority:""+v.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:v.EMPTY_STRING,authorityMetadata:v.EMPTY_STRING,redirectUri:v.EMPTY_STRING,postLogoutRedirectUri:v.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Fs.AAD,azureCloudOptions:{azureCloudInstance:Ls.None,tenant:v.EMPTY_STRING},skipAuthorityMetadataCache:!1},a={cacheLocation:ht.SessionStorage,temporaryCacheLocation:ht.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==ht.LocalStorage),claimsBasedCachingEnabled:!0},c={loggerCallback:function(){},logLevel:bt.Info,piiLoggingEnabled:!1},l=z(z({},ND),{loggerOptions:c,networkClient:t?Ze.getBrowserNetworkClient():nz,navigationClient:new oz,loadFrameTimeout:0,windowHashTimeout:i?.loadFrameTimeout||6e4,iframeHashTimeout:i?.loadFrameTimeout||6e3,navigateFrameWait:t&&Ze.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:i?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:30,cryptoOptions:{useMsrCrypto:!1,entropy:void 0}}),u=z(z({},i),{loggerOptions:i?.loggerOptions||c}),d={application:{appName:v.EMPTY_STRING,appVersion:v.EMPTY_STRING}};return{auth:z(z({},s),e),cache:z(z({},a),r),system:z(z({},l),u),telemetry:z(z({},d),o)}}(t,this.isBrowserEnvironment),this.initialized=!1,this.logger=new kg(this.config.system.loggerOptions,Ug,Ec),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new Iz(this.config.auth.clientId,this.config.auth.authority,this.logger,Ug,Ec,this.config.telemetry.application,this.config.system.cryptoOptions):new zj(this.config.auth.clientId,this.config.auth.authority,this.logger,Ug,Ec,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new jj(this.logger,this.performanceClient,this.config.system.cryptoOptions):ud,this.eventHandler=new uz(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new Fg(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):function(n,t){return new Fg(n,{cacheLocation:ht.MemoryStorage,temporaryCacheLocation:ht.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!0},ud,t)}(this.config.auth.clientId,this.logger),this.nativeInternalStorage=new Fg(this.config.auth.clientId,{cacheLocation:ht.MemoryStorage,temporaryCacheLocation:ht.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!0},this.browserCrypto,this.logger),this.tokenCache=new Ez(this.config,this.browserStorage,this.logger,this.browserCrypto),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}return n.prototype.initialize=function(){return I(this,void 0,void 0,function(){var t,e,r,i,o;return D(this,function(s){switch(s.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(t=this.config.system.allowNativeBroker,e=this.performanceClient.startMeasurement(b.InitializeClientApplication),this.eventHandler.emitEvent(B.INITIALIZE_START),!t)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),r=this,[4,Mo.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)];case 2:return r.nativeExtensionProvider=s.sent(),[3,4];case 3:return i=s.sent(),this.logger.verbose(i),[3,4];case 4:return this.config.cache.claimsBasedCachingEnabled?[3,6]:(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),o=this.performanceClient.startMeasurement(b.ClearTokensAndKeysWithClaims),[4,this.browserStorage.clearTokensAndKeysWithClaims()]);case 5:s.sent(),o.endMeasurement({success:!0}),s.label=6;case 6:return this.initialized=!0,this.eventHandler.emitEvent(B.INITIALIZE_END),e.endMeasurement({allowNativeBroker:t,success:!0}),[2]}})})},n.prototype.handleRedirectPromise=function(t){return I(this,void 0,void 0,function(){var e,r,i,o,s,a,c,l,u=this;return D(this,function(d){return this.logger.verbose("handleRedirectPromise called"),Ze.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),e=this.getAllAccounts(),this.isBrowserEnvironment?(typeof(i=this.redirectResponse.get(r=t||v.EMPTY_STRING))>"u"?(this.eventHandler.emitEvent(B.HANDLE_REDIRECT_START,x.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getCachedNativeRequest(),s=void 0,o&&Mo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!t?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a=new Vs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,je.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,o.accountId,this.nativeInternalStorage,o.correlationId),s=a.handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),c=this.browserStorage.getTemporaryCache(_e.CORRELATION_ID,!0)||v.EMPTY_STRING,l=this.createRedirectClient(c),s=l.handleRedirectPromise(t)),i=s.then(function(h){return h&&(e.length<u.getAllAccounts().length?(u.eventHandler.emitEvent(B.LOGIN_SUCCESS,x.Redirect,h),u.logger.verbose("handleRedirectResponse returned result, login success")):(u.eventHandler.emitEvent(B.ACQUIRE_TOKEN_SUCCESS,x.Redirect,h),u.logger.verbose("handleRedirectResponse returned result, acquire token success"))),u.eventHandler.emitEvent(B.HANDLE_REDIRECT_END,x.Redirect),h}).catch(function(h){throw u.eventHandler.emitEvent(e.length>0?B.ACQUIRE_TOKEN_FAILURE:B.LOGIN_FAILURE,x.Redirect,null,h),u.eventHandler.emitEvent(B.HANDLE_REDIRECT_END,x.Redirect),h}),this.redirectResponse.set(r,i)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,i]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},n.prototype.acquireTokenRedirect=function(t){return I(this,void 0,void 0,function(){var e,r,i,o,s,a=this;return D(this,function(c){return e=this.getRequestCorrelationId(t),this.logger.verbose("acquireTokenRedirect called",e),this.preflightBrowserEnvironmentCheck(x.Redirect),r=this.getAllAccounts().length>0,this.eventHandler.emitEvent(r?B.ACQUIRE_TOKEN_START:B.LOGIN_START,x.Redirect,t),this.nativeExtensionProvider&&this.canUseNative(t)?(o=new Vs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,je.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId),i=o.acquireTokenRedirect(t).catch(function(l){if(l instanceof Vr&&l.isFatal())return a.nativeExtensionProvider=void 0,a.createRedirectClient(t.correlationId).acquireToken(t);if(l instanceof gr)return a.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),a.createRedirectClient(t.correlationId).acquireToken(t);throw a.browserStorage.setInteractionInProgress(!1),l})):(s=this.createRedirectClient(t.correlationId),i=s.acquireToken(t)),[2,i.catch(function(l){throw a.eventHandler.emitEvent(r?B.ACQUIRE_TOKEN_FAILURE:B.LOGIN_FAILURE,x.Redirect,null,l),l})]})})},n.prototype.acquireTokenPopup=function(t){var e=this,r=this.getRequestCorrelationId(t),i=this.performanceClient.startMeasurement(b.AcquireTokenPopup,r);try{this.logger.verbose("acquireTokenPopup called",r),this.preflightBrowserEnvironmentCheck(x.Popup)}catch(c){return Promise.reject(c)}var o=this.getAllAccounts();return this.eventHandler.emitEvent(o.length>0?B.ACQUIRE_TOKEN_START:B.LOGIN_START,x.Popup,t),(this.canUseNative(t)?this.acquireTokenNative(t,je.acquireTokenPopup).then(function(c){return e.browserStorage.setInteractionInProgress(!1),i.endMeasurement({success:!0,isNativeBroker:!0,requestId:c.requestId}),c}).catch(function(c){if(c instanceof Vr&&c.isFatal())return e.nativeExtensionProvider=void 0,e.createPopupClient(t.correlationId).acquireToken(t);if(c instanceof gr)return e.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),e.createPopupClient(t.correlationId).acquireToken(t);throw e.browserStorage.setInteractionInProgress(!1),c}):this.createPopupClient(t.correlationId).acquireToken(t)).then(function(c){var l=o.length<e.getAllAccounts().length;return e.eventHandler.emitEvent(l?B.LOGIN_SUCCESS:B.ACQUIRE_TOKEN_SUCCESS,x.Popup,c),i.addStaticFields({accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),i.endMeasurement({success:!0,requestId:c.requestId}),c}).catch(function(c){return e.eventHandler.emitEvent(o.length>0?B.ACQUIRE_TOKEN_FAILURE:B.LOGIN_FAILURE,x.Popup,null,c),i.endMeasurement({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),Promise.reject(c)})},n.prototype.trackPageVisibilityWithMeasurement=function(){var t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;!t||(this.logger.info("Perf: Visibility change detected in ",t.event.name),t.increment({visibilityChangeCount:1}))},n.prototype.ssoSilent=function(t){var e;return I(this,void 0,void 0,function(){var r,i,o,s,a=this;return D(this,function(c){return r=this.getRequestCorrelationId(t),i=z(z({},t),{prompt:t.prompt,correlationId:r}),this.preflightBrowserEnvironmentCheck(x.Silent),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(b.SsoSilent,r),null===(e=this.ssoSilentMeasurement)||void 0===e||e.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",r),this.eventHandler.emitEvent(B.SSO_SILENT_START,x.Silent,i),this.canUseNative(i)?o=this.acquireTokenNative(i,je.ssoSilent).catch(function(l){if(l instanceof Vr&&l.isFatal())return a.nativeExtensionProvider=void 0,a.createSilentIframeClient(i.correlationId).acquireToken(i);throw l}):(s=this.createSilentIframeClient(i.correlationId),o=s.acquireToken(i)),[2,o.then(function(l){var u,d;return a.eventHandler.emitEvent(B.SSO_SILENT_SUCCESS,x.Silent,l),null===(u=a.ssoSilentMeasurement)||void 0===u||u.addStaticFields({accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),null===(d=a.ssoSilentMeasurement)||void 0===d||d.endMeasurement({success:!0,isNativeBroker:l.fromNativeBroker,requestId:l.requestId}),l}).catch(function(l){var u;throw a.eventHandler.emitEvent(B.SSO_SILENT_FAILURE,x.Silent,null,l),null===(u=a.ssoSilentMeasurement)||void 0===u||u.endMeasurement({errorCode:l.errorCode,subErrorCode:l.subError,success:!1}),l}).finally(function(){document.removeEventListener("visibilitychange",a.trackPageVisibilityWithMeasurement)})]})})},n.prototype.acquireTokenByCode=function(t){return I(this,void 0,void 0,function(){var e,r,i,o,s=this;return D(this,function(a){e=this.getRequestCorrelationId(t),this.preflightBrowserEnvironmentCheck(x.Silent),this.logger.trace("acquireTokenByCode called",e),this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_BY_CODE_START,x.Silent,t),r=this.performanceClient.startMeasurement(b.AcquireTokenByCode,t.correlationId);try{if(t.code&&t.nativeAccountId)throw O.createSpaCodeAndNativeAccountIdPresentError();if(t.code)return(o=this.hybridAuthCodeResponses.get(i=t.code))?(this.logger.verbose("Existing acquireTokenByCode request found",t.correlationId),r.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",e),o=this.acquireTokenByCodeAsync(z(z({},t),{correlationId:e})).then(function(c){return s.eventHandler.emitEvent(B.ACQUIRE_TOKEN_BY_CODE_SUCCESS,x.Silent,c),s.hybridAuthCodeResponses.delete(i),r.addStaticFields({accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),r.endMeasurement({success:!0,isNativeBroker:c.fromNativeBroker,requestId:c.requestId}),c}).catch(function(c){throw s.hybridAuthCodeResponses.delete(i),s.eventHandler.emitEvent(B.ACQUIRE_TOKEN_BY_CODE_FAILURE,x.Silent,null,c),r.endMeasurement({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),c}),this.hybridAuthCodeResponses.set(i,o)),[2,o];if(t.nativeAccountId){if(this.canUseNative(t,t.nativeAccountId))return[2,this.acquireTokenNative(t,je.acquireTokenByCode,t.nativeAccountId).catch(function(c){throw c instanceof Vr&&c.isFatal()&&(s.nativeExtensionProvider=void 0),c})];throw O.createUnableToAcquireTokenFromNativePlatformError()}throw O.createAuthCodeOrNativeAccountIdRequiredError()}catch(c){throw this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_BY_CODE_FAILURE,x.Silent,null,c),r.endMeasurement({errorCode:c instanceof G&&c.errorCode||void 0,subErrorCode:c instanceof G&&c.subError||void 0,success:!1}),c}return[2]})})},n.prototype.acquireTokenByCodeAsync=function(t){var e;return I(this,void 0,void 0,function(){var o=this;return D(this,function(s){switch(s.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(b.AcquireTokenByCodeAsync,t.correlationId),null===(e=this.acquireTokenByCodeAsyncMeasurement)||void 0===e||e.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),[4,this.createSilentAuthCodeClient(t.correlationId).acquireToken(t).then(function(a){var c;return null===(c=o.acquireTokenByCodeAsyncMeasurement)||void 0===c||c.endMeasurement({success:!0,fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker,requestId:a.requestId}),a}).catch(function(a){var c;throw null===(c=o.acquireTokenByCodeAsyncMeasurement)||void 0===c||c.endMeasurement({errorCode:a.errorCode,subErrorCode:a.subError,success:!1}),a}).finally(function(){document.removeEventListener("visibilitychange",o.trackPageVisibilityWithMeasurement)})];case 1:return[2,s.sent()]}})})},n.prototype.acquireTokenFromCache=function(t,e,r){return I(this,void 0,void 0,function(){return D(this,function(i){switch(this.performanceClient.addQueueMeasurement(b.AcquireTokenFromCache,e.correlationId),r.cacheLookupPolicy){case hn.Default:case hn.AccessToken:case hn.AccessTokenAndRefreshToken:return[2,t.acquireToken(e)];default:throw F.createRefreshRequiredError()}return[2]})})},n.prototype.acquireTokenByRefreshToken=function(t,e){return I(this,void 0,void 0,function(){var r;return D(this,function(i){switch(this.performanceClient.addQueueMeasurement(b.AcquireTokenByRefreshToken,t.correlationId),e.cacheLookupPolicy){case hn.Default:case hn.AccessTokenAndRefreshToken:case hn.RefreshToken:case hn.RefreshTokenAndNetwork:return r=this.createSilentRefreshClient(t.correlationId),this.performanceClient.setPreQueueTime(b.SilentRefreshClientAcquireToken,t.correlationId),[2,r.acquireToken(t)];default:throw F.createRefreshRequiredError()}return[2]})})},n.prototype.acquireTokenBySilentIframe=function(t){return I(this,void 0,void 0,function(){var e;return D(this,function(r){return this.performanceClient.addQueueMeasurement(b.AcquireTokenBySilentIframe,t.correlationId),e=this.createSilentIframeClient(t.correlationId),this.performanceClient.setPreQueueTime(b.SilentIframeClientAcquireToken,t.correlationId),[2,e.acquireToken(t)]})})},n.prototype.logout=function(t){return I(this,void 0,void 0,function(){var e;return D(this,function(r){return e=this.getRequestCorrelationId(t),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",e),[2,this.logoutRedirect(z({correlationId:e},t))]})})},n.prototype.logoutRedirect=function(t){return I(this,void 0,void 0,function(){var e;return D(this,function(i){return e=this.getRequestCorrelationId(t),this.preflightBrowserEnvironmentCheck(x.Redirect),[2,this.createRedirectClient(e).logout(t)]})})},n.prototype.logoutPopup=function(t){try{var e=this.getRequestCorrelationId(t);return this.preflightBrowserEnvironmentCheck(x.Popup),this.createPopupClient(e).logout(t)}catch(i){return Promise.reject(i)}},n.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},n.prototype.getAccountByUsername=function(t){if(this.logger.trace("getAccountByUsername called"),!t)return this.logger.warning("getAccountByUsername: No username provided"),null;var e=this.browserStorage.getAccountInfoFilteredBy({username:t});return e?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: "+t),e):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},n.prototype.getAccountByHomeId=function(t){if(this.logger.trace("getAccountByHomeId called"),!t)return this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null;var e=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:t});return e?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: "+t),e):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},n.prototype.getAccountByLocalId=function(t){if(this.logger.trace("getAccountByLocalId called"),!t)return this.logger.warning("getAccountByLocalId: No localAccountId provided"),null;var e=this.browserStorage.getAccountInfoFilteredBy({localAccountId:t});return e?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: "+t),e):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},n.prototype.setActiveAccount=function(t){this.browserStorage.setActiveAccount(t)},n.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},n.prototype.preflightBrowserEnvironmentCheck=function(t,e){if(void 0===e&&(e=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),Ze.blockNonBrowserEnvironment(this.isBrowserEnvironment),Ze.blockRedirectInIframe(t,this.config.system.allowRedirectInIframe),Ze.blockReloadInHiddenIframes(),Ze.blockAcquireTokenInPopups(),Ze.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t===x.Redirect&&this.config.cache.cacheLocation===ht.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw wc.createInMemoryRedirectUnavailableError();(t===x.Redirect||t===x.Popup)&&this.preflightInteractiveRequest(e)},n.prototype.preflightInteractiveRequest=function(t){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),Ze.blockReloadInHiddenIframes(),t&&this.browserStorage.setInteractionInProgress(!0)},n.prototype.acquireTokenNative=function(t,e,r){return I(this,void 0,void 0,function(){return D(this,function(o){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw O.createNativeConnectionNotEstablishedError();return[2,new Vs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId).acquireToken(t)]})})},n.prototype.canUseNative=function(t,e){if(this.logger.trace("canUseNative called"),!Mo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case Bt.NONE:case Bt.CONSENT:case Bt.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+t.prompt+" is not compatible with native flow, returning false"),!1}return!(!e&&!this.getNativeAccountId(t)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))},n.prototype.getNativeAccountId=function(t){var e=t.account||this.browserStorage.getAccountInfoByHints(t.loginHint,t.sid)||this.getActiveAccount();return e&&e.nativeAccountId||""},n.prototype.createPopupClient=function(t){return new _z(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createRedirectClient=function(t){return new Cz(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createSilentIframeClient=function(t){return new wz(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,je.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createSilentCacheClient=function(t){return new BD(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.createSilentRefreshClient=function(t){return new bz(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.createSilentAuthCodeClient=function(t){return new Tz(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,je.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.addEventCallback=function(t){return this.eventHandler.addEventCallback(t)},n.prototype.removeEventCallback=function(t){this.eventHandler.removeEventCallback(t)},n.prototype.addPerformanceCallback=function(t){return this.performanceClient.addPerformanceCallback(t)},n.prototype.removePerformanceCallback=function(t){return this.performanceClient.removePerformanceCallback(t)},n.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},n.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},n.prototype.getTokenCache=function(){return this.tokenCache},n.prototype.getLogger=function(){return this.logger},n.prototype.setLogger=function(t){this.logger=t},n.prototype.initializeWrapperLibrary=function(t,e){this.browserStorage.setWrapperMetadata(t,e)},n.prototype.setNavigationClient=function(t){this.navigationClient=t},n.prototype.getConfiguration=function(){return this.config},n.prototype.getRequestCorrelationId=function(t){return t?.correlationId?t.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():v.EMPTY_STRING},n}()),Mz=function(){function n(){}return n.getInteractionStatusFromEvent=function(t,e){switch(t.eventType){case B.LOGIN_START:return wt.Login;case B.SSO_SILENT_START:return wt.SsoSilent;case B.ACQUIRE_TOKEN_START:if(t.interactionType===x.Redirect||t.interactionType===x.Popup)return wt.AcquireToken;break;case B.HANDLE_REDIRECT_START:return wt.HandleRedirect;case B.LOGOUT_START:return wt.Logout;case B.SSO_SILENT_SUCCESS:case B.SSO_SILENT_FAILURE:if(e&&e!==wt.SsoSilent)break;return wt.None;case B.LOGOUT_END:if(e&&e!==wt.Logout)break;return wt.None;case B.HANDLE_REDIRECT_END:if(e&&e!==wt.HandleRedirect)break;return wt.None;case B.LOGIN_SUCCESS:case B.LOGIN_FAILURE:case B.ACQUIRE_TOKEN_SUCCESS:case B.ACQUIRE_TOKEN_FAILURE:case B.RESTORE_FROM_BFCACHE:if(t.interactionType===x.Redirect||t.interactionType===x.Popup){if(e&&e!==wt.Login&&e!==wt.AcquireToken)break;return wt.None}}return null},n}();const Hg={now:()=>(Hg.delegate||Date).now(),delegate:void 0};class Rz extends et{constructor(t=1/0,e=1/0,r=Hg){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;e||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}class Tn extends et{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Hr(n){return ct((t,e)=>{let o,r=null,i=!1;r=t.subscribe(tt(e,void 0,void 0,s=>{o=An(n(s,Hr(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}const vd=ia(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function jg(...n){const t=sa(n),e=function by(n){return Fe(Ch(n))?n.pop():void 0}(n),{args:r,keys:i}=function $T(n){if(1===n.length){const t=n[0];if(t2(t))return{args:t,keys:null};if(function s2(n){return n&&"object"==typeof n&&n2(n)===r2}(t)){const e=o2(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}(n);if(0===r.length)return be([],t);const o=new Xe(function kz(n,t,e=Ei){return r=>{zD(t,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)zD(t,()=>{const l=be(n[c],t);let u=!1;l.subscribe(tt(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>function WT(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}(i,s):Ei));return e?o.pipe(function KT(n){return X(t=>function c2(n,t){return a2(t)?n(...t):n(t)}(n,t))}(e)):o}function zD(n,t,e){n?$r(e,n,t):t()}function yd(...n){return function Nz(){return Vo(1)}()(be(n,sa(n)))}function GD(n){return new Xe(t=>{An(n()).subscribe(t)})}function Hs(n,t){const e=Fe(n)?n:()=>n,r=i=>i.error(e());return new Xe(t?i=>t.schedule(r,0,i):r)}function zg(){return ct((n,t)=>{let e=null;n._refCount++;const r=tt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class Gg extends Xe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,sy(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new nn;const e=this.getSubject();t.add(this.source.subscribe(tt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=nn.EMPTY)}return t}refCount(){return zg()(this)}}function jr(n,t){return ct((e,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();e.subscribe(tt(r,c=>{i?.unsubscribe();let l=0;const u=o++;An(n(c,u)).subscribe(i=tt(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function qi(n){return n<=0?()=>Kr:ct((t,e)=>{let r=0;t.subscribe(tt(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function _d(...n){const t=sa(n);return ct((e,r)=>{(t?yd(n,e,t):yd(n,e)).subscribe(r)})}function Cd(n){return ct((t,e)=>{let r=!1;t.subscribe(tt(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function qD(n=Oz){return ct((t,e)=>{let r=!1;t.subscribe(tt(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function Oz(){return new vd}function $i(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Lt((i,o)=>n(i,o,r)):Ei,qi(1),e?Cd(t):qD(()=>new vd))}function Et(n,t,e){const r=Fe(n)||t||e?{next:n,error:t,complete:e}:n;return r?ct((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(tt(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Ei}function xz(n,t,e,r,i){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(tt(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function $D(n,t){return ct(xz(n,t,arguments.length>=2,!0))}function qg(n){return n<=0?()=>Kr:ct((t,e)=>{let r=[];t.subscribe(tt(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function KD(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Lt((i,o)=>n(i,o,r)):Ei,qg(1),e?Cd(t):qD(()=>new vd))}function wd(n){return ct((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const fe="primary",Ac=Symbol("RouteTitle");class Lz{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function js(n){return new Lz(n)}function Uz(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function zr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!WD(n[i],t[i]))return!1;return!0}function WD(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function QD(n){return Array.prototype.concat.apply([],n)}function YD(n){return n.length>0?n[n.length-1]:null}function jt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ki(n){return yp(n)?n:Fa(n)?be(Promise.resolve(n)):V(n)}const Hz={exact:function XD(n,t,e){if(!ko(n.segments,t.segments)||!bd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!XD(n.children[r],t.children[r],e))return!1;return!0},subset:eA},JD={exact:function jz(n,t){return zr(n,t)},subset:function zz(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>WD(n[e],t[e]))},ignored:()=>!0};function ZD(n,t,e){return Hz[e.paths](n.root,t.root,e.matrixParams)&&JD[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function eA(n,t,e){return tA(n,t,t.segments,e)}function tA(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!ko(i,e)||t.hasChildren()||!bd(i,e,r))}if(n.segments.length===e.length){if(!ko(n.segments,e)||!bd(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!eA(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ko(n.segments,i)&&bd(n.segments,i,r)&&n.children[fe])&&tA(n.children[fe],t,o,r)}}function bd(n,t,e){return t.every((r,i)=>JD[e](n[i].parameters,r.parameters))}class Ro{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=js(this.queryParams)),this._queryParamMap}toString(){return $z.serialize(this)}}class pe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,jt(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ed(this)}}class Mc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=js(this.parameters)),this._parameterMap}toString(){return oA(this)}}function ko(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let nA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:function(){return new Kg},providedIn:"root"}),n})();class Kg{parse(t){const e=new tG(t);return new Ro(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Rc(t.root,!0)}`,r=function Qz(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Sd(e)}=${Sd(i)}`).join("&"):`${Sd(e)}=${Sd(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function Kz(n){return encodeURI(n)}(t.fragment)}`:""}`}}const $z=new Kg;function Ed(n){return n.segments.map(t=>oA(t)).join("/")}function Rc(n,t){if(!n.hasChildren())return Ed(n);if(t){const e=n.children[fe]?Rc(n.children[fe],!1):"",r=[];return jt(n.children,(i,o)=>{o!==fe&&r.push(`${o}:${Rc(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function qz(n,t){let e=[];return jt(n.children,(r,i)=>{i===fe&&(e=e.concat(t(r,i)))}),jt(n.children,(r,i)=>{i!==fe&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===fe?[Rc(n.children[fe],!1)]:[`${i}:${Rc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[fe]?`${Ed(n)}/${e[0]}`:`${Ed(n)}/(${e.join("//")})`}}function rA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sd(n){return rA(n).replace(/%3B/gi,";")}function Wg(n){return rA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Td(n){return decodeURIComponent(n)}function iA(n){return Td(n.replace(/\+/g,"%20"))}function oA(n){return`${Wg(n.path)}${function Wz(n){return Object.keys(n).map(t=>`;${Wg(t)}=${Wg(n[t])}`).join("")}(n.parameters)}`}const Yz=/^[^\/()?;=#]+/;function Id(n){const t=n.match(Yz);return t?t[0]:""}const Jz=/^[^=?&#]+/,Xz=/^[^&#]+/;class tG{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[fe]=new pe(t,e)),r}parseSegment(){const t=Id(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new Mc(Td(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Id(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Id(this.remaining);i&&(r=i,this.capture(r))}t[Td(e)]=Td(r)}parseQueryParam(t){const e=function Zz(n){const t=n.match(Jz);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function eG(n){const t=n.match(Xz);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=iA(e),o=iA(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Id(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=fe);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[fe]:new pe([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}}function Qg(n){return n.segments.length>0?new pe([],{[fe]:n}):n}function Dd(n){const t={};for(const r of Object.keys(n.children)){const o=Dd(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function nG(n){if(1===n.numberOfChildren&&n.children[fe]){const t=n.children[fe];return new pe(n.segments.concat(t.segments),t.children)}return n}(new pe(n.segments,t))}function No(n){return n instanceof Ro}function oG(n,t,e,r,i){if(0===e.length)return zs(t.root,t.root,t.root,r,i);const o=function cA(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new aA(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return jt(o.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new aA(e,t,r)}(e);return o.toRoot()?zs(t.root,t.root,new pe([],{}),r,i):function s(c){const l=function aG(n,t,e,r){if(n.isAbsolute)return new Gs(t.root,!0,0);if(-1===r)return new Gs(e,e===t.root,0);return function lA(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new Gs(r,!1,i-o)}(e,r+(kc(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,c),u=l.processChildren?Oc(l.segmentGroup,l.index,o.commands):Jg(l.segmentGroup,l.index,o.commands);return zs(t.root,l.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function kc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nc(n){return"object"==typeof n&&null!=n&&n.outlets}function zs(n,t,e,r,i){let s,o={};r&&jt(r,(c,l)=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===t?e:sA(n,t,e);const a=Qg(Dd(s));return new Ro(a,o,i)}function sA(n,t,e){const r={};return jt(n.children,(i,o)=>{r[o]=i===t?e:sA(i,t,e)}),new pe(n.segments,r)}class aA{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&kc(r[0]))throw new E(4003,!1);const i=r.find(Nc);if(i&&i!==YD(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gs{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Jg(n,t,e){if(n||(n=new pe([],{})),0===n.segments.length&&n.hasChildren())return Oc(n,t,e);const r=function lG(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const s=n.segments[i],a=e[r];if(Nc(a))break;const c=`${a}`,l=r<e.length-1?e[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!dA(c,l,s))return o;r+=2}else{if(!dA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new pe(n.segments.slice(0,r.pathIndex),{});return o.children[fe]=new pe(n.segments.slice(r.pathIndex),n.children),Oc(o,0,i)}return r.match&&0===i.length?new pe(n.segments,{}):r.match&&!n.hasChildren()?Zg(n,t,e):r.match?Oc(n,0,i):Zg(n,t,e)}function Oc(n,t,e){if(0===e.length)return new pe(n.segments,{});{const r=function cG(n){return Nc(n[0])?n[0].outlets:{[fe]:n}}(e),i={};return jt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Jg(n.children[s],t,o))}),jt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new pe(n.segments,i)}}function Zg(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(Nc(o)){const c=uG(o.outlets);return new pe(r,c)}if(0===i&&kc(e[0])){r.push(new Mc(n.segments[t].path,uA(e[0]))),i++;continue}const s=Nc(o)?o.outlets[fe]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&kc(a)?(r.push(new Mc(s,uA(a))),i+=2):(r.push(new Mc(s,{})),i++)}return new pe(r,{})}function uG(n){const t={};return jt(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Zg(new pe([],{}),0,e))}),t}function uA(n){const t={};return jt(n,(e,r)=>t[r]=`${e}`),t}function dA(n,t,e){return n==e.path&&zr(t,e.parameters)}class yi{constructor(t,e){this.id=t,this.url=e}}class Xg extends yi{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oo extends yi{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ad extends yi{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hA extends yi{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dG extends yi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hG extends yi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fG extends yi{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pG extends yi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mG extends yi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gG{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vG{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yG{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _G{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CG{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wG{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fA{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ev(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=ev(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=tv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return tv(t,this._root).map(e=>e.value)}}function ev(n,t){if(n===t.value)return t;for(const e of t.children){const r=ev(n,e);if(r)return r}return null}function tv(n,t){if(n===t.value)return[t];for(const e of t.children){const r=tv(n,e);if(r.length)return r.unshift(t),r}return[]}class _i{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qs(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mA extends pA{constructor(t,e){super(t),this.snapshot=e,nv(this,t)}toString(){return this.snapshot.toString()}}function gA(n,t){const e=function EG(n,t){const s=new Md([],{},{},"",{},fe,t,null,n.root,-1,{});return new yA("",new _i(s,[]))}(n,t),r=new Tn([new Mc("",{})]),i=new Tn({}),o=new Tn({}),s=new Tn({}),a=new Tn(""),c=new xo(r,i,s,a,o,fe,t,e.root);return c.snapshot=e.root,new mA(new _i(c,[]),e)}class xo{constructor(t,e,r,i,o,s,a,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(X(l=>l[Ac]))??V(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(X(t=>js(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(X(t=>js(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vA(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function SG(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Md{constructor(t,e,r,i,o,s,a,c,l,u,d,h){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.[Ac],this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=js(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=js(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yA extends pA{constructor(t,e){super(e),this.url=t,nv(this,e)}toString(){return _A(this._root)}}function nv(n,t){t.value._routerState=n,t.children.forEach(e=>nv(n,e))}function _A(n){const t=n.children.length>0?` { ${n.children.map(_A).join(", ")} } `:"";return`${n.value}${t}`}function rv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,zr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),zr(t.params,e.params)||n.params.next(e.params),function Bz(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!zr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),zr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function iv(n,t){const e=zr(n.params,t.params)&&function Gz(n,t){return ko(n,t)&&n.every((e,r)=>zr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||iv(n.parent,t.parent))}function xc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function IG(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return xc(n,r,i);return xc(n,r)})}(n,t,e);return new _i(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>xc(n,a)),s}}const r=function DG(n){return new xo(new Tn(n.url),new Tn(n.params),new Tn(n.queryParams),new Tn(n.fragment),new Tn(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>xc(n,o));return new _i(r,i)}}const ov="ngNavigationCancelingError";function CA(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=No(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=wA(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function wA(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[ov]=!0,r.cancellationCode=t,e&&(r.url=e),r}function bA(n){return EA(n)&&No(n.url)}function EA(n){return n&&n[ov]}class AG{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Pc,this.attachRef=null}}let Pc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new AG,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rd=!1;let sv=(()=>{class n{constructor(e,r,i,o,s){this.parentContexts=e,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.name=i||fe,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,Rd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,Rd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,Rd);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new E(4013,Rd);this._activatedRoute=e;const i=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new MG(e,a,i.injector);if(r&&function RG(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(s);this.activated=i.createComponent(l,i.length,c)}else this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(_(Pc),_(Qt),Jo("name"),_(po),_(Ri))},n.\u0275dir=R({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class MG{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===xo?this.route:t===Pc?this.childContexts:this.parent.get(t,e)}}let av=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=nt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Qb],decls:1,vars:0,template:function(e,r){1&e&&Qn(0,"router-outlet")},dependencies:[sv],encapsulation:2}),n})();function SA(n,t){return n.providers&&!n._injector&&(n._injector=ru(n.providers,t,`Route: ${n.path}`)),n._injector??t}function lv(n){const t=n.children&&n.children.map(lv),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==fe&&(e.component=av),e}function tr(n){return n.outlet||fe}function TA(n,t){const e=n.filter(r=>tr(r)===t);return e.push(...n.filter(r=>tr(r)!==t)),e}function Fc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class PG{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),rv(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=qs(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),jt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=qs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=qs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=qs(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wG(o.value.snapshot))}),t.children.length&&this.forwardEvent(new _G(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(rv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rv(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Fc(i.snapshot),c=a?.get(Ra)??null;s.attachRef=null,s.route=i,s.resolver=c,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class IA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class kd{constructor(t,e){this.component=t,this.route=e}}function FG(n,t,e){const r=n._root;return Lc(r,t?t._root:null,e,[r.value])}function $s(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function nR(n){return null!==il(n)}(n)?t.get(n):n:r}function Lc(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=qs(t);return n.children.forEach(s=>{(function UG(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function BG(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ko(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ko(n.url,t.url)||!zr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iv(n,t)||!zr(n.queryParams,t.queryParams);default:return!iv(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new IA(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Lc(n,t,o.component?a?a.children:null:e,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new kd(a.outlet.component,s))}else s&&Uc(t,a,i),i.canActivateChecks.push(new IA(r)),Lc(n,null,o.component?a?a.children:null:e,r,i)})(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),jt(o,(s,a)=>Uc(s,e.getContext(a),i)),i}function Uc(n,t,e){const r=qs(n),i=n.value;jt(r,(o,s)=>{Uc(o,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new kd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Bc(n){return"function"==typeof n}function uv(n){return n instanceof vd||"EmptyError"===n?.name}const Nd=Symbol("INITIAL_VALUE");function Ks(){return jr(n=>jg(n.map(t=>t.pipe(qi(1),_d(Nd)))).pipe(X(t=>{for(const e of t)if(!0!==e){if(e===Nd)return Nd;if(!1===e||e instanceof Ro)return e}return!0}),Lt(t=>t!==Nd),qi(1)))}function DA(n){return function a0(...n){return ry(n)}(Et(t=>{if(No(t))throw CA(0,t)}),X(t=>!0===t))}const dv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AA(n,t,e,r,i){const o=hv(n,t,e);return o.matched?function nq(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?V(i.map(s=>{const a=$s(s,n);return Ki(function qG(n){return n&&Bc(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Ks(),DA()):V(!0)}(r=SA(t,r),t,e).pipe(X(s=>!0===s?o:{...dv})):V(o)}function hv(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...dv}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Uz)(e,n,t);if(!i)return{...dv};const o={};jt(i.posParams,(a,c)=>{o[c]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Od(n,t,e,r,i="corrected"){if(e.length>0&&function oq(n,t,e){return e.some(r=>xd(n,t,r)&&tr(r)!==fe)}(n,e,r)){const s=new pe(t,function iq(n,t,e,r){const i={};i[fe]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&tr(o)!==fe){const s=new pe([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,i[tr(o)]=s}return i}(n,t,r,new pe(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function sq(n,t,e){return e.some(r=>xd(n,t,r))}(n,e,r)){const s=new pe(n.segments,function rq(n,t,e,r,i,o){const s={};for(const a of r)if(xd(n,e,a)&&!i[tr(a)]){const c=new pe([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[tr(a)]=c}return{...i,...s}}(n,t,e,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new pe(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function xd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function MA(n,t,e,r){return!!(tr(n)===r||r!==fe&&xd(t,e,n))&&("**"===n.path||hv(t,n,e).matched)}function RA(n,t,e){return 0===t.length&&!n.children[e]}const Pd=!1;class Fd{constructor(t){this.segmentGroup=t||null}}class kA{constructor(t){this.urlTree=t}}function Vc(n){return Hs(new Fd(n))}function NA(n){return Hs(new kA(n))}class uq{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=Od(this.urlTree.root,[],[],this.config).segmentGroup,e=new pe(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,fe).pipe(X(o=>this.createUrlTree(Dd(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hr(o=>{if(o instanceof kA)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Fd?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,fe).pipe(X(i=>this.createUrlTree(Dd(i),t.queryParams,t.fragment))).pipe(Hr(i=>{throw i instanceof Fd?this.noMatchError(i):i}))}noMatchError(t){return new E(4002,Pd)}createUrlTree(t,e,r){const i=Qg(t);return new Ro(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(X(o=>new pe([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return be(i).pipe(Pr(o=>{const s=r.children[o],a=TA(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(X(c=>({segment:c,outlet:o})))}),$D((o,s)=>(o[s.outlet]=s.segment,o),{}),KD())}expandSegment(t,e,r,i,o,s){return be(r).pipe(Pr(a=>this.expandSegmentAgainstRoute(t,e,r,a,i,o,s).pipe(Hr(l=>{if(l instanceof Fd)return V(null);throw l}))),$i(a=>!!a),Hr((a,c)=>{if(uv(a))return RA(e,i,o)?V(new pe([],{})):Vc(e);throw a}))}expandSegmentAgainstRoute(t,e,r,i,o,s,a){return MA(i,e,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s):Vc(e):Vc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?NA(o):this.lineralizeSegments(r,o).pipe(Pt(s=>{const a=new pe(s,{});return this.expandSegment(t,a,e,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=hv(e,i,o);if(!a)return Vc(e);const d=this.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?NA(d):this.lineralizeSegments(i,d).pipe(Pt(h=>this.expandSegment(t,e,r,h.concat(l),s,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=SA(r,t),r.loadChildren?(r._loadedRoutes?V({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(X(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new pe(i,{})))):V(new pe(i,{}))):AA(e,r,i,t).pipe(jr(({matched:s,consumedSegments:a,remainingSegments:c})=>s?this.getChildConfig(t=r._injector??t,r,i).pipe(Pt(u=>{const d=u.injector??t,h=u.routes,{segmentGroup:f,slicedSegments:p}=Od(e,a,c,h),m=new pe(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(X(C=>new pe(a,C)));if(0===h.length&&0===p.length)return V(new pe(a,{}));const g=tr(r)===o;return this.expandSegment(d,m,h,p,g?fe:o,!0).pipe(X(w=>new pe(a.concat(w.segments),w.children)))})):Vc(e)))}getChildConfig(t,e,r){return e.children?V({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?V({routes:e._loadedRoutes,injector:e._loadedInjector}):function tq(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?V(!0):V(i.map(s=>{const a=$s(s,n);return Ki(function HG(n){return n&&Bc(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Ks(),DA())}(t,e,r).pipe(Pt(i=>i?this.configLoader.loadChildren(t,e).pipe(Et(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function cq(n){return Hs(wA(Pd,3))}())):V({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return V(r);if(i.numberOfChildren>1||!i.children[fe])return Hs(new E(4e3,Pd));i=i.children[fe]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new Ro(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return jt(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let s={};return jt(e.children,(a,c)=>{s[c]=this.createSegmentGroup(t,a,r,i)}),new pe(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new E(4001,Pd);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class hq{}class mq{constructor(t,e,r,i,o,s,a,c){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=c}recognize(){const t=Od(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,fe).pipe(X(e=>{if(null===e)return null;const r=new Md([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new _i(r,e),o=new yA(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=vA(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return be(Object.keys(r.children)).pipe(Pr(i=>{const o=r.children[i],s=TA(e,i);return this.processSegmentGroup(t,s,o,i)}),$D((i,o)=>i&&o?(i.push(...o),i):null),function Pz(n,t=!1){return ct((e,r)=>{let i=0;e.subscribe(tt(r,o=>{const s=n(o,i++);(s||t)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),Cd(null),KD(),X(i=>{if(null===i)return null;const o=OA(i);return function gq(n){n.sort((t,e)=>t.value.outlet===fe?-1:e.value.outlet===fe?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return be(e).pipe(Pr(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,i,o)),$i(s=>!!s),Hr(s=>{if(uv(s))return RA(r,i,o)?V([]):V(null);throw s}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!MA(e,r,i,o))return V(null);let s;if("**"===e.path){const a=i.length>0?YD(i).parameters:{},c=PA(r)+i.length;s=V({snapshot:new Md(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LA(e),tr(e),e.component??e._loadedComponent??null,e,xA(r),c,UA(e),c),consumedSegments:[],remainingSegments:[]})}else s=AA(r,e,i,t).pipe(X(({matched:a,consumedSegments:c,remainingSegments:l,parameters:u})=>{if(!a)return null;const d=PA(r)+c.length;return{snapshot:new Md(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LA(e),tr(e),e.component??e._loadedComponent??null,e,xA(r),d,UA(e),d),consumedSegments:c,remainingSegments:l}}));return s.pipe(jr(a=>{if(null===a)return V(null);const{snapshot:c,consumedSegments:l,remainingSegments:u}=a;t=e._injector??t;const d=e._loadedInjector??t,h=function vq(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:f,slicedSegments:p}=Od(r,l,u,h.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(X(g=>null===g?null:[new _i(c,g)]));if(0===h.length&&0===p.length)return V([new _i(c,[])]);const m=tr(e)===o;return this.processSegment(d,h,f,p,m?fe:o).pipe(X(g=>null===g?null:[new _i(c,g)]))}))}}function yq(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function OA(n){const t=[],e=new Set;for(const r of n){if(!yq(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=OA(r.children);t.push(new _i(r.value,i))}return t.filter(r=>!e.has(r))}function xA(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function PA(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function LA(n){return n.data||{}}function UA(n){return n.resolve||{}}function BA(n){return"string"==typeof n.title||null===n.title}function fv(n){return jr(t=>{const e=n(t);return e?be(e).pipe(X(()=>t)):V(t)})}let VA=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===fe);return r}getResolvedTitleForRoute(e){return e.data[Ac]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=H({token:n,factory:function(){return Qe(HA)},providedIn:"root"}),n})(),HA=(()=>{class n extends VA{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(S(eT))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Iq{}class Aq extends class Dq{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ud=new N("",{providedIn:"root",factory:()=>({})}),pv=new N("ROUTES");let mv=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return V(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Ki(e.loadComponent()).pipe(Et(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),wd(()=>{this.componentLoaders.delete(e)})),i=new Gg(r,()=>new et).pipe(zg());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(X(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,l,u=!1;Array.isArray(a)?l=a:(c=a.create(e).injector,l=QD(c.get(pv,[],Y.Self|Y.Optional)));return{routes:l.map(lv),injector:c}}),wd(()=>{this.childrenLoaders.delete(r)})),s=new Gg(o,()=>new et).pipe(zg());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return Ki(e()).pipe(Pt(r=>r instanceof Kb||Array.isArray(r)?V(r):be(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(S(gn),S(jp))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Rq{}class kq{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Nq(n){throw n}function Oq(n,t,e){return t.parse("/")}const xq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function zA(){const n=Qe(nA),t=Qe(Pc),e=Qe(Ya),r=Qe(gn),i=Qe(jp),o=Qe(pv,{optional:!0})??[],s=Qe(Ud,{optional:!0})??{},a=Qe(HA),c=Qe(VA,{optional:!0}),l=Qe(Rq,{optional:!0}),u=Qe(Iq,{optional:!0}),d=new Ot(null,n,t,e,r,i,QD(o));return l&&(d.urlHandlingStrategy=l),u&&(d.routeReuseStrategy=u),d.titleStrategy=c??a,function Fq(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let Ot=(()=>{class n{constructor(e,r,i,o,s,a,c){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new et,this.errorHandler=Nq,this.malformedUriErrorHandler=Oq,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>V(void 0),this.urlHandlingStrategy=new kq,this.routeReuseStrategy=new Aq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(mv),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new vG(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new gG(h)),this.ngModule=s.get(ho),this.console=s.get(BL);const d=s.get(ke);this.isNgZoneEnabled=d instanceof ke&&ke.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function Vz(){return new Ro(new pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gA(this.currentUrlTree,this.rootComponentType),this.transitions=new Tn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Lt(i=>0!==i.id),X(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),jr(i=>{let o=!1,s=!1;return V(i).pipe(Et(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),jr(a=>{const c=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return GA(a.source)&&(this.browserUrlTree=a.extractedUrl),V(a).pipe(jr(d=>{const h=this.transitions.getValue();return r.next(new Xg(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Kr:Promise.resolve(d)}),function dq(n,t,e,r){return jr(i=>function lq(n,t,e,r,i){return new uq(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(X(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Et(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function Cq(n,t,e,r,i,o){return Pt(s=>function pq(n,t,e,r,i,o,s="emptyOnly",a="legacy"){return new mq(n,t,e,r,i,s,a,o).recognize().pipe(jr(c=>null===c?function fq(n){return new Xe(t=>t.error(n))}(new hq):V(c)))}(n,t,e,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(X(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Et(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new dG(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,y=new Xg(h,this.serializeUrl(f),p,m);r.next(y);const w=gA(f,this.rootComponentType).snapshot;return V(i={...a,targetSnapshot:w,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Kr}),Et(a=>{const c=new hG(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),X(a=>i={...a,guards:FG(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function KG(n,t){return Pt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?V({...e,guardsResult:!0}):function WG(n,t,e,r){return be(n).pipe(Pt(i=>function eq(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?V(o.map(a=>{const c=Fc(t)??i,l=$s(a,c);return Ki(function GG(n){return n&&Bc(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,r):c.runInContext(()=>l(n,t,e,r))).pipe($i())})).pipe(Ks()):V(!0)}(i.component,i.route,e,t,r)),$i(i=>!0!==i,!0))}(s,r,i,n).pipe(Pt(a=>a&&function VG(n){return"boolean"==typeof n}(a)?function QG(n,t,e,r){return be(t).pipe(Pr(i=>yd(function JG(n,t){return null!==n&&t&&t(new yG(n)),V(!0)}(i.route.parent,r),function YG(n,t){return null!==n&&t&&t(new CG(n)),V(!0)}(i.route,r),function XG(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function LG(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>GD(()=>V(s.guards.map(c=>{const l=Fc(s.node)??e,u=$s(c,l);return Ki(function zG(n){return n&&Bc(n.canActivateChild)}(u)?u.canActivateChild(r,n):l.runInContext(()=>u(r,n))).pipe($i())})).pipe(Ks())));return V(o).pipe(Ks())}(n,i.path,e),function ZG(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return V(!0);const i=r.map(o=>GD(()=>{const s=Fc(t)??e,a=$s(o,s);return Ki(function jG(n){return n&&Bc(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe($i())}));return V(i).pipe(Ks())}(n,i.route,e))),$i(i=>!0!==i,!0))}(r,o,n,t):V(a)),X(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Et(a=>{if(i.guardsResult=a.guardsResult,No(a.guardsResult))throw CA(0,a.guardsResult);const c=new fG(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Lt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),fv(a=>{if(a.guards.canActivateChecks.length)return V(a).pipe(Et(c=>{const l=new pG(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}),jr(c=>{let l=!1;return V(c).pipe(function wq(n,t){return Pt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return V(e);let o=0;return be(i).pipe(Pr(s=>function bq(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!BA(i)&&(o[Ac]=i.title),function Eq(n,t,e,r){const i=function Sq(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return V({});const o={};return be(i).pipe(Pt(s=>function Tq(n,t,e,r){const i=Fc(t)??r,o=$s(n,i);return Ki(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[s],t,e,r).pipe($i(),Et(a=>{o[s]=a}))),qg(1),function Fz(n){return X(()=>n)}(o),Hr(s=>uv(s)?Kr:Hs(s)))}(o,n,t,r).pipe(X(s=>(n._resolvedData=s,n.data=vA(n,e).resolve,i&&BA(i)&&(n.data[Ac]=i.title),null)))}(s.route,r,n,t)),Et(()=>o++),qg(1),Pt(s=>o===i.length?V(e):Kr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Et({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),Et(c=>{const l=new mG(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}))}),fv(a=>{const c=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Et(d=>{l.component=d}),X(()=>{})));for(const d of l.children)u.push(...c(d));return u};return jg(c(a.targetSnapshot.root)).pipe(Cd(),qi(1))}),fv(()=>this.afterPreactivation()),X(a=>{const c=function TG(n,t,e){const r=xc(n,t._root,e?e._root:void 0);return new mA(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:c}}),Et(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>X(r=>(new PG(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Et({next(){o=!0},complete(){o=!0}}),wd(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Hr(a=>{if(s=!0,EA(a)){bA(a)||(this.navigated=!0,this.restoreHistory(i,!0));const c=new Ad(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(c),bA(a)){const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||GA(i.source)};this.scheduleNavigation(l,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new hA(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(c);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Kr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(lv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=i||this.routerState.root,u=c?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),oG(l,this.currentUrlTree,e,d,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=No(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function Lq(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new E(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...xq}:!1===r?{...Pq}:r,No(e))return ZD(this.currentUrlTree,e,i);const o=this.parseUrl(e);return ZD(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Oo(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,f)=>{a=h,c=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const o=new Ad(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){$f()},n.\u0275prov=H({token:n,factory:function(){return zA()},providedIn:"root"}),n})();function GA(n){return"imperative"!==n}let Vd=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new et,this.subscription=e.events.subscribe(o=>{o instanceof Oo&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=ai(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=ai(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=ai(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,o,s){return!!(0!==e||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(_(Ot),_(xo),_(go))},n.\u0275dir=R({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&Nt("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&vn("target",r.target)("href",r.href,kf)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[qt]}),n})();class qA{}let Vq=(()=>{class n{constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(e=>e instanceof Oo),Pr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=ru(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return be(i).pipe(Vo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):V(null);const o=i.pipe(Pt(s=>null===s?V(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?be([o,this.loader.loadComponent(r)]).pipe(Vo()):o})}}return n.\u0275fac=function(e){return new(e||n)(S(Ot),S(jp),S(Ri),S(qA),S(mv))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vv=new N("");let $A=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Xg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Oo&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof fA&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new fA(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){$f()},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function Ws(n,t){return{\u0275kind:n,\u0275providers:t}}function yv(n){return[{provide:pv,multi:!0,useValue:n}]}function WA(){const n=Qe(gn);return t=>{const e=n.get(Wa);if(t!==e.components[0])return;const r=n.get(Ot),i=n.get(QA);1===n.get(_v)&&r.initialNavigation(),n.get(YA,null,Y.Optional)?.setUpPreloading(),n.get(vv,null,Y.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const QA=new N("",{factory:()=>new et}),_v=new N("",{providedIn:"root",factory:()=>1});const YA=new N("");function Gq(n){return Ws(0,[{provide:YA,useExisting:Vq},{provide:qA,useExisting:n}])}const JA=new N("ROUTER_FORROOT_GUARD"),qq=[Ya,{provide:nA,useClass:Kg},{provide:Ot,useFactory:zA},Pc,{provide:xo,useFactory:function KA(n){return n.routerState.root},deps:[Ot]},mv];function $q(){return new zE("Router",Ot)}let ZA=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[qq,[],yv(e),{provide:JA,useFactory:Yq,deps:[[Ot,new Mi,new is]]},{provide:Ud,useValue:r||{}},r?.useHash?{provide:go,useClass:A1}:{provide:go,useClass:pS},{provide:vv,useFactory:()=>{const n=Qe(Ot),t=Qe(QU),e=Qe(Ud);return e.scrollOffset&&t.setOffset(e.scrollOffset),new $A(n,t,e)}},r?.preloadingStrategy?Gq(r.preloadingStrategy).\u0275providers:[],{provide:zE,multi:!0,useFactory:$q},r?.initialNavigation?Jq(r):[],[{provide:XA,useFactory:WA},{provide:FE,multi:!0,useExisting:XA}]]}}static forChild(e){return{ngModule:n,providers:[yv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(S(JA,8))},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[av]}),n})();function Yq(n){return"guarded"}function Jq(n){return["disabled"===n.initialNavigation?Ws(3,[{provide:au,multi:!0,useFactory:()=>{const t=Qe(Ot);return()=>{t.setUpLocationChangeListener()}}},{provide:_v,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ws(2,[{provide:_v,useValue:0},{provide:au,multi:!0,deps:[gn],useFactory:t=>{const e=t.get(I1,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(o=>{const s=t.get(Ot),a=t.get(QA);(function i(o){t.get(Ot).events.pipe(Lt(a=>a instanceof Oo||a instanceof Ad||a instanceof hA),X(a=>a instanceof Oo||a instanceof Ad&&(0===a.code||1===a.code)&&null),Lt(a=>null!==a),qi(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),s.afterPreactivation=()=>(o(!0),r||a.closed?V(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const XA=new N(""),zd=new N("MSAL_INSTANCE"),Gd=new N("MSAL_GUARD_CONFIG"),Xq=new N("MSAL_INTERCEPTOR_CONFIG"),e$=new N("MSAL_BROADCAST_CONFIG"),eM="@azure/msal-angular",Cv="2.5.11";let bv,Po=(()=>{class n{constructor(e,r){this.instance=e,this.location=r;const i=this.location.path(!0).split("#").pop();i&&(this.redirectHash=`#${i}`),this.instance.initializeWrapperLibrary(cd.Angular,Cv)}initialize(){return be(this.instance.initialize())}acquireTokenPopup(e){return be(this.instance.acquireTokenPopup(e))}acquireTokenRedirect(e){return be(this.instance.acquireTokenRedirect(e))}acquireTokenSilent(e){return be(this.instance.acquireTokenSilent(e))}handleRedirectObservable(e){return be(this.instance.handleRedirectPromise(e||this.redirectHash))}loginPopup(e){return be(this.instance.loginPopup(e))}loginRedirect(e){return be(this.instance.loginRedirect(e))}logout(e){return be(this.instance.logout(e))}logoutRedirect(e){return be(this.instance.logoutRedirect(e))}logoutPopup(e){return be(this.instance.logoutPopup(e))}ssoSilent(e){return be(this.instance.ssoSilent(e))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(eM,Cv)),this.logger}setLogger(e){this.logger=e.clone(eM,Cv),this.instance.setLogger(e)}}return n.\u0275fac=function(e){return new(e||n)(S(zd),S(Ya))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Hc=(()=>{class n{constructor(e,r,i){this.msalInstance=e,this.authService=r,this.msalBroadcastConfig=i,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - replayPastEvents set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new Rz(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new et,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new Tn(wt.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(o=>{this._msalSubject.next(o);const s=Mz.getInteractionStatusFromEvent(o,this._inProgress.value);null!==s&&(this.authService.getLogger().verbose(`BroadcastService - ${o.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return n.\u0275fac=function(e){return new(e||n)(S(zd),S(Po),S(e$,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),wv=(()=>{class n{constructor(e,r,i,o,s){this.msalGuardConfig=e,this.msalBroadcastService=r,this.authService=i,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(e){return this.router.parseUrl(e)}getDestinationUrl(e){this.authService.getLogger().verbose("Guard - getting destination url");const r=document.getElementsByTagName("base"),i=this.location.normalize(r.length?r[0].href:window.location.origin),o=this.location.prepareExternalUrl(e);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${i}/${o}`):`${i}${e}`}loginInteractively(e){const r="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,e):Object.assign({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===x.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(X(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const i=this.getDestinationUrl(e.url);return this.authService.loginRedirect(Object.assign({redirectStartPage:i},r)).pipe(X(()=>!1))}activateHelper(e){if(this.msalGuardConfig.interactionType!==x.Popup&&this.msalGuardConfig.interactionType!==x.Redirect)throw new wc("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),!(typeof window<"u"))return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),V(!0);if(ge.hashContainsKnownProperties(window.location.hash)&&Ze.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),V(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const r=this.location.path(!0);return this.authService.handleRedirectObservable().pipe(Pr(()=>{if(!this.authService.instance.getAllAccounts().length)return e?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(e)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),V(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),e){const i=this.includesCode(e.url),o=!!e.root&&!!e.root.fragment&&this.includesCode(`#${e.root.fragment}`),s=0===this.location.prepareExternalUrl(e.url).indexOf("#");if(i&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?V(this.parseUrl(this.location.path())):V(this.parseUrl(""))}return V(!0)}),Hr(i=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${i.message}`),this.loginFailedRoute&&parseInt(EC.major,10)>9&&e?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),V(this.loginFailedRoute)):V(!1))))}includesCode(e){return e.lastIndexOf("/code")>-1&&e.lastIndexOf("/code")===e.length-5||e.indexOf("#code=")>-1||e.indexOf("&code=")>-1}canActivate(e,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(e,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canLoad(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(e){return new(e||n)(S(Gd),S(Hc),S(Po),S(Ya),S(Ot))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),tM=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.authService.getLogger().verbose("MsalRedirectComponent activated"),this.authService.initialize().pipe(Pr(()=>this.authService.handleRedirectObservable())).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(_(Po))},n.\u0275cmp=nt({type:n,selectors:[["app-redirect"]],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),t$=(()=>{class n{static forRoot(e,r,i){return{ngModule:n,providers:[{provide:zd,useValue:e},{provide:Gd,useValue:r},{provide:Xq,useValue:i},Po]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({providers:[wv,Hc],imports:[gm]}),n})();try{bv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{bv=!1}let jc,Sv,Wi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function WU(n){return n===kS}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(S(lu))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ev(n){return function n$(){if(null==jc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jc=!0}))}finally{jc=jc||!1}return jc}()?n:!!n.capture}function zc(n){return n.composedPath?n.composedPath()[0]:n.target}class w$ extends nn{constructor(t,e){super()}schedule(t,e=0){return this}}const $d={setInterval(n,t,...e){const{delegate:r}=$d;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=$d;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Iv extends w${constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return $d.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&$d.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Bo(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}class Gc{constructor(t,e=Gc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Gc.now=Hg.now;class Dv extends Gc{constructor(t,e=Gc.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const Av=new Dv(Iv),b$=Av;function aM(n){return Lt((t,e)=>n<=e)}function S$(n,t){return n===t}function In(n){return ct((t,e)=>{An(n).subscribe(tt(e,()=>e.complete(),uh)),!e.closed&&t.subscribe(e)})}function Gr(n){return null!=n&&"false"!=`${n}`}function cM(n){return Array.isArray(n)?n:[n]}function qc(n){return n instanceof Ue?n.nativeElement:n}const lM=new Set;let Ys,I$=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):A$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function D$(n){if(!lM.has(n))try{Ys||(Ys=document.createElement("style"),Ys.setAttribute("type","text/css"),document.head.appendChild(Ys)),Ys.sheet&&(Ys.sheet.insertRule(`@media ${n} {body{ }}`,0),lM.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(S(Wi))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let M$=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new et}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return uM(cM(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=jg(uM(cM(e)).map(s=>this._registerQuery(s).observable));return o=yd(o.pipe(qi(1)),o.pipe(aM(1),function sM(n,t=Av){return ct((e,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+n,u=t.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}e.subscribe(tt(r,l=>{o=l,s=t.now(),i||(i=t.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(X(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new Xe(s=>{const a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(_d(r),X(({matches:s})=>({query:e,matches:s})),In(this._destroySubject)),mql:r};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(S(I$),S(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uM(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function pM(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function mM(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const B$=new N("cdk-input-modality-detector-options"),V$={ignoreKeys:[18,17,224,91,16]},Js=Ev({passive:!0,capture:!0});let H$=(()=>{class n{constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Tn(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(pM(s)?"keyboard":"mouse"),this._mostRecentTarget=zc(s))},this._onTouchstart=s=>{mM(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zc(s))},this._options={...V$,...o},this.modalityDetected=this._modality.pipe(aM(1)),this.modalityChanged=this.modalityDetected.pipe(function E$(n,t=Ei){return n=n??S$,ct((e,r)=>{let i,o=!0;e.subscribe(tt(r,s=>{const a=t(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Js),i.addEventListener("mousedown",this._onMousedown,Js),i.addEventListener("touchstart",this._onTouchstart,Js)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Js),document.removeEventListener("mousedown",this._onMousedown,Js),document.removeEventListener("touchstart",this._onTouchstart,Js))}}return n.\u0275fac=function(e){return new(e||n)(S(Wi),S(ke),S(Ne),S(B$,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z$=new N("cdk-focus-monitor-default-options"),Kd=Ev({passive:!0,capture:!0});let Mv=(()=>{class n{constructor(e,r,i,o,s){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new et,this._rootNodeFocusAndBlurListener=a=>{for(let l=zc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,r=!1){const i=qc(e);if(!this._platform.isBrowser||1!==i.nodeType)return V(null);const o=function i$(n){if(function r$(){if(null==Sv){const n=typeof document<"u"?document.head:null;Sv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Sv}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new et,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const r=qc(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=qc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=zc(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kd)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(In(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(S(ke),S(Wi),S(H$),S(Ne,8),S(z$,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vM="cdk-high-contrast-black-on-white",yM="cdk-high-contrast-white-on-black",Rv="cdk-high-contrast-active";let G$=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=Qe(M$).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Rv,vM,yM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Rv,vM):2===r&&e.add(Rv,yM)}}}return n.\u0275fac=function(e){return new(e||n)(S(Wi),S(Ne))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q$=new N("cdk-dir-doc",{providedIn:"root",factory:function $$(){return Qe(Ne)}}),K$=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Q$=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new $e,e){const i=e.documentElement?e.documentElement.dir:null;this.value=function W$(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?K$.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(S(q$,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({}),n})();const J$=new N("mat-sanity-checks",{providedIn:"root",factory:function Y$(){return!0}});let Mt=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function o$(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(S(G$),S(J$,8),S(Ne))},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[Wd,Wd]}),n})();function Z$(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Gr(t)}}}function wM(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function kv(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Gr(t)}}}let bM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[Mt,Mt]}),n})();class n4{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const EM={enterDuration:225,exitDuration:150},Nv=Ev({passive:!0}),SM=["mousedown","touchstart"],TM=["mouseup","mouseleave","touchend","touchcancel"];class i4{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=qc(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...EM,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=r.radius||function o4(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),a=t-i.left,c=e-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f,m=new n4(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const y=()=>this._finishRippleTransition(m),w=()=>this._destroyRipple(m);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",w),g={onTransitionEnd:y,onTransitionCancel:w}}),this._activeRipples.set(m,g),(p||!l)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...EM,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=qc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(SM))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(TM),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=pM(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!mM(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Nv)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(SM.forEach(t=>{this._triggerElement.removeEventListener(t,this,Nv)}),this._pointerUpEventsRegistered&&TM.forEach(t=>{this._triggerElement.removeEventListener(t,this,Nv)}))}}const s4=new N("mat-ripple-global-options");let Qd=(()=>{class n{constructor(e,r,i,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new i4(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(_(Ue),_(ke),_(Wi),_(s4,8),_(fo,8))},n.\u0275dir=R({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Wt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),IM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[Mt,Mt]}),n})(),DM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[Mt]}),n})();const AM=["mat-button",""],MM=["*"],u4=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],d4=wM(Z$(kv(class{constructor(n){this._elementRef=n}})));let RM=(()=>{class n extends d4{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of u4)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(_(Ue),_(Mv),_(fo,8))},n.\u0275cmp=nt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&kr(Qd,5),2&e){let i;Ye(i=Je())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(vn("disabled",r.disabled||null),Wt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[q],attrs:AM,ngContentSelectors:MM,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(ii(),ye(0,"span",0),yn(1),Ce(),Qn(2,"span",1)(3,"span",2)),2&e&&(ot(2),Wt("mat-button-ripple-round",r.isRoundButton||r.isIconButton),It("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Qd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),h4=(()=>{class n extends RM{constructor(e,r,i,o){super(r,e,i),this._ngZone=o,this._haltDisabledEvents=s=>{this.disabled&&(s.preventDefault(),s.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(_(Mv),_(Ue),_(fo,8),_(ke,8))},n.\u0275cmp=nt({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,r){2&e&&(vn("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),Wt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[q],attrs:AM,ngContentSelectors:MM,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(ii(),ye(0,"span",0),yn(1),Ce(),Qn(2,"span",1)(3,"span",2)),2&e&&(ot(2),Wt("mat-button-ripple-round",r.isRoundButton||r.isIconButton),It("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Qd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),f4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[IM,Mt,Mt]}),n})();const p4=["*",[["mat-toolbar-row"]]],m4=["*","mat-toolbar-row"],g4=wM(class{constructor(n){this._elementRef=n}});let v4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=R({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),y4=(()=>{class n extends g4{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(_(Ue),_(Wi),_(Ne))},n.\u0275cmp=nt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&Yt(i,v4,5),2&e){let o;Ye(o=Je())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&Wt("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[q],ngContentSelectors:m4,decls:2,vars:0,template:function(e,r){1&e&&(ii(p4),yn(0),yn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),_4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[Mt,Mt]}),n})();function Ov(n){return n&&"function"==typeof n.connect&&!(n instanceof Gg)}class kM{applyChanges(t,e,r,i,o){t.forEachOperation((s,a,c)=>{let l,u;if(null==s.previousIndex){const d=r(s,a,c);l=e.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else null==c?(e.remove(a),u=3):(l=e.get(a),e.move(l,c),u=2);o&&o({context:l?.context,operation:u,record:s})})}detach(){}}const Kc=new N("_ViewRepeater");let C4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[Mt,Mt]}),n})(),x4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[bM,IM,Mt,DM,gm,bM,Mt,DM,C4]}),n})();const P4=["*",[["mat-card-footer"]]],F4=["*","mat-card-footer"];let L4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=R({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),U4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=R({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),B4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=R({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),V4=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(_(fo,8))},n.\u0275cmp=nt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&Wt("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:F4,decls:2,vars:0,template:function(e,r){1&e&&(ii(P4),yn(0),yn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),H4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[Mt,Mt]}),n})(),K4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[Mt,Mt]}),n})();const Qc={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Qc;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new nn(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=Qc;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Qc;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Q4 extends Dv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class W4 extends Iv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Qc.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(Qc.cancelAnimationFrame(e),t._scheduled=void 0)}});let Pv,J4=1;const Zd={};function BM(n){return n in Zd&&(delete Zd[n],!0)}const Z4={setImmediate(n){const t=J4++;return Zd[t]=!0,Pv||(Pv=Promise.resolve()),Pv.then(()=>BM(t)&&n()),t},clearImmediate(n){BM(n)}},{setImmediate:X4,clearImmediate:e3}=Z4,Xd={setImmediate(...n){const{delegate:t}=Xd;return(t?.setImmediate||X4)(...n)},clearImmediate(n){const{delegate:t}=Xd;return(t?.clearImmediate||e3)(n)},delegate:void 0};new class n3 extends Dv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class t3 extends Iv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Xd.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(Xd.clearImmediate(e),t._scheduled=void 0)}});function c3(n,t=Av){return function o3(n){return ct((t,e)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const l=i;i=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(tt(e,l=>{r=!0,i=l,o||An(n(l)).subscribe(o=tt(e,a,c))},()=>{s=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>function a3(n=0,t,e=b$){let r=-1;return null!=t&&(wy(t)?e=t:r=t),new Xe(i=>{let o=function s3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,t))}let u3=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new et,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(c3(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(S(Wi),S(ke),S(Ne,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({}),n})(),d3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[Wd,VM,Wd,VM]}),n})();const f3=[[["caption"]],[["colgroup"],["col"]]],p3=["caption","colgroup, col"];function Fv(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Gr(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Zs=new N("CDK_TABLE");let Xs=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(_(Ft))},n.\u0275dir=R({type:n,selectors:[["","cdkCellDef",""]]}),n})(),ea=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(_(Ft))},n.\u0275dir=R({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),eh=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(_(Ft))},n.\u0275dir=R({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class y3{}const _3=Fv(y3);let Ci=(()=>{class n extends _3{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const r=this._stickyEnd;this._stickyEnd=Gr(e),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(_(Zs,8))},n.\u0275dir=R({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,r,i){if(1&e&&(Yt(i,Xs,5),Yt(i,ea,5),Yt(i,eh,5)),2&e){let o;Ye(o=Je())&&(r.cell=o.first),Ye(o=Je())&&(r.headerCell=o.first),Ye(o=Je())&&(r.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[de([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),q]}),n})();class Lv{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let Uv=(()=>{class n extends Lv{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(_(Ci),_(Ue))},n.\u0275dir=R({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[q]}),n})(),Bv=(()=>{class n extends Lv{constructor(e,r){if(super(e,r),1===e._table?._elementRef.nativeElement.nodeType){const i=e._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(_(Ci),_(Ue))},n.\u0275dir=R({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[q]}),n})();class jM{constructor(){this.tasks=[],this.endTasks=[]}}const Vv=new N("_COALESCED_STYLE_SCHEDULER");let zM=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new et}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new jM,this._getScheduleObservable().pipe(In(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new jM;for(const r of e.tasks)r();for(const r of e.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?be(Promise.resolve(void 0)):this._ngZone.onStable.pipe(qi(1))}}return n.\u0275fac=function(e){return new(e||n)(S(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Hv=(()=>{class n{constructor(e,r){this.template=e,this._differs=r}ngOnChanges(e){if(!this._columnsDiffer){const r=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Yc?e.headerCell.template:this instanceof Jc?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(_(Ft),_(si))},n.\u0275dir=R({type:n,features:[qt]}),n})();class C3 extends Hv{}const w3=Fv(C3);let Yc=(()=>{class n extends w3{constructor(e,r,i){super(e,r),this._table=i}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(_(Ft),_(si),_(Zs,8))},n.\u0275dir=R({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[q,qt]}),n})();class b3 extends Hv{}const E3=Fv(b3);let Jc=(()=>{class n extends E3{constructor(e,r,i){super(e,r),this._table=i}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(_(Ft),_(si),_(Zs,8))},n.\u0275dir=R({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[q,qt]}),n})(),th=(()=>{class n extends Hv{constructor(e,r,i){super(e,r),this._table=i}}return n.\u0275fac=function(e){return new(e||n)(_(Ft),_(si),_(Zs,8))},n.\u0275dir=R({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[q]}),n})(),wi=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(_(Qt))},n.\u0275dir=R({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),jv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=nt({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&Ir(0,0)},dependencies:[wi],encapsulation:2}),n})(),Gv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=nt({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&Ir(0,0)},dependencies:[wi],encapsulation:2}),n})(),nh=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(_(Ft))},n.\u0275dir=R({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const GM=["top","bottom","left","right"];class S3{constructor(t,e,r,i,o=!0,s=!0,a){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const r=[];for(const i of t)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let o=0;o<i.children.length;o++)r.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,e)})}updateStickyColumns(t,e,r,i=!0){if(!t.length||!this._isBrowser||!e.some(h=>h)&&!r.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],s=o.children.length,a=this._getCellWidths(o,i),c=this._getStickyStartColumnPositions(a,e),l=this._getStickyEndColumnPositions(a,r),u=e.lastIndexOf(!0),d=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,f=h?"right":"left",p=h?"left":"right";for(const m of t)for(let g=0;g<s;g++){const y=m.children[g];e[g]&&this._addStickyStyle(y,f,c[g],g===u),r[g]&&this._addStickyStyle(y,p,l[g],g===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:a.slice(0,u+1).map((m,g)=>e[g]?m:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:a.slice(d).map((m,g)=>r[g+d]?m:null).reverse()}))})}stickRows(t,e,r){if(!this._isBrowser)return;const i="bottom"===r?t.slice().reverse():t,o="bottom"===r?e.slice().reverse():e,s=[],a=[],c=[];for(let u=0,d=0;u<i.length;u++){if(!o[u])continue;s[u]=d;const h=i[u];c[u]=this._isNativeHtmlTable?Array.from(h.children):[h];const f=h.getBoundingClientRect().height;d+=f,a[u]=f}const l=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let u=0;u<i.length;u++){if(!o[u])continue;const d=s[u],h=u===l;for(const f of c[u])this._addStickyStyle(f,r,d,h)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:c})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const r=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const i of e)t.style[i]="",t.classList.remove(this._borderCellCss[i]);GM.some(i=>-1===e.indexOf(i)&&t.style[i])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,r,i){t.classList.add(this._stickCellCss),i&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${r}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let r=0;for(const i of GM)t.style[i]&&(r+=e[i]);return r?`${r}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=t.children;for(let o=0;o<i.length;o++)r.push(i[o].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(t,e){const r=[];let i=0;for(let o=0;o<t.length;o++)e[o]&&(r[o]=i,i+=t[o]);return r}_getStickyEndColumnPositions(t,e){const r=[];let i=0;for(let o=t.length;o>0;o--)e[o]&&(r[o]=i,i+=t[o]);return r}}const qv=new N("CDK_SPL");let rh=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(_(Qt),_(Ue))},n.\u0275dir=R({type:n,selectors:[["","rowOutlet",""]]}),n})(),ih=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(_(Qt),_(Ue))},n.\u0275dir=R({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),oh=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(_(Qt),_(Ue))},n.\u0275dir=R({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),sh=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(_(Qt),_(Ue))},n.\u0275dir=R({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),ah=(()=>{class n{constructor(e,r,i,o,s,a,c,l,u,d,h,f){this._differs=e,this._changeDetectorRef=r,this._elementRef=i,this._dir=s,this._platform=c,this._viewRepeater=l,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=h,this._ngZone=f,this._onDestroy=new et,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new $e,this.viewChange=new Tn({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Gr(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Gr(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(In(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Ov(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,r,(i,o,s)=>this._getEmbeddedViewArgs(i.item,s),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&ke.isInAngularZone()?this._ngZone.onStable.pipe(qi(1),In(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=e.length?"":"none");const o=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=e.length?"":"none");const o=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{const s=[];for(let a=0;a<r.length;a++)this._renderRows[a].rowDef===o&&s.push(r[a]);this._addStickyColumnStyles(s,o)}),i.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let o=this._data[i];const s=this._getRenderRowsForData(o,i,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let c=s[a];const l=this._cachedRenderRowsMap.get(c.data);l.has(c.rowDef)?l.get(c.rowDef).push(c):l.set(c.rowDef,[c]),e.push(c)}}return e}_getRenderRowsForData(e,r,i){return this._getRowDefs(e,r).map(s=>{const a=i&&i.has(s)?i.get(s):[];if(a.length){const c=a.shift();return c.dataIndex=r,c}return{data:e,rowDef:s,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ch(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=ch(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ch(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ch(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(s,a)=>s||!!a.getColumnsDiff(),r=this._rowDefs.reduce(e,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(e,!1);i&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),r||i||o}_switchDataSource(e){this._data=[],Ov(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Ov(this.dataSource)?e=this.dataSource.connect(this):function h3(n){return!!n&&(n instanceof Xe||Fe(n.lift)&&Fe(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=V(this.dataSource)),this._renderChangeSubscription=e.pipe(In(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,r)=>this._renderRow(this._headerRowOutlet,e,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,r)=>this._renderRow(this._footerRowOutlet,e,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,r){const i=Array.from(r.columns||[]).map(a=>this._columnDefsByName.get(a)),o=i.map(a=>a.sticky),s=i.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const r=[];for(let i=0;i<e.viewContainer.length;i++){const o=e.viewContainer.get(i);r.push(o.rootNodes[0])}return r}_getRowDefs(e,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(r,e));else{let o=this._rowDefs.find(s=>s.when&&s.when(r,e))||this._defaultRowDef;o&&i.push(o)}return i}_getEmbeddedViewArgs(e,r){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:r}}_renderRow(e,r,i,o={}){const s=e.viewContainer.createEmbeddedView(r.template,o,i);return this._renderCellTemplateForItem(r,o),s}_renderCellTemplateForItem(e,r){for(let i of this._getCellTemplates(e))wi.mostRecentCellOutlet&&wi.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let r=0,i=e.length;r<i;r++){const s=e.get(r).context;s.count=i,s.first=0===r,s.last=r===i-1,s.even=r%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[r].dataIndex,s.renderIndex=r):s.index=this._renderRows[r].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,r=>{const i=this._columnDefsByName.get(r);return e.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const o=this._document.createElement(i.tag);o.setAttribute("role","rowgroup");for(const s of i.outlets)o.appendChild(s.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new S3(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:V()).pipe(In(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const o=i.createEmbeddedView(e.templateRef),s=o.rootNodes[0];1===o.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(e){return new(e||n)(_(si),_(po),_(Ue),Jo("role"),_(Q$,8),_(Ne),_(Wi),_(Kc),_(Vv),_(u3),_(qv,12),_(ke,8))},n.\u0275cmp=nt({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,r,i){if(1&e&&(Yt(i,nh,5),Yt(i,Ci,5),Yt(i,th,5),Yt(i,Yc,5),Yt(i,Jc,5)),2&e){let o;Ye(o=Je())&&(r._noDataRow=o.first),Ye(o=Je())&&(r._contentColumnDefs=o),Ye(o=Je())&&(r._contentRowDefs=o),Ye(o=Je())&&(r._contentHeaderRowDefs=o),Ye(o=Je())&&(r._contentFooterRowDefs=o)}},viewQuery:function(e,r){if(1&e&&(kr(rh,7),kr(ih,7),kr(oh,7),kr(sh,7)),2&e){let i;Ye(i=Je())&&(r._rowOutlet=i.first),Ye(i=Je())&&(r._headerRowOutlet=i.first),Ye(i=Je())&&(r._footerRowOutlet=i.first),Ye(i=Je())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,r){2&e&&Wt("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[de([{provide:Zs,useExisting:n},{provide:Kc,useClass:kM},{provide:Vv,useClass:zM},{provide:qv,useValue:null}])],ngContentSelectors:p3,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(ii(f3),yn(0),yn(1,1),Ir(2,0)(3,1)(4,2)(5,3))},dependencies:[rh,ih,oh,sh],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function ch(n,t){return n.concat(Array.from(t))}let I3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[d3]}),n})();const D3=[[["caption"]],[["colgroup"],["col"]]],A3=["caption","colgroup, col"];let $M=(()=>{class n extends ah{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ee(n)))(r||n)}}(),n.\u0275cmp=nt({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,r){2&e&&Wt("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[de([{provide:Kc,useClass:kM},{provide:ah,useExisting:n},{provide:Zs,useExisting:n},{provide:Vv,useClass:zM},{provide:qv,useValue:null}]),q],ngContentSelectors:A3,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(ii(D3),yn(0),yn(1,1),Ir(2,0)(3,1)(4,2)(5,3))},dependencies:[rh,ih,oh,sh],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),$v=(()=>{class n extends Xs{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ee(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["","matCellDef",""]],features:[de([{provide:Xs,useExisting:n}]),q]}),n})(),Kv=(()=>{class n extends ea{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ee(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["","matHeaderCellDef",""]],features:[de([{provide:ea,useExisting:n}]),q]}),n})(),Wv=(()=>{class n extends Ci{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ee(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[de([{provide:Ci,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),q]}),n})(),Qv=(()=>{class n extends Uv{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ee(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[q]}),n})(),Yv=(()=>{class n extends Bv{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ee(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[q]}),n})(),KM=(()=>{class n extends Yc{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ee(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[de([{provide:Yc,useExisting:n}]),q]}),n})(),WM=(()=>{class n extends th{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ee(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[de([{provide:th,useExisting:n}]),q]}),n})(),QM=(()=>{class n extends jv{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ee(n)))(r||n)}}(),n.\u0275cmp=nt({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[de([{provide:jv,useExisting:n}]),q],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&Ir(0,0)},dependencies:[wi],encapsulation:2}),n})(),YM=(()=>{class n extends Gv{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ee(n)))(r||n)}}(),n.\u0275cmp=nt({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[de([{provide:Gv,useExisting:n}]),q],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&Ir(0,0)},dependencies:[wi],encapsulation:2}),n})(),U3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[I3,Mt,Mt]}),n})();const Rt=(n,t,e,r)=>{r.push({claim:n,value:t,description:e})},Jv=n=>`${n} - [${new Date(1e3*n).toString()}]`;function H3(n,t){1&n&&(ye(0,"mat-card",4)(1,"mat-card-title"),qe(2,"Angular single-page application built with MSAL Angular"),Ce(),ye(3,"mat-card-subtitle"),qe(4,"Sign-in with Azure AD B2C and get an ID Token"),Ce(),ye(5,"mat-card-content"),qe(6,"This sample demonstrates how to configure MSAL Angular to sign-in, sign-out and protect a route. "),Ce()())}function j3(n,t){1&n&&(ye(0,"p",5),qe(1," See below the claims in your "),ye(2,"strong"),qe(3," ID token "),Ce(),qe(4,". For more information, visit: "),ye(5,"span")(6,"a",6),qe(7," docs.microsoft.com "),Ce()()())}function z3(n,t){1&n&&(ye(0,"th",15),qe(1," Claim "),Ce())}function G3(n,t){if(1&n&&(ye(0,"td",16),qe(1),Ce()),2&n){const e=t.$implicit;ot(1),Rr(" ",e.claim," ")}}function q3(n,t){1&n&&(ye(0,"th",15),qe(1," Value "),Ce())}function $3(n,t){if(1&n&&(ye(0,"td",16),qe(1),Ce()),2&n){const e=t.$implicit;ot(1),Rr(" ",e.value," ")}}function K3(n,t){1&n&&(ye(0,"th",15),qe(1," Description "),Ce())}function W3(n,t){if(1&n&&(ye(0,"td",16),qe(1),Ce()),2&n){const e=t.$implicit;ot(1),Rr(" ",e.description," ")}}function Q3(n,t){1&n&&Qn(0,"tr",17)}function Y3(n,t){1&n&&Qn(0,"tr",18)}function J3(n,t){if(1&n&&(ye(0,"table",7),xi(1,8),ut(2,z3,2,0,"th",9),ut(3,G3,2,1,"td",10),Pi(),xi(4,11),ut(5,q3,2,0,"th",9),ut(6,$3,2,1,"td",10),Pi(),xi(7,12),ut(8,K3,2,0,"th",9),ut(9,W3,2,1,"td",10),Pi(),ut(10,Q3,1,0,"tr",13),ut(11,Y3,1,0,"tr",14),Ce()),2&n){const e=Dr();It("dataSource",e.dataSource),ot(10),It("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),ot(1),It("matRowDefColumns",e.displayedColumns)}}const Z3=[{path:"guarded",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=nt({type:n,selectors:[["app-guarded"]],decls:2,vars:0,template:function(e,r){1&e&&(ye(0,"p"),qe(1,"This component is guarded. You can see this because you're signed-in. "),Ce())}}),n})(),canActivate:[wv]},{path:"auth",component:tM},{path:"",component:(()=>{class n{constructor(e,r){this.authService=e,this.msalBroadcastService=r,this.loginDisplay=!1,this.displayedColumns=["claim","value","description"],this.dataSource=[]}ngOnInit(){this.msalBroadcastService.msalSubject$.pipe(Lt(e=>e.eventType===B.LOGIN_SUCCESS)).subscribe(e=>{this.authService.instance.setActiveAccount(e.payload.account)}),this.msalBroadcastService.inProgress$.pipe(Lt(e=>e===wt.None)).subscribe(()=>{this.setLoginDisplay(),this.getClaims(this.authService.instance.getActiveAccount()?.idTokenClaims)})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}getClaims(e){if(e){const r=(n=>{const t=[];return Object.keys(n).map(e=>{switch(e){case"aud":Rt(e,n[e],"Identifies the intended recipient of the token. In ID tokens, the audience is your app's Application ID, assigned to your app in the Azure portal.",t);break;case"iss":Rt(e,n[e],"Identifies the issuer, or authorization server that constructs and returns the token. It also identifies the Azure AD tenant for which the user was authenticated. If the token was issued by the v2.0 endpoint, the URI will end in /v2.0.",t);break;case"iat":Rt(e,Jv(+n[e]),'"Issued At" indicates the timestamp (UNIX timestamp) when the authentication for this user occurred.',t);break;case"nbf":Rt(e,Jv(+n[e]),"The nbf (not before) claim dictates the time (as UNIX timestamp) before which the JWT must not be accepted for processing.",t);break;case"exp":Rt(e,Jv(+n[e]),"The exp (expiration time) claim dictates the expiration time (as UNIX timestamp) on or after which the JWT must not be accepted for processing. It's important to note that in certain circumstances, a resource may reject the token before this time. For example, if a change in authentication is required or a token revocation has been detected.",t);break;case"name":Rt(e,n[e],"The name claim provides a human-readable value that identifies the subject of the token. The value isn't guaranteed to be unique, it can be changed, and it's designed to be used only for display purposes. The 'profile' scope is required to receive this claim.",t);break;case"preferred_username":Rt(e,n[e],"The primary username that represents the user. It could be an email address, phone number, or a generic username without a specified format. Its value is mutable and might change over time. Since it is mutable, this value must not be used to make authorization decisions. It can be used for username hints, however, and in human-readable UI as a username. The profile scope is required in order to receive this claim.",t);break;case"nonce":Rt(e,n[e],"The nonce matches the parameter included in the original /authorize request to the IDP.",t);break;case"oid":Rt(e,n[e],"The oid (user object id) is the only claim that should be used to uniquely identify a user in an Azure AD tenant.",t);break;case"tid":Rt(e,n[e],"The id of the tenant where this application resides. You can use this claim to ensure that only users from the current Azure AD tenant can access this app.",t);break;case"upn":Rt(e,n[e],"upn (user principal name) might be unique amongst the active set of users in a tenant but tend to get reassigned to new employees as employees leave the organization and others take their place or might change to reflect a personal change like marriage.",t);break;case"email":Rt(e,n[e],"Email might be unique amongst the active set of users in a tenant but tend to get reassigned to new employees as employees leave the organization and others take their place.",t);break;case"acct":Rt(e,n[e],"Available as an optional claim, it lets you know what the type of user (homed, guest) is. For example, for an individual\u2019s access to their data you might not care for this claim, but you would use this along with tenant id (tid) to control access to say a company-wide dashboard to just employees (homed users) and not contractors (guest users).",t);break;case"sid":Rt(e,n[e],"Session ID, used for per-session user sign-out.",t);break;case"sub":Rt(e,n[e],"The sub claim is a pairwise identifier - it is unique to a particular application ID. If a single user signs into two different apps using two different client IDs, those apps will receive two different values for the subject claim.",t);break;case"ver":Rt(e,n[e],"Version of the token issued by the Microsoft identity platform",t);break;case"login_hint":Rt(e,n[e],"An opaque, reliable login hint claim. This claim is the best value to use for the login_hint OAuth parameter in all flows to get SSO.",t);break;case"idtyp":Rt(e,n[e],"Value is app when the token is an app-only token. This is the most accurate way for an API to determine if a token is an app token or an app+user token",t);break;case"uti":case"rh":break;default:Rt(e,n[e],"",t)}}),t})(e);this.dataSource=[...r]}}}return n.\u0275fac=function(e){return new(e||n)(_(Po),_(Hc))},n.\u0275cmp=nt({type:n,selectors:[["app-home"]],decls:5,vars:3,consts:[["class","card-section",4,"ngIf"],["class","text-center",4,"ngIf"],["id","table-container"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[1,"card-section"],[1,"text-center"],["href","https://learn.microsoft.com/azure/active-directory-b2c/tokens-overview"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","claim"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["matColumnDef","description"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(ut(0,H3,7,0,"mat-card",0),Qn(1,"br"),ut(2,j3,8,0,"p",1),ye(3,"div",2),ut(4,J3,12,4,"table",3),Ce()),2&e&&(It("ngIf",!r.loginDisplay),ot(2),It("ngIf",r.loginDisplay),ot(2),It("ngIf",r.loginDisplay))},dependencies:[Su,V4,L4,U4,B4,$M,Kv,KM,Wv,$v,WM,Qv,Yv,QM,YM],styles:["#table-container[_ngcontent-%COMP%]{overflow:auto}table[_ngcontent-%COMP%]{margin:3% auto auto;width:70%}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{padding:8px 8px 8px 0}p[_ngcontent-%COMP%]{text-align:center}.card-section[_ngcontent-%COMP%]{margin:10%;padding:5%}"]}),n})()}];let X3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Re({imports:[ZA.forRoot(Z3,{initialNavigation:Ze.isInIframe()||Ze.isInPopup()?"disabled":"enabledNonBlocking"}),ZA]}),n})();const eK=window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1,Dn_names_signUpSignIn="B2C_1_susi_v2",Dn_names_resetPassword="B2C_1_reset_v3",Dn_names_editProfile="B2C_1_edit_profile_v2",Dn_authorities_signUpSignIn={authority:"https://fabrikamb2c.b2clogin.com/fabrikamb2c.onmicrosoft.com/b2c_1_susi_v2"},Dn_authorities_resetPassword={authority:"https://fabrikamb2c.b2clogin.com/fabrikamb2c.onmicrosoft.com/B2C_1_reset_v3"},Dn_authorities_editProfile={authority:"https://fabrikamb2c.b2clogin.com/fabrikamb2c.onmicrosoft.com/b2c_1_edit_profile_v2"},tK={auth:{clientId:"9067c884-9fa6-414f-9aa4-a565b1cb46be",authority:Dn_authorities_signUpSignIn.authority,knownAuthorities:["fabrikamb2c.b2clogin.com"],redirectUri:"/auth",postLogoutRedirectUri:"/"},cache:{cacheLocation:ht.LocalStorage,storeAuthStateInCookie:eK},system:{loggerOptions:{loggerCallback(n,t){console.log(t)},logLevel:bt.Verbose,piiLoggingEnabled:!1}}},nK={scopes:[]};function rK(n,t){if(1&n){const e=Jl();ye(0,"button",9),Nt("click",function(){return pl(e),ml(Dr().editProfile())}),qe(1,"Edit Profile"),Ce()}}function iK(n,t){if(1&n){const e=Jl();ye(0,"button",10),Nt("click",function(){return pl(e),ml(Dr().login())}),qe(1,"Login"),Ce()}}function oK(n,t){if(1&n){const e=Jl();ye(0,"button",11),Nt("click",function(){return pl(e),ml(Dr().logout())}),qe(1,"Logout"),Ce()}}function sK(n,t){1&n&&Qn(0,"router-outlet")}function aK(n,t){1&n&&(ye(0,"footer")(1,"mat-toolbar")(2,"div",12),qe(3," How did we do? "),ye(4,"a",13),qe(5," Share your experience with us!"),Ce()()()())}const cK=function(){return["guarded"]};let lK=(()=>{class n{constructor(e,r,i){this.msalGuardConfig=e,this.authService=r,this.msalBroadcastService=i,this.title="Microsoft identity platform",this.isIframe=!1,this.loginDisplay=!1,this._destroying$=new et}ngOnInit(){this.isIframe=window!==window.parent&&!window.opener,this.setLoginDisplay(),this.authService.instance.enableAccountStorageEvents(),this.msalBroadcastService.msalSubject$.pipe(Lt(e=>e.eventType===B.ACCOUNT_ADDED||e.eventType===B.ACCOUNT_REMOVED)).subscribe(e=>{0===this.authService.instance.getAllAccounts().length?window.location.pathname="/":this.setLoginDisplay()}),this.msalBroadcastService.inProgress$.pipe(Lt(e=>e===wt.None),In(this._destroying$)).subscribe(()=>{this.setLoginDisplay(),this.checkAndSetActiveAccount()}),this.msalBroadcastService.msalSubject$.pipe(Lt(e=>e.eventType===B.LOGIN_SUCCESS||e.eventType===B.ACQUIRE_TOKEN_SUCCESS||e.eventType===B.SSO_SILENT_SUCCESS),In(this._destroying$)).subscribe(e=>{let r=e.payload,i=r.idTokenClaims;if((i.acr===Dn_names_signUpSignIn||i.tfp===Dn_names_signUpSignIn)&&this.authService.instance.setActiveAccount(r.account),i.acr===Dn_names_editProfile||i.tfp===Dn_names_editProfile){const o=this.authService.instance.getAllAccounts().find(a=>a.idTokenClaims?.oid===i.oid&&a.idTokenClaims?.sub===i.sub&&(a.idTokenClaims.acr===Dn_names_signUpSignIn||a.idTokenClaims.tfp===Dn_names_signUpSignIn));this.authService.ssoSilent({authority:Dn_authorities_signUpSignIn.authority,account:o})}return i.acr!==Dn_names_resetPassword&&i.tfp!==Dn_names_resetPassword||this.login({authority:Dn_authorities_signUpSignIn.authority,prompt:Bt.LOGIN,scopes:[]}),e}),this.msalBroadcastService.msalSubject$.pipe(Lt(e=>e.eventType===B.LOGIN_FAILURE||e.eventType===B.ACQUIRE_TOKEN_FAILURE),In(this._destroying$)).subscribe(e=>{e.error&&e.error.message.indexOf("AADB2C90118")>-1&&this.login({authority:Dn_authorities_resetPassword.authority,scopes:[]})})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}checkAndSetActiveAccount(){if(!this.authService.instance.getActiveAccount()&&this.authService.instance.getAllAccounts().length>0){let r=this.authService.instance.getAllAccounts();this.authService.instance.setActiveAccount(r[0])}}login(e){this.msalGuardConfig.interactionType===x.Popup?this.msalGuardConfig.authRequest?this.authService.loginPopup({...this.msalGuardConfig.authRequest,...e}).subscribe(r=>{this.authService.instance.setActiveAccount(r.account)}):this.authService.loginPopup(e).subscribe(r=>{this.authService.instance.setActiveAccount(r.account)}):this.authService.loginRedirect(this.msalGuardConfig.authRequest?{...this.msalGuardConfig.authRequest,...e}:e)}logout(){this.authService.logout()}editProfile(){this.login({authority:Dn_authorities_editProfile.authority,scopes:[]})}ngOnDestroy(){this._destroying$.next(void 0),this._destroying$.complete()}}return n.\u0275fac=function(e){return new(e||n)(_(Gd),_(Po),_(Hc))},n.\u0275cmp=nt({type:n,selectors:[["app-root"]],decls:12,vars:8,consts:[["color","primary"],["href","/",1,"title"],[1,"toolbar-spacer"],["mat-button","",3,"routerLink"],["mat-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],[1,"container"],[4,"ngIf"],["mat-button","",3,"click"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"footer-text"],["href","https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR73pcsbpbxNJuZCMKN0lURpUOU5PNlM4MzRRV0lETkk2ODBPT0NBTEY5MCQlQCN0PWcu","target","_blank"]],template:function(e,r){1&e&&(ye(0,"mat-toolbar",0)(1,"a",1),qe(2),Ce(),Qn(3,"div",2),ye(4,"a",3),qe(5,"Guarded Page"),Ce(),ut(6,rK,2,0,"button",4),ut(7,iK,2,0,"button",5),ut(8,oK,2,0,"button",6),Ce(),ye(9,"div",7),ut(10,sK,1,0,"router-outlet",8),Ce(),ut(11,aK,6,0,"footer",8)),2&e&&(ot(2),wp(r.title),ot(2),It("routerLink",nE(7,cK)),ot(2),It("ngIf",r.loginDisplay),ot(1),It("ngIf",!r.loginDisplay),ot(1),It("ngIf",r.loginDisplay),ot(2),It("ngIf",!r.isIframe),ot(1),It("ngIf",r.loginDisplay))},dependencies:[Su,sv,Vd,RM,h4,y4],styles:[".toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a.title[_ngcontent-%COMP%]{color:#fff}footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;color:#fff;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:small;text-align:center;flex:1 1 auto}"]}),n})();function uK(){return new Az(tK)}function dK(){return{interactionType:x.Redirect,authRequest:nK}}let hK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Oe({type:n,bootstrap:[lK,tM]}),n.\u0275inj=Re({providers:[{provide:zd,useFactory:uK},{provide:Gd,useFactory:dK},Po,wv,Hc],imports:[XS,e2,X3,f4,_4,x4,H4,K4,U3,Ej,cj,t$]}),n})();(function o1(){XE=!1})(),qB().bootstrapModule(hK).catch(n=>console.error(n))}},Fe=>{Fe(Fe.s=6)}]);